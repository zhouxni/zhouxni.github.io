<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x232186=_0x386e;function _0xa71b(){var t=["WPZcPmozWOFcMdtdIbtdRbihW7jM","W7/dKmoYWOCdWPddPSoPCSkB","WP/cRCoFWOdcMJVcTs/dKc0SW4a","W7BcPSo7W5PjtCkPW5WHzmkh","W6pcK8kRadCTWOeUA8ksWPmMkG","W5GNWPeZW63cPCoAhCoNxq","W7ZcI8kdW7CPWOFdRq","oaRdIcGcWQFcPWO5","tmoSW5eWWRBdS8k3WRu","WQn4W6ldOI16aSkAW5u","WOmZxIpdO8k3WPa","mbFcNJK4","WPFdRCott8oQW5pdH8oKW4zpWOy","k3/cQGpcQSkQW5hcIuz5uSoQWPe","BCkpWOpdMvxdHSkYemkLxmkHEq","W7NcHJenWQHXWPxdVmoqW7Dy","W6RdUs3dPd90WPDRW7VcIMVdVaG","isS8sCoJWPBdNCoRCmoEoWS","W7BcPCo/W5HjrmkEW50cD8km","z0baWOK3W4xcHL3cGq","W7FcLbXdnbxcO8klWOPoWOb6jG","W54QWPS2WRVdOSoXkCofvSo8W6K","BCkhWOxcSXdcVmk9dCkn","C8k5WRv+jSogWPxcMsDWWOddVca","WP9zaCo2w8owW78Wk8o8i8k8tgCwgYynjSoKW5WyAhBdIsO","W7rJFs8fn8om","WRZdGCoRCxD8W58","ux1Mg8kLW5BdKCokqG"];return(_0xa71b=function(){return t})()}function _0x386e(o,t){var s=_0xa71b();return(_0x386e=function(t,n){var d=s[t-=425];void 0===_0x386e.EoiuOK&&(_0x386e.VhohkJ=function(t,n){var d,e=[],o=0,s="";for(t=(t=>{for(var n,d,e="",o="",s=0,a=0;d=t.charAt(a++);~d&&(n=s%4?64*n+d:d,s++%4)&&(e+=String.fromCharCode(255&n>>(-2*s&6))))d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(d);for(var r=0,c=e.length;r<c;r++)o+="%"+("00"+e.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(o)})(t),a=0;a<256;a++)e[a]=a;for(a=0;a<256;a++)o=(o+e[a]+n.charCodeAt(a%n.length))%256,d=e[a],e[a]=e[o],e[o]=d;for(var a=0,o=0,r=0;r<t.length;r++)d=e[a=(a+1)%256],e[a]=e[o=(o+e[a])%256],e[o]=d,s+=String.fromCharCode(t.charCodeAt(r)^e[(e[a]+e[o])%256]);return s},o=arguments,_0x386e.EoiuOK=!0);var t=t+s[0],e=o[t];return e?d=e:(void 0===_0x386e.RgjRNq&&(_0x386e.RgjRNq=!0),d=_0x386e.VhohkJ(d,n),o[t]=d),d})(o,t)}if((()=>{for(var t=_0x386e,n=_0xa71b();;)try{if(921651==-parseInt(t(436,"$3dW"))+parseInt(t(426,"Y!6A"))/2*(-parseInt(t(437,"4v66"))/3)+-parseInt(t(435,"EJ&G"))/4*(-parseInt(t(447,"joj2"))/5)+parseInt(t(446,"#FuW"))/6*(parseInt(t(425,"s7Ao"))/7)+parseInt(t(449,"4v66"))/8*(-parseInt(t(434,"joj2"))/9)+parseInt(t(429,"TlPD"))/10+parseInt(t(432,"*RdV"))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}})(),localStorage[_0x232186(442,"fo6H")](_0x232186(443,"hRs@"))!=_0x232186(427,"4MA*"))throw window[_0x232186(452,"rWzg")][_0x232186(441,"BoWe")](_0x232186(440,"xsHL")),Error();document.title="react-native-webview 属性和方法",document.getElementById("article").innerHTML='<div><p><code>react-native-webview</code> 是 React Native 中用于嵌入 Web 内容的强大组件，提供了丰富的属性和方法。以下是 <strong>完整分类整理</strong>  （基于最新稳定版本）：</p>\n<hr>\n<h3><strong>一、核心属性（Props）</strong></h3>\n<h4><strong>1. 基础控制</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>source</code></td>\n<td><code>{uri}</code> 或 <code>{html}</code></td>\n<td>加载远程URL或本地HTML</td>\n</tr>\n<tr>\n<td><code>javaScriptEnabled</code></td>\n<td>boolean</td>\n<td>是否启用JS（默认<code>true</code>）</td>\n</tr>\n<tr>\n<td><code>domStorageEnabled</code></td>\n<td>boolean</td>\n<td>是否启用DOM存储（localStorage）</td>\n</tr>\n<tr>\n<td><code>thirdPartyCookiesEnabled</code></td>\n<td>boolean</td>\n<td>是否允许第三方Cookie（仅Android）</td>\n</tr>\n<tr>\n<td><code>userAgent</code></td>\n<td>string</td>\n<td>自定义User-Agent</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>2. 样式与布局</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>injectedJavaScript</code></td>\n<td>string</td>\n<td>注入的JS代码（页面加载后执行）</td>\n</tr>\n<tr>\n<td><code>injectedJavaScriptBeforeContentLoaded</code></td>\n<td>string</td>\n<td>在内容加载前注入的JS</td>\n</tr>\n<tr>\n<td><code>injectedJavascript</code></td>\n<td>string</td>\n<td>（已废弃，改用驼峰命名）</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>3. 导航控制</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>onNavigationStateChange</code></td>\n<td>function</td>\n<td>导航状态变化回调</td>\n</tr>\n<tr>\n<td><code>onLoadStart</code></td>\n<td>function</td>\n<td>开始加载时触发</td>\n</tr>\n<tr>\n<td><code>onLoadEnd</code></td>\n<td>function</td>\n<td>加载完成/失败时触发</td>\n</tr>\n<tr>\n<td><code>onError</code></td>\n<td>function</td>\n<td>加载错误回调</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>4. 安全与权限</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>originWhitelist</code></td>\n<td>string[]</td>\n<td>允许加载的URL白名单</td>\n</tr>\n<tr>\n<td><code>mixedContentMode</code></td>\n<td>`\'never\'</td>\n<td>\'always\'</td>\n</tr>\n<tr>\n<td><code>allowFileAccess</code></td>\n<td>boolean</td>\n<td>是否允许访问本地文件（仅Android）</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>5. 缓存与性能</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>cacheEnabled</code></td>\n<td>boolean</td>\n<td>是否启用缓存</td>\n</tr>\n<tr>\n<td><code>cacheMode</code></td>\n<td>`\'LOAD_DEFAULT\'</td>\n<td>\'LOAD_CACHE_ELSE_NETWORK\'</td>\n</tr>\n<tr>\n<td><code>applicationNameForUserAgent</code></td>\n<td>string</td>\n<td>追加到User-Agent的应用名</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>二、回调方法（Callbacks）</strong></h3>\n<h4><strong>1. 事件监听</strong></h4>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>参数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>onMessage</code></td>\n<td><code>{nativeEvent: {data}}</code></td>\n<td>接收来自网页的<code>postMessage</code></td>\n</tr>\n<tr>\n<td><code>onScroll</code></td>\n<td><code>{nativeEvent: {contentOffset}}</code></td>\n<td>滚动事件</td>\n</tr>\n<tr>\n<td><code>onContentProcessDidTerminate</code></td>\n<td>-</td>\n<td>WebView进程崩溃时（仅iOS）</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>2. 加载状态</strong></h4>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>触发时机</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>onLoadProgress</code></td>\n<td>加载进度变化（<code>nativeEvent.progress</code>）</td>\n</tr>\n<tr>\n<td><code>onHttpError</code></td>\n<td>HTTP错误（状态码≥400）</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>三、实例方法（Ref Methods）</strong></h3>\n<p>通过<code>ref</code>调用的方法：</p>\n<h4><strong>1. 导航控制</strong></h4>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>参数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>reload()</code></td>\n<td>-</td>\n<td>重新加载当前页</td>\n</tr>\n<tr>\n<td><code>stopLoading()</code></td>\n<td>-</td>\n<td>停止加载</td>\n</tr>\n<tr>\n<td><code>goBack()</code></td>\n<td>-</td>\n<td>后退</td>\n</tr>\n<tr>\n<td><code>goForward()</code></td>\n<td>-</td>\n<td>前进</td>\n</tr>\n<tr>\n<td><code>requestFocus()</code></td>\n<td>-</td>\n<td>获取焦点（仅Android）</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>2. 通信与JS执行</strong></h4>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>参数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>injectJavaScript(str)</code></td>\n<td>JS代码字符串</td>\n<td>动态注入JS</td>\n</tr>\n<tr>\n<td><code>postMessage(data)</code></td>\n<td>string</td>\n<td>向网页发送消息</td>\n</tr>\n<tr>\n<td><code>injectJavascript</code></td>\n<td>（已废弃，改用驼峰命名）</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h4><strong>3. 高级操作</strong></h4>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>平台</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>clearCache()</code></td>\n<td>both</td>\n<td>清空缓存</td>\n</tr>\n<tr>\n<td><code>clearFormData()</code></td>\n<td>Android</td>\n<td>清除表单数据</td>\n</tr>\n<tr>\n<td><code>clearHistory()</code></td>\n<td>Android</td>\n<td>清除浏览历史</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>四、平台专属属性</strong></h3>\n<h4><strong>Android</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>geolocationEnabled</code></td>\n<td>boolean</td>\n<td>是否允许地理位置</td>\n</tr>\n<tr>\n<td><code>overScrollMode</code></td>\n<td>`\'always\'</td>\n<td>\'never\'</td>\n</tr>\n<tr>\n<td><code>saveFormDataDisabled</code></td>\n<td>boolean</td>\n<td>禁用表单自动保存</td>\n</tr>\n</tbody>\n</table>\n<h4><strong>iOS</strong></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>allowsInlineMediaPlayback</code></td>\n<td>boolean</td>\n<td>内联视频播放</td>\n</tr>\n<tr>\n<td><code>bounces</code></td>\n<td>boolean</td>\n<td>滚动弹性效果</td>\n</tr>\n<tr>\n<td><code>decelerationRate</code></td>\n<td>`\'normal\'</td>\n<td>\'fast\'`</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>五、TypeScript 类型定义（示例）</strong></h3>\n<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebViewProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-webview&#x27;</span>;\n\n<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CustomWebViewProps</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebViewProps</span> {\n  <span class="hljs-attr">customProp</span>?: <span class="hljs-built_in">string</span>;\n}\n\n&lt;<span class="hljs-title class_">WebView</span> \n  ref={<span class="hljs-function">(<span class="hljs-params">ref</span>) =&gt;</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">webview</span> = ref)}\n  source={{ <span class="hljs-attr">uri</span>: <span class="hljs-string">&#x27;https://example.com&#x27;</span> }}\n  onMessage={<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">nativeEvent</span>.<span class="hljs-property">data</span>)}\n  <span class="hljs-comment">// ...其他属性</span>\n/&gt;\n</code></pre>\n<hr>\n<h3><strong>六、关键注意事项</strong></h3>\n<ol>\n<li><strong>必加权限</strong>  （Android）：<pre><code class="language-xml"><span class="hljs-comment">&lt;!-- AndroidManifest.xml --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span>\n</code></pre>\n</li>\n<li><strong>通信协议</strong>  ：<pre><code class="language-javascript"><span class="hljs-comment">// 网页向RN发消息</span>\n<span class="hljs-variable language_">window</span>.<span class="hljs-property">ReactNativeWebView</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">&#x27;data&#x27;</span>);\n\n<span class="hljs-comment">// RN向网页发消息</span>\nwebviewRef.<span class="hljs-property">current</span>?.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">&#x27;data&#x27;</span>);\n</code></pre>\n</li>\n<li><strong>调试技巧</strong>  ：<pre><code class="language-jsx">&lt;<span class="hljs-title class_">WebView</span>\n  webviewDebuggingEnabled={<span class="hljs-literal">true</span>} <span class="hljs-comment">// 启用Chrome调试</span>\n/&gt;\n</code></pre>\n</li>\n</ol>\n<hr>\n<p>通过合理组合这些属性和方法，可以实现从基础网页展示到复杂混合开发的全部需求。建议始终参考<a href="https://github.com/react-native-webview/react-native-webview" target="_blank">官方文档</a>获取最新API变更。</p>\n</div>'</script></body></html>