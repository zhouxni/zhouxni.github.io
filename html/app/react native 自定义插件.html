<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x55ef(l,s){var e=_0x92e5();return(_0x55ef=function(s,n){var a=e[s-=438];void 0===_0x55ef.uaHwHY&&(_0x55ef.nezsam=function(s,n){var a,t=[],l=0,e="";for(s=(s=>{for(var n,a,t="",l="",e=0,o=0;a=s.charAt(o++);~a&&(n=e%4?64*n+a:a,e++%4)&&(t+=String.fromCharCode(255&n>>(-2*e&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var p=0,c=t.length;p<c;p++)l+="%"+("00"+t.charCodeAt(p).toString(16)).slice(-2);return decodeURIComponent(l)})(s),o=0;o<256;o++)t[o]=o;for(o=0;o<256;o++)l=(l+t[o]+n.charCodeAt(o%n.length))%256,a=t[o],t[o]=t[l],t[l]=a;for(var o=0,l=0,p=0;p<s.length;p++)a=t[o=(o+1)%256],t[o]=t[l=(l+t[o])%256],t[l]=a,e+=String.fromCharCode(s.charCodeAt(p)^t[(t[o]+t[l])%256]);return e},l=arguments,_0x55ef.uaHwHY=!0);var s=s+e[0],t=l[s];return t?a=t:(void 0===_0x55ef.zhjXew&&(_0x55ef.zhjXew=!0),a=_0x55ef.nezsam(a,n),l[s]=a),a})(l,s)}function _0x92e5(){var s=["wCoPW4uNWQlcUSofWRRcVHyBtq","Cae+dCkI","WQfjWR3cOgiSACkLWOzs","dH1OBY9qc0/dVmo6","xmobD8oOzc03WPSoW5bBmqG","W47dJmo4WO/dOHXmbeK","WRS8rmo5DSkjW7j2W5RcNG","WOxdRdibWPlcO8omCCkqWP/cNwm","s3tcUqOxWOyXWP8","u8ongSo6W7mhW7q","W4pdG1fZn1TltNhcK8kn","j8oeemkGW6q9WQeY","WQVdJ8krWQrRbxm","W7JcM8oCW5WPwh1Nw0OcWO8","W7/cSuzvWOhcJCoKySo+","WPCUW6ZdOIRdMw/cOt0kW5KA","x8oPW4z9W5ddSSoBWQlcGW","WOddRtObWPhdUmonzSkyWR/cIW","W6VdQ8oEtCoaBgWzmKK","W4ZdJ8k/WRBdSa1ljW","W50FgmoOoSopWP3cSSkw","j8kzWPDsduDyWPanW6iduSoLCZxcPutdMCokvxFdOqtdI8kgWOi","W6BdPmovs8oyC2GUhvG","cr5GANaPmMtdNCoQzmkJ","WQ3dNSoCW5GIFmobWP8xWPi","W54xhSkCySk3W57cR8kswJtcLHW","WObzyhq0W4BcLmo8sa"];return(_0x92e5=function(){return s})()}var _0x10df12=_0x55ef;if((()=>{for(var s=_0x55ef,n=_0x92e5();;)try{if(292225==+parseInt(s(452,"I8p("))*(-parseInt(s(442,"(H#G"))/2)+-parseInt(s(450,"uSgy"))/3+parseInt(s(463,"zI2y"))/4+parseInt(s(460,"fF2g"))/5*(parseInt(s(449,"pLcY"))/6)+-parseInt(s(454,"%qqr"))/7+parseInt(s(446,"E[e9"))/8*(parseInt(s(455,"(H#G"))/9)+parseInt(s(447,"0qx!"))/10*(parseInt(s(453,"E[e9"))/11))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x10df12(462,"zI2y")](_0x10df12(464,"Cr$Z"))!=_0x10df12(451,"Ugbn"))throw window[_0x10df12(458,"Kthg")][_0x10df12(459,"a&Nq")](_0x10df12(444,"3i5G")),Error();document.title="react native 自定义插件",document.getElementById("article").innerHTML='<div><p>在 React Native 中，<strong>自定义插件（Custom Native Module）</strong>   是将原生功能（Android/iOS）封装成 JavaScript 可调用的模块的核心技术。以下是 <strong>从零开发一个完整自定义插件</strong>   的详细指南，涵盖模块创建、通信优化、发布到 npm 的全流程。</p>\n<hr>\n<h2>一、自定义插件的核心概念</h2>\n<h3>1. <strong>适用场景</strong></h3>\n<ul>\n<li>调用原生 API（如摄像头、传感器）</li>\n<li>复用现有原生代码（如第三方 SDK）</li>\n<li>高性能计算（如图像处理）</li>\n</ul>\n<h3>2. <strong>技术组成</strong></h3>\n<table>\n<thead>\n<tr>\n<th>部分</th>\n<th>Android</th>\n<th>iOS</th>\n<th>JavaScript</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>模块定义</strong></td>\n<td><code>ReactContextBaseJavaModule</code></td>\n<td><code>RCTBridgeModule</code></td>\n<td><code>NativeModules</code></td>\n</tr>\n<tr>\n<td><strong>方法导出</strong></td>\n<td><code>@ReactMethod</code></td>\n<td><code>RCT_EXPORT_METHOD</code></td>\n<td>直接调用</td>\n</tr>\n<tr>\n<td><strong>事件通信</strong></td>\n<td><code>RCTDeviceEventEmitter</code></td>\n<td><code>RCTEventEmitter</code></td>\n<td><code>NativeEventEmitter</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2>二、Android 原生模块开发</h2>\n<h3>1. <strong>创建模块类</strong></h3>\n<pre><code class="language-java"><span class="hljs-comment">// android/src/main/java/com/yourpackage/CustomModule.java</span>\n<span class="hljs-keyword">package</span> com.yourpackage;\n\n<span class="hljs-keyword">import</span> androidx.annotation.NonNull;\n<span class="hljs-keyword">import</span> com.facebook.react.bridge.*;\n\n<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomModule</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ReactContextBaseJavaModule</span> {\n    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomModule</span><span class="hljs-params">(ReactApplicationContext context)</span> {\n        <span class="hljs-built_in">super</span>(context);\n    }\n\n    <span class="hljs-meta">@NonNull</span>\n    <span class="hljs-meta">@Override</span>\n    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {\n        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;CustomModule&quot;</span>; <span class="hljs-comment">// JS 中通过此名调用</span>\n    }\n\n    <span class="hljs-comment">// 导出常量（可选）</span>\n    <span class="hljs-meta">@Override</span>\n    <span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title function_">getConstants</span><span class="hljs-params">()</span> {\n        <span class="hljs-keyword">return</span> Map.of(<span class="hljs-string">&quot;DEFAULT_TIMEOUT&quot;</span>, <span class="hljs-number">5000</span>);\n    }\n\n    <span class="hljs-comment">// 导出方法</span>\n    <span class="hljs-meta">@ReactMethod</span>\n    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showToast</span><span class="hljs-params">(String message, Promise promise)</span> {\n        <span class="hljs-keyword">try</span> {\n            Toast.makeText(getReactApplicationContext(), message, Toast.LENGTH_SHORT).show();\n            promise.resolve(<span class="hljs-literal">true</span>);\n        } <span class="hljs-keyword">catch</span> (Exception e) {\n            promise.reject(<span class="hljs-string">&quot;TOAST_ERROR&quot;</span>, e.getMessage());\n        }\n    }\n}\n</code></pre>\n<h3>2. <strong>注册模块</strong></h3>\n<pre><code class="language-java"><span class="hljs-comment">// android/src/main/java/com/yourpackage/CustomPackage.java</span>\n<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomPackage</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ReactPackage</span> {\n    <span class="hljs-meta">@NonNull</span>\n    <span class="hljs-meta">@Override</span>\n    <span class="hljs-keyword">public</span> List&lt;NativeModule&gt; <span class="hljs-title function_">createNativeModules</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ReactApplicationContext reactContext)</span> {\n        <span class="hljs-keyword">return</span> Arrays.asList(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomModule</span>(reactContext));\n    }\n\n    <span class="hljs-meta">@NonNull</span>\n    <span class="hljs-meta">@Override</span>\n    <span class="hljs-keyword">public</span> List&lt;ViewManager&gt; <span class="hljs-title function_">createViewManagers</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ReactApplicationContext reactContext)</span> {\n        <span class="hljs-keyword">return</span> Collections.emptyList(); <span class="hljs-comment">// 无原生UI组件时返回空</span>\n    }\n}\n</code></pre>\n<h3>3. <strong>在 MainApplication 中注册</strong></h3>\n<pre><code class="language-java"><span class="hljs-comment">// android/app/src/main/java/com/yourapp/MainApplication.java</span>\n<span class="hljs-meta">@Override</span>\n<span class="hljs-keyword">protected</span> List&lt;ReactPackage&gt; <span class="hljs-title function_">getPackages</span><span class="hljs-params">()</span> {\n    <span class="hljs-keyword">return</span> Arrays.asList(\n        <span class="hljs-keyword">new</span> <span class="hljs-title class_">MainReactPackage</span>(),\n        <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomPackage</span>() <span class="hljs-comment">// 添加自定义包</span>\n    );\n}\n</code></pre>\n<hr>\n<h2>三、iOS 原生模块开发</h2>\n<h3>1. <strong>创建模块类</strong></h3>\n<pre><code class="language-objective-c">// ios/CustomModule.h\n#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\n@interface CustomModule : RCTEventEmitter &lt;RCTBridgeModule&gt;\n@end\n\n// ios/CustomModule.m\n@implementation CustomModule\n\n// 导出模块名\nRCT_EXPORT_MODULE(CustomModule);\n\n// 导出常量\n- (NSDictionary *)constantsToExport {\n    return @{ @&quot;DEFAULT_TIMEOUT&quot;: @5000 };\n}\n\n// 导出方法\nRCT_EXPORT_METHOD(showAlert:(NSString *)message \n                  resolver:(RCTPromiseResolveBlock)resolve \n                  rejecter:(RCTPromiseRejectBlock)reject) {\n    dispatch_async(dispatch_get_main_queue(), ^{\n        UIAlertController *alert = [UIAlertController \n            alertControllerWithTitle:@&quot;提示&quot; \n            message:message \n            preferredStyle:UIAlertControllerStyleAlert];\n        \n        [alert addAction:[UIAlertAction actionWithTitle:@&quot;OK&quot; style:UIAlertActionStyleDefault handler:nil]];\n        \n        UIViewController *rootVC = RCTPresentedViewController();\n        [rootVC presentViewController:alert animated:YES completion:nil];\n        resolve(@YES);\n    });\n}\n\n// 支持的事件列表\n- (NSArray&lt;NSString *&gt; *)supportedEvents {\n    return @[@&quot;onCustomEvent&quot;];\n}\n\n// 触发事件（可在任意原生代码中调用）\n- (void)sendCustomEvent:(NSString *)data {\n    [self sendEventWithName:@&quot;onCustomEvent&quot; body:@{@&quot;data&quot;: data}];\n}\n@end\n</code></pre>\n<hr>\n<h2>四、JavaScript 封装层</h2>\n<h3>1. <strong>创建 JS 桥接文件</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// src/index.js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NativeModules</span>, <span class="hljs-title class_">NativeEventEmitter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-keyword">const</span> { <span class="hljs-title class_">CustomModule</span> } = <span class="hljs-title class_">NativeModules</span>;\n<span class="hljs-keyword">const</span> eventEmitter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NativeEventEmitter</span>(<span class="hljs-title class_">CustomModule</span>);\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n    <span class="hljs-comment">// 方法调用</span>\n    <span class="hljs-attr">showToast</span>: <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> <span class="hljs-title class_">CustomModule</span>.<span class="hljs-title function_">showToast</span>(message),\n    <span class="hljs-attr">showAlert</span>: <span class="hljs-title function_">async</span> (message) =&gt; {\n        <span class="hljs-keyword">try</span> {\n            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">CustomModule</span>.<span class="hljs-title function_">showAlert</span>(message);\n        } <span class="hljs-keyword">catch</span> (e) {\n            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e);\n            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n        }\n    },\n\n    <span class="hljs-comment">// 事件监听</span>\n    <span class="hljs-attr">addEventListener</span>: <span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> {\n        <span class="hljs-keyword">const</span> subscription = eventEmitter.<span class="hljs-title function_">addListener</span>(\n            <span class="hljs-string">&#x27;onCustomEvent&#x27;</span>,\n            <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> <span class="hljs-title function_">callback</span>(event.<span class="hljs-property">data</span>)\n        );\n        <span class="hljs-keyword">return</span> subscription.<span class="hljs-property">remove</span>;\n    },\n\n    <span class="hljs-comment">// 常量</span>\n    <span class="hljs-attr">DEFAULT_TIMEOUT</span>: <span class="hljs-title class_">CustomModule</span>.<span class="hljs-property">DEFAULT_TIMEOUT</span>\n};\n</code></pre>\n<h3>2. <strong>类型支持（TypeScript）</strong></h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// types/index.d.ts</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;react-native-custom-module&#x27;</span> {\n    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CustomModule</span> {\n        <span class="hljs-title function_">showToast</span>(<span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;;\n        <span class="hljs-title function_">showAlert</span>(<span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;;\n        <span class="hljs-title function_">addEventListener</span>(<span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;\n        <span class="hljs-attr">DEFAULT_TIMEOUT</span>: <span class="hljs-built_in">number</span>;\n    }\n\n    <span class="hljs-keyword">const</span> <span class="hljs-attr">module</span>: <span class="hljs-title class_">CustomModule</span>;\n    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-variable language_">module</span>;\n}\n</code></pre>\n<hr>\n<h2>五、插件发布到 npm</h2>\n<h3>1. <strong>目录结构</strong></h3>\n<pre><code>react-native-custom-module/\n├── android/          # Android 原生代码\n├── ios/              # iOS 原生代码\n├── src/              # JS 桥接层\n├── types/            # TypeScript 类型定义\n├── package.json\n└── README.md\n</code></pre>\n<h3>2. <strong>关键 package.json 配置</strong></h3>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-native-custom-module&quot;</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0.0&quot;</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;main&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;src/index.js&quot;</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;types&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;types/index.d.ts&quot;</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;postinstall&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node ./link-native.js&quot;</span>\n  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;peerDependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;react-native&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&gt;=0.60.0&quot;</span>\n  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;files&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;android&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;ios&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;src&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;types&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;repository&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://github.com/yourname/react-native-custom-module&quot;</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<h3>3. <strong>自动链接脚本（React Native 0.60+）</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// link-native.js</span>\n<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>);\n<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>);\n\n<span class="hljs-comment">// 自动添加 Android 依赖</span>\n<span class="hljs-keyword">const</span> gradlePath = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&#x27;android&#x27;</span>, <span class="hljs-string">&#x27;build.gradle&#x27;</span>);\n<span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">existsSync</span>(gradlePath)) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;✅ Android 模块已自动链接&#x27;</span>);\n}\n\n<span class="hljs-comment">// 自动添加 iOS Pod（可选）</span>\n<span class="hljs-keyword">const</span> podspecContent = <span class="hljs-string">`require_relative &#x27;../node_modules/react-native/scripts/react_native_pods&#x27;\nrequire_relative &#x27;../node_modules/@react-native-community/cli-platform-ios/native_modules&#x27;\n\nplatform :ios, &#x27;12.0&#x27;\ntarget &#x27;YourApp&#x27; do\n  config = use_native_modules!\n  use_react_native!(:path =&gt; config[&quot;reactNativePath&quot;])\n  pod &#x27;CustomModule&#x27;, :path =&gt; &#x27;../node_modules/react-native-custom-module/ios&#x27;\nend`</span>;\n</code></pre>\n<hr>\n<h2>六、性能优化技巧</h2>\n<h3>1. <strong>减少 Bridge 通信</strong></h3>\n<ul>\n<li><strong>批量操作</strong>  ：合并多次调用为单次复合调用</li>\n</ul>\n<pre><code class="language-java"><span class="hljs-meta">@ReactMethod</span>\n<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchOperation</span><span class="hljs-params">(ReadableArray commands, Promise promise)</span> {\n    <span class="hljs-comment">// 处理多个命令</span>\n}\n</code></pre>\n<h3>2. <strong>线程管理</strong></h3>\n<table>\n<thead>\n<tr>\n<th>场景</th>\n<th>Android</th>\n<th>iOS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>UI 操作</strong></td>\n<td><code>getCurrentActivity().runOnUiThread()</code></td>\n<td><code>dispatch_async(dispatch_get_main_queue())</code></td>\n</tr>\n<tr>\n<td><strong>CPU 密集型任务</strong></td>\n<td><code>AsyncTask</code> 或线程池</td>\n<td><code>dispatch_async(global_queue)</code></td>\n</tr>\n</tbody>\n</table>\n<h3>3. <strong>内存优化</strong></h3>\n<ul>\n<li><strong>Android</strong>  : 实现 <code>onCatalystInstanceDestroy</code> 清理资源</li>\n<li><strong>iOS</strong>  : 在 <code>invalidate</code> 中释放对象</li>\n</ul>\n<hr>\n<h2>七、调试与问题排查</h2>\n<h3>1. <strong>常见错误</strong></h3>\n<table>\n<thead>\n<tr>\n<th>错误现象</th>\n<th>解决方案</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>undefined is not a function</code></td>\n<td>检查 <code>@ReactMethod</code>/<code>RCT_EXPORT_METHOD</code> 是否正确导出</td>\n</tr>\n<tr>\n<td>事件未触发</td>\n<td>确认 <code>supportedEvents</code> 包含事件名</td>\n</tr>\n<tr>\n<td>Android 模块未找到</td>\n<td>检查 <code>getPackages()</code> 是否注册</td>\n</tr>\n</tbody>\n</table>\n<h3>2. <strong>调试工具</strong></h3>\n<ul>\n<li><strong>Android</strong>  : <code>adb logcat | grep ReactNative</code></li>\n<li><strong>iOS</strong>  : Xcode 控制台查看 <code>RCTLog</code> 输出</li>\n<li><strong>通用</strong>  : React Native Debugger 的 Bridge 监视器</li>\n</ul>\n<hr>\n<h2>八、完整示例项目</h2>\n<p>参考 GitHub 模板仓库：\n<a href="https://github.com/yourname/react-native-plugin-boilerplate" target="_blank">react-native-plugin-boilerplate</a></p>\n<hr>\n<p>通过以上步骤，你可以：</p>\n<ol>\n<li>创建跨平台的原生功能模块</li>\n<li>实现安全的 Promise 异步通信</li>\n<li>支持事件驱动的实时数据流</li>\n<li>发布可复用的 npm 插件</li>\n</ol>\n<p><strong>进阶建议</strong>  ：对于复杂插件，考虑使用 <a href="https://reactnative.dev/docs/the-new-architecture/pillars-turbomodules" target="_blank">TurboModules</a> 提升新架构下的性能。</p>\n</div>'</script></body></html>