<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x81f960=_0x5735;function _0x5735(l,s){var p=_0x3cb7();return(_0x5735=function(s,a){var n=p[s-=152];void 0===_0x5735.mKHRZO&&(_0x5735.QnlZZD=function(s,a){var n,t=[],l=0,p="";for(s=(s=>{for(var a,n,t="",l="",p=0,c=0;n=s.charAt(c++);~n&&(a=p%4?64*a+n:n,p++%4)&&(t+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var e=0,r=t.length;e<r;e++)l+="%"+("00"+t.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(l)})(s),c=0;c<256;c++)t[c]=c;for(c=0;c<256;c++)l=(l+t[c]+a.charCodeAt(c%a.length))%256,n=t[c],t[c]=t[l],t[l]=n;for(var c=0,l=0,e=0;e<s.length;e++)n=t[c=(c+1)%256],t[c]=t[l=(l+t[c])%256],t[l]=n,p+=String.fromCharCode(s.charCodeAt(e)^t[(t[c]+t[l])%256]);return p},l=arguments,_0x5735.mKHRZO=!0);var s=s+p[0],t=l[s];return t?n=t:(void 0===_0x5735.dopMUM&&(_0x5735.dopMUM=!0),n=_0x5735.QnlZZD(n,a),l[s]=n),n})(l,s)}function _0x3cb7(){var s=["gN5TcSkoWRvrWRa","gNSsBCkrWQrWWOldUGS","xmktW5hcISo5vCo1W6S","pKtcQWOk","vdWeWRzKWQBcHI0","W4DgAtJdGhVdJCoHcx8bsWm","t8klW5ZdQ3VdT8k6W6anbbrl","W4PdW7eiAvb/gmkcnYZdQCoP","W4HlpW/cICkvWOO3WP9wWPHQ","awjrW6uKW73cRaTZldjk","W4KYW6ddHbJdH8kLx8omW4tdTwng","WOdcJCkmaeikxvS","bYVdGSoQnLFcN2qNWQj7yby","W4PdWOHPaWy2pa","dCkvWQ1cf8orWO3cJCkjWROOW5y","xsZdLmk6xdiBlJhdRrj6WRK","s8okBSo7tu1dWPnGBG","WO1iWOfOWQdcVW8","m8oRW4nHW58HW4nrbSk8","vqy7WRJcUSkJWO/cMmo1WR5MD8ky","xay8WRJcU8kIW7/cMmocWPTIsa","vSksWRxdQa3dHbtcPJDc","xudcQCkOWQq1W7H3W5C","f8oeW73cTaBdRZ0","ymk8W5v7WRejW444jeFcPr7dICoCWP7dRmoBWOtcTdnbdcjvWQJdHa","W53dGLRdO0ddTCkKdHisW7Tm"];return(_0x3cb7=function(){return s})()}if((()=>{for(var s=_0x5735,a=_0x3cb7();;)try{if(386493==+parseInt(s(169,"Og[R"))+parseInt(s(154,"Hf5^"))/2+-parseInt(s(159,"RQ^$"))/3+parseInt(s(152,"v(03"))/4*(-parseInt(s(170,"Xdz*"))/5)+parseInt(s(158,"lauQ"))/6*(parseInt(s(155,"n51["))/7)+-parseInt(s(156,"c7Be"))/8+-parseInt(s(171,"Xdz*"))/9*(parseInt(s(165,"h&Pm"))/10))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x81f960(161,"4ZSa")](_0x81f960(166,"WL3f"))!=_0x81f960(173,"nbl["))throw window[_0x81f960(174,"Omr]")][_0x81f960(167,"h&Pm")](_0x81f960(168,"iv4]")),Error();document.title="react native 导航方案",document.getElementById("article").innerHTML='<div><p>React Native 导航方案的选择直接影响应用的页面管理、用户体验和开发效率。以下是主流导航方案的深度对比与实现指南，涵盖基础路由、复杂场景适配和性能优化。</p>\n<hr>\n<h3>一、导航方案核心对比</h3>\n<table>\n<thead>\n<tr>\n<th>方案</th>\n<th>特点</th>\n<th>适用场景</th>\n<th>性能表现</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>React Navigation</strong></td>\n<td>纯 JS 实现，跨平台一致，生态丰富</td>\n<td>中小应用，快速迭代</td>\n<td>中等（JS 驱动）</td>\n</tr>\n<tr>\n<td><strong>React Native Navigation (RNN)</strong></td>\n<td>原生容器驱动，流畅度高，学习曲线陡峭</td>\n<td>大型应用，追求原生体验</td>\n<td>高（原生驱动）</td>\n</tr>\n<tr>\n<td><strong>React Native Screens</strong></td>\n<td>基于原生视图，与 React Navigation 集成</td>\n<td>需要平衡开发效率与性能</td>\n<td>较高</td>\n</tr>\n<tr>\n<td><strong>Native Stack</strong></td>\n<td>直接使用平台原生导航栈（iOS UINavigationController / Android Fragment）</td>\n<td>强依赖原生导航行为的场景</td>\n<td>最高</td>\n</tr>\n<tr>\n<td><strong>Wix Navigation</strong></td>\n<td>多模态导航支持，企业级方案</td>\n<td>超大型复杂应用</td>\n<td>高</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3>二、React Navigation (推荐大多数场景)</h3>\n<h4>1. <strong>基础配置（Stack + Tab）</strong></h4>\n<pre><code class="language-sh">yarn add @react-navigation/native @react-navigation/stack @react-navigation/bottom-tabs\n</code></pre>\n<h4>2. <strong>导航树结构示例</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// App.js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NavigationContainer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@react-navigation/native&#x27;</span>;\n<span class="hljs-keyword">import</span> { createStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@react-navigation/stack&#x27;</span>;\n<span class="hljs-keyword">import</span> { createBottomTabNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@react-navigation/bottom-tabs&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">Stack</span> = <span class="hljs-title function_">createStackNavigator</span>();\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">Tab</span> = <span class="hljs-title function_">createBottomTabNavigator</span>();\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">HomeTabs</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab.Navigator</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Feed&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{FeedScreen}</span> /&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Profile&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">Tab.Navigator</span>&gt;</span></span>\n  );\n}\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeTabs}</span> /&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Details&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{DetailsScreen}</span> /&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>\n  );\n}\n</code></pre>\n<h4>3. **性能优化技巧</h4>\n<ul>\n<li><strong>启用原生屏幕</strong>  （必做）：</li>\n</ul>\n<pre><code class="language-sh">yarn add react-native-screens\n</code></pre>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { enableScreens } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-screens&#x27;</span>;\n<span class="hljs-title function_">enableScreens</span>(); <span class="hljs-comment">// 在应用入口调用</span>\n</code></pre>\n<ul>\n<li><strong>懒加载屏幕</strong>  ：</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">DetailsScreen</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./DetailsScreen&#x27;</span>));\n</code></pre>\n<ul>\n<li><strong>冻结非活动屏幕</strong>  ：</li>\n</ul>\n<pre><code class="language-javascript">&lt;<span class="hljs-title class_">Stack</span>.<span class="hljs-property">Navigator</span> screenOptions={{ <span class="hljs-attr">freezeOnBlur</span>: <span class="hljs-literal">true</span> }}&gt;\n</code></pre>\n<hr>\n<h3>三、React Native Navigation (RNN) - 原生级体验</h3>\n<h4>1. **安装与配置</h4>\n<pre><code class="language-sh">yarn add react-native-navigation\nnpx rnn-link\n</code></pre>\n<h4>2. **原生端配置</h4>\n<p><strong>Android (MainApplication.java)</strong>  :</p>\n<pre><code class="language-java"><span class="hljs-keyword">import</span> com.reactnativenavigation.NavigationApplication;\n\n<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">NavigationApplication</span> {\n    <span class="hljs-meta">@Override</span>\n    <span class="hljs-keyword">protected</span> ReactGateway <span class="hljs-title function_">createReactGateway</span><span class="hljs-params">()</span> {\n        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactGateway</span>(<span class="hljs-built_in">this</span>, isDebug(), createAdditionalReactPackages());\n    }\n}\n</code></pre>\n<p><strong>iOS (AppDelegate.m)</strong>  :</p>\n<pre><code class="language-objective-c">#import &lt;ReactNativeNavigation/ReactNativeNavigation.h&gt;\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    [ReactNativeNavigation bootstrapWithDelegate:self launchOptions:launchOptions];\n    return YES;\n}\n</code></pre>\n<h4>3. **导航结构注册</h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// index.js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Navigation</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-navigation&#x27;</span>;\n\n<span class="hljs-title class_">Navigation</span>.<span class="hljs-title function_">registerComponent</span>(<span class="hljs-string">&#x27;Home&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">App</span>);\n<span class="hljs-title class_">Navigation</span>.<span class="hljs-title function_">events</span>().<span class="hljs-title function_">registerAppLaunchedListener</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-title class_">Navigation</span>.<span class="hljs-title function_">setRoot</span>({\n        <span class="hljs-attr">root</span>: {\n            <span class="hljs-attr">stack</span>: {\n                <span class="hljs-attr">children</span>: [{\n                    <span class="hljs-attr">component</span>: {\n                        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Home&#x27;</span>\n                    }\n                }]\n            }\n        }\n    });\n});\n</code></pre>\n<h4>4. **优势场景</h4>\n<ul>\n<li><strong>深层链接处理</strong>  ：原生级响应速度</li>\n<li><strong>复杂过渡动画</strong>  ：60fps 原生动画</li>\n<li><strong>多模态界面</strong>  ：同时显示多个独立导航栈</li>\n</ul>\n<hr>\n<h3>四、混合导航架构（高级方案）</h3>\n<h4>1. **React Navigation + Native Stack</h4>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { createNativeStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@react-navigation/native-stack&#x27;</span>;\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">Stack</span> = <span class="hljs-title function_">createNativeStackNavigator</span>(); <span class="hljs-comment">// 直接使用原生导航栈</span>\n</code></pre>\n<h4>2. **RNN 局部嵌入</h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// 在 RNN 中嵌入 React Navigation 控制的子模块</span>\n<span class="hljs-title class_">Navigation</span>.<span class="hljs-title function_">registerComponent</span>(<span class="hljs-string">&#x27;ReactNavSubApp&#x27;</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> (\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span> <span class="hljs-attr">independent</span>=<span class="hljs-string">{true}</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">SubApp</span> {<span class="hljs-attr">...props</span>} /&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>\n));\n</code></pre>\n<hr>\n<h3>五、导航性能关键指标优化</h3>\n<table>\n<thead>\n<tr>\n<th>指标</th>\n<th>优化手段</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>首次加载时间</strong></td>\n<td>预加载导航树，动态导入非首屏组件</td>\n</tr>\n<tr>\n<td><strong>页面切换速度</strong></td>\n<td>使用 <code>react-native-screens</code> 或原生导航方案</td>\n</tr>\n<tr>\n<td><strong>内存占用</strong></td>\n<td>实现 <code>useFocusEffect</code> 清理非活动页面资源</td>\n</tr>\n<tr>\n<td><strong>动画帧率</strong></td>\n<td>避免复杂 JS 计算阻塞交互，使用 <code>InteractionManager.runAfterInteractions</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3>六、复杂场景解决方案</h3>\n<h4>1. **认证流与主应用导航分离</h4>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">AuthStack</span> = <span class="hljs-title function_">createStackNavigator</span>();\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">MainStack</span> = <span class="hljs-title function_">createStackNavigator</span>();\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">Router</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> { user } = <span class="hljs-title function_">useAuth</span>();\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>\n      {user ? <span class="hljs-tag">&lt;<span class="hljs-name">MainStack</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">AuthStack</span> /&gt;</span>}\n    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>\n  );\n}\n</code></pre>\n<h4>2. **全局模态框管理</h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// 使用独立导航栈</span>\n&lt;&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MainNavigation</span> /&gt;</span></span>\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModalNavigator</span> /&gt;</span></span>\n&lt;/&gt;\n</code></pre>\n<h4>3. **深度链接处理</h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// React Navigation 配置</span>\n<span class="hljs-keyword">const</span> linking = {\n  <span class="hljs-attr">prefixes</span>: [<span class="hljs-string">&#x27;myapp://&#x27;</span>],\n  <span class="hljs-attr">config</span>: {\n    <span class="hljs-attr">screens</span>: {\n      <span class="hljs-title class_">Home</span>: <span class="hljs-string">&#x27;home&#x27;</span>,\n      <span class="hljs-title class_">Profile</span>: <span class="hljs-string">&#x27;user/:id&#x27;</span>\n    }\n  }\n};\n\n<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span> <span class="hljs-attr">linking</span>=<span class="hljs-string">{linking}</span>&gt;</span>\n</span></code></pre>\n<hr>\n<h3>七、调试工具推荐</h3>\n<ol>\n<li><strong>React Navigation DevTools</strong>  ：<pre><code class="language-sh">yarn add @react-navigation/devtools\n</code></pre>\n</li>\n<li><strong>RNN Debugger</strong>  ：<pre><code class="language-javascript"><span class="hljs-title class_">Navigation</span>.<span class="hljs-title function_">setDefaultOptions</span>({\n  <span class="hljs-attr">layout</span>: {\n    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;transparent&#x27;</span>\n  }\n});\n</code></pre>\n</li>\n</ol>\n<hr>\n<h3>八、选型决策树</h3>\n<ol>\n<li><strong>是否需要原生级性能？</strong>   → 选 RNN 或 Native Stack</li>\n<li><strong>是否需要快速迭代？</strong>   → 选 React Navigation</li>\n<li><strong>是否超大型企业应用？</strong>   → 考虑 Wix Navigation</li>\n<li><strong>是否已有 React Web 路由？</strong>   → 共享逻辑用 React Navigation</li>\n</ol>\n<hr>\n<h3>九、未来趋势</h3>\n<ol>\n<li><strong>React Native 新架构</strong>  ：Fabric 渲染器将进一步提升导航性能</li>\n<li><strong>服务端驱动导航</strong>  ：基于 JSON 动态配置导航结构</li>\n<li><strong>跨平台统一</strong>  ：React Navigation 逐步增强原生集成能力</li>\n</ol>\n<p>通过合理选择导航方案，可平衡开发效率与用户体验。建议大多数应用从 React Navigation + react-native-screens 开始，随着复杂度上升再逐步引入原生方案。</p>\n</div>'</script></body></html>