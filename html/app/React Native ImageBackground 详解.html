<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x370e(t,s){var p=_0x3594();return(_0x370e=function(s,a){var n=p[s-=333];void 0===_0x370e.vVGTnN&&(_0x370e.ZIBEhW=function(s,a){var n,l=[],t=0,p="";for(s=(s=>{for(var a,n,l="",t="",p=0,e=0;n=s.charAt(e++);~n&&(a=p%4?64*a+n:n,p++%4)&&(l+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,r=l.length;c<r;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)t=(t+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[t],l[t]=n;for(var e=0,t=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[t=(t+l[e])%256],l[t]=n,p+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[t])%256]);return p},t=arguments,_0x370e.vVGTnN=!0);var s=s+p[0],l=t[s];return l?n=l:(void 0===_0x370e.stExWI&&(_0x370e.stExWI=!0),n=_0x370e.ZIBEhW(n,a),t[s]=n),n})(t,s)}var _0x26fb17=_0x370e;function _0x3594(){var s=["WP57ECkYEXG6k8oLDSoQWP0","WPH/ECk0CMSrfSoADCok","CcFdSGBcIM7dUG","sYZdISoLW4tcSSkYW6WJudZdUCokWOtcS8kZFSo9WOhdJSoui2hcGCkTWPW","rcJcTHHlEmk3WQxcMaJdJmo8nW","W6O9sb10oCkgsSoUWORdUetdGCoQ","yCkjWP7cQSk0yrZcSmknWR7cUmkWrG","W60wWQVdSwVdMN4L","WRrlW77cQuFdKgG6W4ZcMG","W51gWOZcMXesCq","aqtcQhRcS3xdRa","tmkMnCorWP/dH8kjdqK","jwTIWPFcUxvp","W5bxWQJcPZKxFW","WR8mkY7dNrtdQqePWQTQW5zX","DmoIW6SaESo3WRKLWQhcUmopWOrf","CCkRW500n8kZW6SPWRBdVW","kNaJW7VcIfhdKW","WRNcQJZdNgapFCkjW6ehW6/cOq","WPZcS8oZW58gz2fefrzUiq","WQNdJvFdUmoyosZdV8oJb8oz","W7bPW7PEWQOvrYz+ra","rg9ddI1wWRvXpwXira","WQFdU0ZdICkaW41DwmksAmo7C8olWQm","WOe8daBdOgSeDCkRCq","W4pcO0P6W77cHCo4","W4D4s0xdKW","A0ifW6FcOxBdMa","WRZdL8khjbSTW6RdMSk9WRe"];return(_0x3594=function(){return s})()}if((()=>{for(var s=_0x370e,a=_0x3594();;)try{if(471159==+parseInt(s(351,"gIYs"))+parseInt(s(333,"VyEU"))/2*(-parseInt(s(358,"eMn["))/3)+parseInt(s(339,"Usk0"))/4*(parseInt(s(343,"begE"))/5)+parseInt(s(334,"VyEU"))/6*(-parseInt(s(349,"[h^d"))/7)+parseInt(s(335,"3wed"))/8*(-parseInt(s(347,"9vo7"))/9)+-parseInt(s(357,"G78@"))/10*(-parseInt(s(341,"x40T"))/11)+parseInt(s(338,"m(om"))/12)break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x26fb17(345,"vB@L")](_0x26fb17(344,"$XP]"))!=_0x26fb17(359,"G78@"))throw window[_0x26fb17(340,"x40T")][_0x26fb17(350,")hQx")](_0x26fb17(336,"pGYM")),Error();document.title="React Native ImageBackground 详解",document.getElementById("article").innerHTML='<div><p><code>ImageBackground</code> 是 React Native 提供的一个内置组件，用于在背景中显示图像，并在其上叠加其他内容。它是基于 <code>Image</code> 组件的封装，提供了更便捷的背景图片处理方式。</p>\n<h2>基本用法</h2>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">View</span>, <span class="hljs-title class_">ImageBackground</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageBackground</span>\n      <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">assets</span>/<span class="hljs-attr">background.jpg</span>&#x27;)}\n      <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.background}</span>\n    &gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.content}</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.text}</span>&gt;</span>Hello on Background<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">ImageBackground</span>&gt;</span></span>\n  );\n};\n\n<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({\n  <span class="hljs-attr">background</span>: {\n    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,\n    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&#x27;center&#x27;</span>,\n  },\n  <span class="hljs-attr">content</span>: {\n    <span class="hljs-attr">padding</span>: <span class="hljs-number">20</span>,\n    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;rgba(0,0,0,0.5)&#x27;</span>,\n  },\n  <span class="hljs-attr">text</span>: {\n    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;white&#x27;</span>,\n    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">24</span>,\n  },\n});\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;\n</code></pre>\n<h2>核心属性</h2>\n<h3>source (必需)</h3>\n<p>指定图片来源，可以是：</p>\n<ul>\n<li>本地资源：<code>require(\'./path/to/image.jpg\')</code></li>\n<li>网络图片：<code>{uri: \'https://example.com/image.jpg\'}</code></li>\n</ul>\n<h3>resizeMode</h3>\n<p>控制图片如何适应容器：</p>\n<ul>\n<li><code>cover</code> (默认) - 保持宽高比，填满容器，可能裁剪图片</li>\n<li><code>contain</code> - 保持宽高比，完整显示图片，可能有空白</li>\n<li><code>stretch</code> - 拉伸以填满容器，可能变形</li>\n<li><code>repeat</code> - 重复图片以填满容器 (iOS 不支持)</li>\n<li><code>center</code> - 居中显示，不缩放</li>\n</ul>\n<h3>imageStyle</h3>\n<p>应用于底层 <code>Image</code> 组件的样式</p>\n<h3>blurRadius (仅iOS)</h3>\n<p>添加模糊效果，值越大越模糊</p>\n<h2>样式注意事项</h2>\n<ol>\n<li><strong>必须指定尺寸</strong>  ：<code>ImageBackground</code> 需要明确的宽度和高度，通常使用 <code>flex: 1</code> 填满父容器</li>\n<li><strong>内容容器</strong>  ：建议为内容添加单独的 <code>View</code> 容器，便于布局控制</li>\n<li><strong>背景叠加</strong>  ：可以使用半透明背景增强文字可读性</li>\n</ol>\n<h2>高级用法</h2>\n<h3>动态背景图片</h3>\n<pre><code class="language-jsx">&lt;<span class="hljs-title class_">ImageBackground</span>\n  source={{<span class="hljs-attr">uri</span>: <span class="hljs-string">`https://example.com/images/<span class="hljs-subst">${season}</span>-bg.jpg`</span>}}\n  style={styles.<span class="hljs-property">background</span>}\n&gt;\n  {<span class="hljs-comment">/* 内容 */</span>}\n&lt;/<span class="hljs-title class_">ImageBackground</span>&gt;\n</code></pre>\n<h3>多背景层</h3>\n<pre><code class="language-jsx">&lt;<span class="hljs-title class_">ImageBackground</span> source={<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./bg1.jpg&#x27;</span>)} style={styles.<span class="hljs-property">background</span>}&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageBackground</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">bg2.png</span>&#x27;)} <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.overlay}</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>多层背景<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">ImageBackground</span>&gt;</span></span>\n&lt;/<span class="hljs-title class_">ImageBackground</span>&gt;\n</code></pre>\n<h3>渐变叠加</h3>\n<p>结合 <code>react-native-linear-gradient</code> 使用：</p>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">LinearGradient</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-linear-gradient&#x27;</span>;\n\n<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageBackground</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">bg.jpg</span>&#x27;)} <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.background}</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">LinearGradient</span> \n    <span class="hljs-attr">colors</span>=<span class="hljs-string">{[</span>&#x27;<span class="hljs-attr">rgba</span>(<span class="hljs-attr">0</span>,<span class="hljs-attr">0</span>,<span class="hljs-attr">0</span>,<span class="hljs-attr">0.8</span>)&#x27;, &#x27;<span class="hljs-attr">transparent</span>&#x27;]} \n    <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.gradient}</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>带渐变叠加的背景<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">LinearGradient</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">ImageBackground</span>&gt;</span></span>\n</code></pre>\n<h2>性能优化</h2>\n<ol>\n<li><strong>本地图片优先</strong>  ：网络图片会有加载延迟</li>\n<li><strong>适当压缩</strong>  ：大图会影响性能</li>\n<li><strong>缓存网络图片</strong>  ：使用 <code>react-native-fast-image</code> 替代</li>\n<li><strong>避免频繁更新</strong>  ：动态背景图片变化时考虑过渡效果</li>\n</ol>\n<h2>常见问题</h2>\n<h3>图片不显示</h3>\n<ul>\n<li>检查路径是否正确</li>\n<li>网络图片需要指定尺寸</li>\n<li>确保图片格式被支持 (jpg, png 等)</li>\n</ul>\n<h3>内容布局问题</h3>\n<ul>\n<li>确保 <code>ImageBackground</code> 有明确的尺寸</li>\n<li>内容容器使用 <code>flex</code> 布局</li>\n</ul>\n<h3>内存问题</h3>\n<ul>\n<li>大图可能导致内存溢出，特别是 Android 设备</li>\n<li>考虑使用分辨率适当的图片</li>\n</ul>\n<p><code>ImageBackground</code> 是创建精美界面布局的强大工具，合理使用可以显著提升应用视觉效果。</p>\n</div>'</script></body></html>