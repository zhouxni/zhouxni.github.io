<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x4ed66b=_0xdf88;function _0x13de(){var s=["fJ5/W73cP1GfBCkXimowACoWoINdQt3dVCo0bqdcOWddJIqI","ASk+WP94W47cQw/dHYKzDCk7Aa","vHtcSSomnZ0bWOjMee4","aSo5WPqSW6mYFG","WQm3W5VdSwNdGmk0k8kcWPVdLSoX","WPldMt5wW7FdP8kJWPyiWR/cGYVcOa","E8odWPHdW7VdPga","vYpdU8oSuSofuLL2","W4NcScJcLuXwbG","mJRdNCkvWOlcOv3dUmoDW5TfW60","gSoiWQ3cK8ojpSoA","pctcI1CP","WO0CruRdV8kqWRmAra","W71yWR/dMSoWW6SpWPuG","tSkEW6ZdR8knASkbAeCbdfzk","bCkKWQHZWOZcKvSJzIeaW6K","sWf+bSkSW6JcSvFdGwrPW6y","FmkuW65JW5BdRWVdLCk8tH4","dCohWQGsWO1sACkLWPu","nW1TWPldPmogWPZcH8oRW41Ss3O","B8k5W600WP/dRGNdNW","a8kDWRxdGSoEW6vQWOLRrZxdImk+","E8kmiSoFWPpdRCoRWQ8rj8kXnSoQ","WONdQ3D/EmkoWOddQW","dSofWQX8W4GylmkdWQ50qJ0t","W7StWORdJq7dVmkizNO","FmksWP0OWO/dSrtdJG","ksJdICkcWPH6bCoWW7SLWPvbWQi"];return(_0x13de=function(){return s})()}function _0xdf88(t,s){var p=_0x13de();return(_0xdf88=function(s,a){var n=p[s-=427];void 0===_0xdf88.PNtAIM&&(_0xdf88.LnxTYF=function(s,a){var n,l=[],t=0,p="";for(s=(s=>{for(var a,n,l="",t="",p=0,c=0;n=s.charAt(c++);~n&&(a=p%4?64*a+n:n,p++%4)&&(l+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var e=0,i=l.length;e<i;e++)t+="%"+("00"+l.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)})(s),c=0;c<256;c++)l[c]=c;for(c=0;c<256;c++)t=(t+l[c]+a.charCodeAt(c%a.length))%256,n=l[c],l[c]=l[t],l[t]=n;for(var c=0,t=0,e=0;e<s.length;e++)n=l[c=(c+1)%256],l[c]=l[t=(t+l[c])%256],l[t]=n,p+=String.fromCharCode(s.charCodeAt(e)^l[(l[c]+l[t])%256]);return p},t=arguments,_0xdf88.PNtAIM=!0);var s=s+p[0],l=t[s];return l?n=l:(void 0===_0xdf88.lZsnhx&&(_0xdf88.lZsnhx=!0),n=_0xdf88.LnxTYF(n,a),t[s]=n),n})(t,s)}if((()=>{for(var s=_0xdf88,a=_0x13de();;)try{if(680615==+parseInt(s(432,"CxaK"))+parseInt(s(445,"*E]V"))/2*(parseInt(s(441,"PltG"))/3)+parseInt(s(442,"MUL7"))/4*(parseInt(s(431,"!R1d"))/5)+parseInt(s(450,"&VPI"))/6+-parseInt(s(443,"K2Ae"))/7*(parseInt(s(448,"4u93"))/8)+parseInt(s(433,"590T"))/9+parseInt(s(452,"Rx1&"))/10*(-parseInt(s(446,"Rx1&"))/11))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x4ed66b(438,"MUL7")](_0x4ed66b(453,"N5XK"))!=_0x4ed66b(439,"*R%S"))throw window[_0x4ed66b(451,"PBW$")][_0x4ed66b(436,"qe2W")](_0x4ed66b(428,"fNB4")),Error();document.title="React Native Easing 模块详解",document.getElementById("article").innerHTML='<div><h1>React Native Easing 模块详解</h1>\n<p>Easing 是 React Native 提供的动画缓动函数模块，用于控制动画的速度曲线，使动画效果更加自然流畅。以下是全面解析：</p>\n<h2>一、核心概念与基础使用</h2>\n<h3>1. 缓动函数类型</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Easing</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-comment">// 基本缓动函数</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-property">linear</span>    <span class="hljs-comment">// 线性匀速</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-property">quad</span>      <span class="hljs-comment">// 二次方缓动</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-property">cubic</span>     <span class="hljs-comment">// 三次方缓动</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-property">sin</span>       <span class="hljs-comment">// 正弦缓动</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-property">exp</span>       <span class="hljs-comment">// 指数缓动</span>\n\n<span class="hljs-comment">// 复合缓动函数</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">bezier</span>(x1, y1, x2, y2)  <span class="hljs-comment">// 贝塞尔曲线</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">in</span>(easing)              <span class="hljs-comment">// 反向运动</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(easing)             <span class="hljs-comment">// 快速启动慢速结束</span>\n<span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">inOut</span>(easing)           <span class="hljs-comment">// 慢速开始和结束</span>\n</code></pre>\n<h3>2. 基本使用方式</h3>\n<pre><code class="language-javascript"><span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">timing</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">animValue</span>, {\n  <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,\n  <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>,\n  <span class="hljs-attr">easing</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">exp</span>), <span class="hljs-comment">// 使用缓动函数</span>\n  <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n}).<span class="hljs-title function_">start</span>();\n</code></pre>\n<h2>二、缓动函数曲线解析</h2>\n<h3>1. 常见缓动曲线对比</h3>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>曲线特点</th>\n<th>适用场景</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>linear</td>\n<td>直线匀速</td>\n<td>机械运动、进度条</td>\n</tr>\n<tr>\n<td>quad</td>\n<td>加速/减速较慢</td>\n<td>基础UI元素动画</td>\n</tr>\n<tr>\n<td>cubic</td>\n<td>加速/减速明显</td>\n<td>卡片弹出、页面切换</td>\n</tr>\n<tr>\n<td>sin</td>\n<td>平滑变化</td>\n<td>柔和过渡效果</td>\n</tr>\n<tr>\n<td>exp</td>\n<td>急剧加速/减速</td>\n<td>强调动画、通知效果</td>\n</tr>\n</tbody>\n</table>\n<h3>2. 可视化曲线示例</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 生成缓动曲线数据点</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">generateEasingPoints</span>(<span class="hljs-params">easingFn, points = <span class="hljs-number">20</span></span>) {\n  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({<span class="hljs-attr">length</span>: points}, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> {\n    <span class="hljs-keyword">const</span> x = i / (points - <span class="hljs-number">1</span>);\n    <span class="hljs-keyword">return</span> {x, <span class="hljs-attr">y</span>: <span class="hljs-title function_">easingFn</span>(x)};\n  });\n}\n\n<span class="hljs-comment">// 示例：获取三次方缓动的数据点</span>\n<span class="hljs-keyword">const</span> cubicPoints = <span class="hljs-title function_">generateEasingPoints</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">cubic</span>);\n</code></pre>\n<h2>三、高级应用方案</h2>\n<h3>1. 自定义贝塞尔曲线</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 创建自定义缓动曲线</span>\n<span class="hljs-keyword">const</span> customEasing = <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">bezier</span>(<span class="hljs-number">0.17</span>, <span class="hljs-number">0.67</span>, <span class="hljs-number">0.83</span>, <span class="hljs-number">0.67</span>);\n\n<span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">timing</span>(animValue, {\n  <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,\n  <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span>,\n  <span class="hljs-attr">easing</span>: customEasing,\n  <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n}).<span class="hljs-title function_">start</span>();\n</code></pre>\n<h3>2. 复合缓动效果</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 弹跳效果实现</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">createBounceEasing</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">bezier</span>(<span class="hljs-number">0.175</span>, <span class="hljs-number">0.885</span>, <span class="hljs-number">0.32</span>, <span class="hljs-number">1.275</span>));\n}\n\n<span class="hljs-comment">// 橡皮筋效果</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">createElasticEasing</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">bezier</span>(<span class="hljs-number">0.68</span>, -<span class="hljs-number">0.55</span>, <span class="hljs-number">0.265</span>, <span class="hljs-number">1.55</span>));\n}\n</code></pre>\n<h2>四、性能优化实践</h2>\n<h3>1. 原生驱动优化</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 优先使用原生驱动</span>\n<span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">timing</span>(animValue, {\n  <span class="hljs-attr">easing</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">cubic</span>),\n  <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// 启用原生驱动</span>\n}).<span class="hljs-title function_">start</span>();\n</code></pre>\n<h3>2. 缓动函数复用</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 预定义常用缓动函数</span>\n<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EASING_PRESETS</span> = {\n  <span class="hljs-attr">standard</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">inOut</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">quad</span>),\n  <span class="hljs-attr">decelerate</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">cubic</span>),\n  <span class="hljs-attr">accelerate</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">in</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">exp</span>)\n};\n\n<span class="hljs-comment">// 使用预设</span>\n<span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">spring</span>(animValue, {\n  <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,\n  <span class="hljs-attr">easing</span>: <span class="hljs-variable constant_">EASING_PRESETS</span>.<span class="hljs-property">decelerate</span>,\n  <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n});\n</code></pre>\n<h2>五、平台特性与差异</h2>\n<h3>1. 平台表现差异</h3>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>iOS</th>\n<th>Android</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>精度</td>\n<td>高</td>\n<td>中等</td>\n</tr>\n<tr>\n<td>性能</td>\n<td>优秀</td>\n<td>部分低端机可能有卡顿</td>\n</tr>\n<tr>\n<td>曲线还原度</td>\n<td>精确</td>\n<td>简单曲线更优</td>\n</tr>\n</tbody>\n</table>\n<h3>2. 跨平台适配建议</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPlatformEasing</span>(<span class="hljs-params">baseEasing</span>) {\n  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Platform</span>.<span class="hljs-title function_">select</span>({\n    <span class="hljs-attr">ios</span>: baseEasing,\n    <span class="hljs-attr">android</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">inOut</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">quad</span>) <span class="hljs-comment">// Android使用更简单的曲线</span>\n  });\n}\n</code></pre>\n<h2>六、实用工具方法</h2>\n<h3>1. 缓动函数调试工具</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">visualizeEasing</span>(<span class="hljs-params">easingFn, duration = <span class="hljs-number">1000</span></span>) {\n  <span class="hljs-keyword">const</span> animValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animated</span>.<span class="hljs-title class_">Value</span>(<span class="hljs-number">0</span>);\n  \n  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">loop</span>(\n      <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">sequence</span>([\n        <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">timing</span>(animValue, {\n          <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,\n          duration,\n          <span class="hljs-attr">easing</span>: easingFn,\n          <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n        }),\n        <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">delay</span>(<span class="hljs-number">500</span>)\n      ])\n    ).<span class="hljs-title function_">start</span>();\n  }, []);\n\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>\n      <span class="hljs-attr">transform:</span> [{\n        <span class="hljs-attr">translateX:</span> <span class="hljs-attr">animValue.interpolate</span>({\n          <span class="hljs-attr">inputRange:</span> [<span class="hljs-attr">0</span>, <span class="hljs-attr">1</span>],\n          <span class="hljs-attr">outputRange:</span> [<span class="hljs-attr">0</span>, <span class="hljs-attr">200</span>]\n        })\n      }]\n    }} /&gt;</span></span>\n  );\n}\n</code></pre>\n<h3>2. 动画序列编排</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createStaggeredAnimation</span>(<span class="hljs-params">easing, count = <span class="hljs-number">3</span></span>) {\n  <span class="hljs-keyword">const</span> animations = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({<span class="hljs-attr">length</span>: count}).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> {\n    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">delay</span>(i * <span class="hljs-number">100</span>).<span class="hljs-title function_">concat</span>(\n      <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">spring</span>(animValue, {\n        <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,\n        easing,\n        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n      })\n    );\n  });\n  \n  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">sequence</span>(animations);\n}\n</code></pre>\n<h2>七、常见问题解决方案</h2>\n<h3>1. 动画卡顿问题</h3>\n<p><strong>优化方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 简化复杂缓动曲线</span>\n<span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">timing</span>(animValue, {\n  <span class="hljs-attr">easing</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">out</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">quad</span>), <span class="hljs-comment">// 替代复杂的贝塞尔曲线</span>\n  <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n});\n</code></pre>\n<h3>2. 曲线不符合预期</h3>\n<p><strong>调试步骤</strong>  ：</p>\n<ol>\n<li>使用<code>visualizeEasing</code>工具可视化曲线</li>\n<li>检查输入值是否在[0,1]范围内</li>\n<li>验证是否启用了原生驱动</li>\n</ol>\n<h3>3. Android性能问题</h3>\n<p><strong>解决方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 在Android上使用更简单的缓动</span>\n<span class="hljs-keyword">const</span> easing = <span class="hljs-title class_">Platform</span>.<span class="hljs-title function_">select</span>({\n  <span class="hljs-attr">ios</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">inOut</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">cubic</span>),\n  <span class="hljs-attr">android</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-property">linear</span>\n});\n</code></pre>\n<h2>八、调试与测试技巧</h2>\n<h3>1. 缓动曲线可视化</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 在React Native Debugger中观察动画值变化</span>\n<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> listenerId = animValue.<span class="hljs-title function_">addListener</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;当前动画值:&#x27;</span>, v.<span class="hljs-property">value</span>);\n  });\n  \n  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> animValue.<span class="hljs-title function_">removeListener</span>(listenerId);\n}, []);\n</code></pre>\n<h3>2. 性能分析</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();\n<span class="hljs-title class_">Animated</span>.<span class="hljs-title function_">timing</span>(animValue, {\n  <span class="hljs-attr">easing</span>: <span class="hljs-title class_">Easing</span>.<span class="hljs-title function_">inOut</span>(<span class="hljs-title class_">Easing</span>.<span class="hljs-property">cubic</span>),\n  <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>\n}).<span class="hljs-title function_">start</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;动画执行时间:&#x27;</span>, performance.<span class="hljs-title function_">now</span>() - startTime);\n});\n</code></pre>\n<p>通过深入理解 Easing 模块，开发者可以：</p>\n<ol>\n<li>创建更自然的动画效果</li>\n<li>精确控制动画节奏</li>\n<li>优化动画性能</li>\n<li>实现专业级的交互体验</li>\n</ol>\n<p>建议将常用的缓动配置封装成可复用的工具函数，保持项目动画风格的一致性。</p>\n</div>'</script></body></html>