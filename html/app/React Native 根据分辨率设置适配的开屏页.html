<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x521f0e=_0x246a;if((()=>{for(var s=_0x246a,n=_0x4a03();;)try{if(349271==-parseInt(s(502,"Bl*("))+-parseInt(s(518,"s]e5"))/2*(parseInt(s(507,"arn7"))/3)+parseInt(s(492,"oq&f"))/4*(parseInt(s(514,"1o8H"))/5)+parseInt(s(512,"jA$7"))/6*(parseInt(s(513,"YH%A"))/7)+-parseInt(s(500,"pWL1"))/8*(-parseInt(s(517,"lbuc"))/9)+parseInt(s(510,"lbuc"))/10*(parseInt(s(495,"s]e5"))/11)+-parseInt(s(496,"jkUA"))/12)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x521f0e(498,"pWL1")](_0x521f0e(519,"wuX@"))!=_0x521f0e(503,"R[*I"))throw window[_0x521f0e(504,"j#Qy")][_0x521f0e(497,"lSC8")](_0x521f0e(501,"wuX@")),Error();function _0x246a(t,s){var p=_0x4a03();return(_0x246a=function(s,n){var a=p[s-=491];void 0===_0x246a.EbqEVf&&(_0x246a.YusHZX=function(s,n){var a,l=[],t=0,p="";for(s=(s=>{for(var n,a,l="",t="",p=0,e=0;a=s.charAt(e++);~a&&(n=p%4?64*n+a:a,p++%4)&&(l+=String.fromCharCode(255&n>>(-2*p&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,r=l.length;c<r;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)t=(t+l[e]+n.charCodeAt(e%n.length))%256,a=l[e],l[e]=l[t],l[t]=a;for(var e=0,t=0,c=0;c<s.length;c++)a=l[e=(e+1)%256],l[e]=l[t=(t+l[e])%256],l[t]=a,p+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[t])%256]);return p},t=arguments,_0x246a.EbqEVf=!0);var s=s+p[0],l=t[s];return l?a=l:(void 0===_0x246a.QJUTXq&&(_0x246a.QJUTXq=!0),a=_0x246a.YusHZX(a,n),t[s]=a),a})(t,s)}function _0x4a03(){var s=["W7NdLSoFs155g8kI","WOJdQYzqvmkstaRdKWNcRmkqWQpdUG","FSoxWQ9TWRrpcSkLW7lcJNzs","W6uyD8okW4/dUeZcVmoouX8","WRddPCoZWOTJhuNdJJq","Cd0LW75LmCk4W7NcRmkICmkz","W6pdRLOuWOqkW47cSmon","WOpcNgtcTqi9ACoJWQKRW7C","WO3dQYCubmoAnxddMa","WRTSo04HW47cH1lcQaNdOa","i8kEjeRcTCkhW5hdKG","FmoAWQLQWRbavmkvW7VcT31AeG","CJXfWPuBv8kMW7W","vSosWQHqv8k6oa","i8kQudXlvmkKWOJdPq","W5baWR8Od8oNW7W","WOb3WRBdU8kvW747bWu","WOtcUSkRWP3dMmo/w2hcPmknW4qx","WPbMESkfo0lcMvD/amkl","w8kMWR5RtCk0jcq","WRtdOmo5W7u4yHpcMceQW58NWRxdOW","W7TOeY0gWOZcSq","jrBdNJmVW7JcRG","W6mzCColW4VcVL/cISokCXJdMW","C0RcMeHSWQRdTCo+hIZcHaCf","cSk9rYLlhCoaW4ldPJpdK8ozW4FdVKlcVdW2WRGyFmkMBXD+W4K","eX88kaOeW6RdVmklACoxBa","kCkizCofW7u","WRVcSaOfWPKtW6RcLa"];return(_0x4a03=function(){return s})()}document.title="React Native 根据分辨率设置适配的开屏页",document.getElementById("article").innerHTML='<div><p>在 React Native 应用中，为了在不同分辨率的设备上都能完美显示开屏页，需要针对不同屏幕尺寸进行适配。以下是完整的解决方案：</p>\n<h2>一、多分辨率开屏图准备</h2>\n<h3>1. 准备不同尺寸的开屏图片</h3>\n<p>建议至少准备以下三种尺寸（以750x1334为基准尺寸）：</p>\n<table>\n<thead>\n<tr>\n<th>分辨率倍数</th>\n<th>尺寸示例</th>\n<th>存放位置</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1x (基准)</td>\n<td>750x1334</td>\n<td>splash.png</td>\n</tr>\n<tr>\n<td>2x</td>\n<td>1500x2668</td>\n<td>splash@2x.png</td>\n</tr>\n<tr>\n<td>3x</td>\n<td>2250x4002</td>\n<td>splash@3x.png</td>\n</tr>\n</tbody>\n</table>\n<h3>2. 图片格式建议</h3>\n<ul>\n<li><strong>iOS</strong>  : PNG 格式（支持透明通道）</li>\n<li><strong>Android</strong>  : PNG 或 WebP（更小体积）</li>\n</ul>\n<h2>二、iOS 多分辨率适配</h2>\n<h3>1. 使用 Xcode 的 Asset Catalog</h3>\n<ol>\n<li>在 Xcode 中打开 <code>Images.xcassets</code></li>\n<li>新建 <code>LaunchImage</code> 或 <code>SplashScreen</code> 图片集</li>\n<li>为不同设备添加对应图片：\n<table>\n<thead>\n<tr>\n<th>设备类型</th>\n<th>图片槽位</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>iPhone 8/SE</td>\n<td>1x</td>\n</tr>\n<tr>\n<td>iPhone 13/14</td>\n<td>2x</td>\n</tr>\n<tr>\n<td>iPhone 13/14 Pro Max</td>\n<td>3x</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n<h3>2. 或者使用 LaunchScreen.storyboard</h3>\n<pre><code class="language-xml"><span class="hljs-comment">&lt;!-- 使用自动布局适配不同尺寸 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">imageView</span> \n    <span class="hljs-attr">image</span>=<span class="hljs-string">&quot;splash&quot;</span> \n    <span class="hljs-attr">contentMode</span>=<span class="hljs-string">&quot;scaleAspectFill&quot;</span>\n    <span class="hljs-attr">constraints</span>=<span class="hljs-string">&quot;\n        top to superview top,\n        leading to superview leading,\n        trailing to superview trailing,\n        bottom to superview bottom&quot;</span>\n/&gt;</span>\n</code></pre>\n<h2>三、Android 多分辨率适配</h2>\n<h3>1. 创建不同分辨率的资源目录</h3>\n<pre><code>android/app/src/main/res/\n├── drawable-mdpi/\n│   └── splash.png       // 1x (360x640)\n├── drawable-hdpi/\n│   └── splash.png       // 1.5x (540x960)\n├── drawable-xhdpi/\n│   └── splash.png       // 2x (720x1280)\n├── drawable-xxhdpi/\n│   └── splash.png       // 3x (1080x1920)\n└── drawable-xxxhdpi/\n    └── splash.png       // 4x (1440x2560)\n</code></pre>\n<h3>2. 创建自适应布局文件</h3>\n<pre><code class="language-xml"><span class="hljs-comment">&lt;!-- android/app/src/main/res/drawable/launch_screen.xml --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>\n    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span>\n    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span>\n    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>\n    <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@drawable/splash&quot;</span>\n    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span>\n\n    <span class="hljs-comment">&lt;!-- 可选：居中内容 --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span>\n        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span>\n        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span>\n        <span class="hljs-attr">android:src</span>=<span class="hljs-string">&quot;@drawable/app_logo&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>\n</code></pre>\n<h2>四、使用 react-native-bootsplash 自动适配（推荐）</h2>\n<h3>1. 安装与配置</h3>\n<pre><code class="language-sh">npx react-native generate-bootsplash assets/splash.png \\\n  --platforms=android,ios \\\n  --background=FFFFFF \\\n  --logo-width=33% \\      <span class="hljs-comment"># 按百分比适配</span>\n  --assets-path=assets\n</code></pre>\n<h3>2. 自动生成的文件结构</h3>\n<pre><code>assets/\n├── bootsplash_logo.xml       # Android矢量logo\n├── bootsplash_logo.png       # iOS logo\n├── bootsplash_dark.png       # 深色模式\n└── bootsplash_header.png     # 顶部留白控制\n</code></pre>\n<h2>五、动态适配代码实现</h2>\n<h3>1. 获取屏幕尺寸动态调整</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Dimensions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-keyword">const</span> { width, height } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">SplashScreen</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> isSmallScreen = height &lt; <span class="hljs-number">600</span>;\n  <span class="hljs-keyword">const</span> isTablet = width &gt;= <span class="hljs-number">600</span>;\n\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Image</span>\n      <span class="hljs-attr">source</span>=<span class="hljs-string">{</span>\n        <span class="hljs-attr">isTablet</span> ? <span class="hljs-attr">require</span>(&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">splash-tablet.png</span>&#x27;) <span class="hljs-attr">:</span>\n        <span class="hljs-attr">isSmallScreen</span> ? <span class="hljs-attr">require</span>(&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">splash-small.png</span>&#x27;) <span class="hljs-attr">:</span>\n        <span class="hljs-attr">require</span>(&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">splash-normal.png</span>&#x27;)\n      }\n      <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">width:</span> &#x27;<span class="hljs-attr">100</span>%&#x27;, <span class="hljs-attr">height:</span> &#x27;<span class="hljs-attr">100</span>%&#x27; }}\n      <span class="hljs-attr">resizeMode</span>=<span class="hljs-string">&quot;contain&quot;</span>\n    /&gt;</span></span>\n  );\n}\n</code></pre>\n<h3>2. 使用 Flex 布局适配</h3>\n<pre><code class="language-javascript">&lt;<span class="hljs-title class_">View</span> style={styles.<span class="hljs-property">container</span>}&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageBackground</span> \n    <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">splash.png</span>&#x27;)}\n    <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.background}</span>\n    <span class="hljs-attr">resizeMode</span>=<span class="hljs-string">&quot;cover&quot;</span>\n  &gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.content}</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> \n        <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>&#x27;<span class="hljs-attr">.</span>/<span class="hljs-attr">logo.png</span>&#x27;)} \n        <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>\n          <span class="hljs-attr">styles.logo</span>,\n          { \n            <span class="hljs-attr">width:</span> <span class="hljs-attr">Dimensions.get</span>(&#x27;<span class="hljs-attr">window</span>&#x27;)<span class="hljs-attr">.width</span> * <span class="hljs-attr">0.5</span>,\n            <span class="hljs-attr">height:</span> <span class="hljs-attr">Dimensions.get</span>(&#x27;<span class="hljs-attr">window</span>&#x27;)<span class="hljs-attr">.width</span> * <span class="hljs-attr">0.5</span> \n          }\n        ]} \n      /&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">ImageBackground</span>&gt;</span></span>\n&lt;/<span class="hljs-title class_">View</span>&gt;\n</code></pre>\n<h2>六、特殊设备适配技巧</h2>\n<h3>1. 全面屏设备适配</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { getStatusBarHeight } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-status-bar-height&#x27;</span>;\n\n<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({\n  <span class="hljs-attr">container</span>: {\n    <span class="hljs-attr">paddingTop</span>: <span class="hljs-title function_">getStatusBarHeight</span>(),\n    <span class="hljs-attr">paddingBottom</span>: <span class="hljs-title class_">DeviceInfo</span>.<span class="hljs-title function_">hasNotch</span>() ? <span class="hljs-number">20</span> : <span class="hljs-number">0</span>\n  }\n});\n</code></pre>\n<h3>2. 横屏模式适配</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 监听屏幕方向变化</span>\n<span class="hljs-keyword">const</span> [orientation, setOrientation] = <span class="hljs-title function_">useState</span>(\n  <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>).<span class="hljs-property">width</span> &gt; <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>).<span class="hljs-property">height</span> \n    ? <span class="hljs-string">&#x27;LANDSCAPE&#x27;</span> \n    : <span class="hljs-string">&#x27;PORTRAIT&#x27;</span>\n);\n\n<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> subscription = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">{ <span class="hljs-variable language_">window</span> }</span>) =&gt;</span> {\n    <span class="hljs-title function_">setOrientation</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">width</span> &gt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">height</span> ? <span class="hljs-string">&#x27;LANDSCAPE&#x27;</span> : <span class="hljs-string">&#x27;PORTRAIT&#x27;</span>);\n  });\n  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> subscription?.<span class="hljs-title function_">remove</span>();\n}, []);\n</code></pre>\n<h2>七、常见问题解决</h2>\n<h3>1. 图片拉伸变形</h3>\n<p><strong>解决方案</strong>  ：</p>\n<pre><code class="language-javascript">&lt;<span class="hljs-title class_">Image</span> \n  source={<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./splash.png&#x27;</span>)}\n  resizeMode=<span class="hljs-string">&quot;contain&quot;</span> <span class="hljs-comment">// 或 &quot;cover&quot;、&quot;stretch&quot;</span>\n  style={{ \n    <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;100%&#x27;</span>, \n    <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;100%&#x27;</span>,\n    <span class="hljs-attr">aspectRatio</span>: <span class="hljs-number">9</span>/<span class="hljs-number">16</span> <span class="hljs-comment">// 保持原图比例</span>\n  }}\n/&gt;\n</code></pre>\n<h3>2. 低端设备加载大图内存溢出</h3>\n<p><strong>解决方案</strong>  ：</p>\n<ul>\n<li>为低端设备准备压缩版图片</li>\n<li>使用 WebP 格式减少内存占用</li>\n<li>分步加载：先显示纯色背景，再淡入图片</li>\n</ul>\n<h3>3. 开屏页显示时间不一致</h3>\n<p><strong>解决方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 确保最短显示时间</span>\n<span class="hljs-keyword">const</span> [appReady, setAppReady] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);\n<span class="hljs-keyword">const</span> [minSplashShown, setMinSplashShown] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);\n\n<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setMinSplashShown</span>(<span class="hljs-literal">true</span>), <span class="hljs-number">2000</span>); <span class="hljs-comment">// 至少2秒</span>\n  \n  <span class="hljs-title function_">loadAppData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-title function_">setAppReady</span>(<span class="hljs-literal">true</span>);\n  });\n\n  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer);\n}, []);\n\n<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">if</span> (appReady &amp;&amp; minSplashShown) {\n    <span class="hljs-title class_">SplashScreen</span>.<span class="hljs-title function_">hide</span>();\n  }\n}, [appReady, minSplashShown]);\n</code></pre>\n<h2>八、最佳实践建议</h2>\n<ol>\n<li><strong>设计规范</strong>  ：\n<ul>\n<li>保持核心内容在安全区内（距离边缘至少5%）</li>\n<li>为全面屏设备设计更长比例的图片（如19.5:9）</li>\n</ul>\n</li>\n<li><strong>性能优化</strong>  ：\n<ul>\n<li>使用渐进式图片加载</li>\n<li>避免开屏页包含过多元素</li>\n</ul>\n</li>\n<li><strong>测试方案</strong>  ：\n<ul>\n<li>在以下设备测试：\n<ul>\n<li>小屏手机（如iPhone SE）</li>\n<li>大屏手机（如iPhone Pro Max）</li>\n<li>平板设备（如iPad）</li>\n<li>折叠屏设备（如三星Fold）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>自动化工具</strong>  ：<pre><code class="language-sh"><span class="hljs-comment"># 使用 react-native-make 自动生成多尺寸图片</span>\nnpx react-native set-splash --path ./splash.png --platform all\n</code></pre>\n</li>\n</ol>\n<p>通过以上方法，你可以确保开屏页在各种分辨率的设备上都能完美展示，提供一致的用户体验。</p>\n</div>'</script></body></html>