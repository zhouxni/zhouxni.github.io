<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x4e68(t,n){var o=_0x1ce3();return(_0x4e68=function(n,s){var l=o[n-=325];void 0===_0x4e68.LWkNOV&&(_0x4e68.jMGITm=function(n,s){var l,a=[],t=0,o="";for(n=(n=>{for(var s,l,a="",t="",o=0,r=0;l=n.charAt(r++);~l&&(s=o%4?64*s+l:l,o++%4)&&(a+=String.fromCharCode(255&s>>(-2*o&6))))l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(var e=0,i=a.length;e<i;e++)t+="%"+("00"+a.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)})(n),r=0;r<256;r++)a[r]=r;for(r=0;r<256;r++)t=(t+a[r]+s.charCodeAt(r%s.length))%256,l=a[r],a[r]=a[t],a[t]=l;for(var r=0,t=0,e=0;e<n.length;e++)l=a[r=(r+1)%256],a[r]=a[t=(t+a[r])%256],a[t]=l,o+=String.fromCharCode(n.charCodeAt(e)^a[(a[r]+a[t])%256]);return o},t=arguments,_0x4e68.LWkNOV=!0);var n=n+o[0],a=t[n];return a?l=a:(void 0===_0x4e68.Xdyief&&(_0x4e68.Xdyief=!0),l=_0x4e68.jMGITm(l,s),t[n]=l),l})(t,n)}function _0x1ce3(){var n=["WR0nWQlcTCoWW5pdQaqgFSkuWPe","tSktlcyPWQtdKCkb","zCkXgSkCW7tcVvdcKZ82m8oSW53dRW","xZPDWO4tW53cHmkRWPi3dbC","hNtcOCo4z8okpMldNCkdCmoO","W6jrFSoyW7hdLdRdOLVcHCk7W6i","omkBW5FdICoRa3tdGY80ht9/","WRBdJI8+D8kosKnJqSk4W7u","W47cONvZW5O3W7FdNfpcMNDwWOpcTW","W6nBCCozW7NdNINdMxpcMCkQW6S","W4STtmkvpdrzWOi","W5VcICkYW6tdL08NBa","W7CTu8oiWO3cP8o7t8kwemosW64","qYVdSmkHiSkvhvO","jCoNkhGmW47cGa","tSktadmHWRZdMCk/","W4JcONfXW5m0W7tcO3RcMf9vWQa","l8oDWOpcHf4ZW4pdIG","hhBcQ8oYBSoekgZdNSktsmo4","W7uBlSowWRyfDmoog8o2W5ql","umkOW7RcJCk3bKGnWQldKmkhW6aFW41ZWP5Wtv1hWQXIxXZdGCoR","d8oufHaQ","W4iJDSkxcc9qWRO","W7VdGCk6xmopscf4ba","eSkxW6ddPqldK8kdWRu","WO3cKmkaFmofBG5r","ymkWDCoRWRtdNWFdPW","eMGzW78GW61V","W5xcIbpcJ8oRDSoFW57cQCk6vsG"];return(_0x1ce3=function(){return n})()}var _0x36e74a=_0x4e68;if((()=>{for(var n=_0x4e68,s=_0x1ce3();;)try{if(490346==-parseInt(n(330,"lIZN"))+parseInt(n(348,"YRSY"))/2*(-parseInt(n(327,"DA9m"))/3)+parseInt(n(329,"]4$l"))/4*(-parseInt(n(353,"iiom"))/5)+-parseInt(n(337,"]fWR"))/6*(-parseInt(n(345,"lIZN"))/7)+parseInt(n(336,"udO0"))/8*(-parseInt(n(344,"Z$*7"))/9)+-parseInt(n(328,"jJK)"))/10+-parseInt(n(349,"jJK)"))/11*(-parseInt(n(342,"DA9m"))/12))break;s.push(s.shift())}catch(n){s.push(s.shift())}})(),localStorage[_0x36e74a(326,")Mgw")](_0x36e74a(335,"]fWR"))!=_0x36e74a(333,"DA9m"))throw window[_0x36e74a(325,"lIZN")][_0x36e74a(339,"&kEu")](_0x36e74a(332,"lPXN")),Error();document.title="React Native 本地开发调试",document.getElementById("article").innerHTML='<div><p>在 React Native 本地开发中，调试是保证应用质量的关键环节。以下是全面的调试指南，涵盖常用工具、技巧和问题解决方案：</p>\n<hr>\n<h3><strong>一、基础调试工具</strong></h3>\n<h4>1. <strong>Console 日志输出</strong></h4>\n<ul>\n<li><strong>查看位置</strong>  ：\n<ul>\n<li>Metro 终端（<code>npm start</code> 启动的窗口）</li>\n<li>Chrome 开发者工具（需开启 Debug 模式）</li>\n<li>React Native Debugger 或 Flipper</li>\n</ul>\n</li>\n<li><strong>增强日志</strong>  ：</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;普通日志&#x27;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&#x27;警告&#x27;</span>);  <span class="hljs-comment">// 黄色提示</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;错误&#x27;</span>); <span class="hljs-comment">// 红色提示，可捕获堆栈</span>\n</code></pre>\n<h4>2. <strong>Chrome 开发者工具</strong></h4>\n<ul>\n<li><strong>开启步骤</strong>  ：</li>\n</ul>\n<ol>\n<li>摇动设备/按 <code>Ctrl+M</code>（Android）或 <code>Cmd+D</code>（iOS） → 选择 <strong>&quot;Debug&quot;</strong>  。</li>\n<li>浏览器访问 <code>http://localhost:8081/debugger-ui</code>。</li>\n</ol>\n<ul>\n<li><strong>功能</strong>  ：\n<ul>\n<li><strong>Console</strong>  ：查看日志、执行 JS 代码。</li>\n<li><strong>Sources</strong>  ：调试源码（支持断点）。</li>\n<li><strong>Network</strong>  ：监控 API 请求（需额外配置）。</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-comment">// 入口文件index.js</span>\n<span class="hljs-keyword">if</span> (__DEV__) {\n  <span class="hljs-variable language_">global</span>.<span class="hljs-property">XMLHttpRequest</span> = <span class="hljs-variable language_">global</span>.<span class="hljs-property">originalXMLHttpRequest</span> || <span class="hljs-variable language_">global</span>.<span class="hljs-property">XMLHttpRequest</span>;\n  <span class="hljs-variable language_">global</span>.<span class="hljs-property">FormData</span> = <span class="hljs-variable language_">global</span>.<span class="hljs-property">originalFormData</span> || <span class="hljs-variable language_">global</span>.<span class="hljs-property">FormData</span>;\n  \n  <span class="hljs-comment">// 对于RN 0.71+，建议也加上fetch的polyfill</span>\n  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">global</span>.<span class="hljs-property">fetch</span>) {\n    <span class="hljs-variable language_">global</span>.<span class="hljs-property">originalFetch</span> = <span class="hljs-variable language_">global</span>.<span class="hljs-property">fetch</span>;\n  }\n}\n</code></pre>\n</li>\n</ul>\n<h4>3. <strong>React Native Debugger</strong></h4>\n<ul>\n<li><strong>安装</strong>  ：</li>\n</ul>\n<pre><code class="language-sh">brew install --cask react-native-debugger  <span class="hljs-comment"># Mac</span>\n</code></pre>\n<ul>\n<li><strong>功能</strong>  ：\n<ul>\n<li>集成 Redux 状态管理调试。</li>\n<li>支持 React 组件树检查。</li>\n<li>网络请求监控（需配置 <code>XMLHttpRequest</code> 代理）。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>二、高级调试技巧</strong></h3>\n<h4>1. <strong>远程调试 JS</strong></h4>\n<ul>\n<li><strong>iOS 真机</strong>  ：</li>\n</ul>\n<ol>\n<li>通过 Xcode 部署应用。</li>\n<li>在 Safari 中启用 <strong>Develop → [设备名]</strong>   调试。</li>\n</ol>\n<ul>\n<li><strong>Android 真机</strong>  ：</li>\n</ul>\n<pre><code class="language-sh">adb reverse tcp:8081 tcp:8081  <span class="hljs-comment"># 端口转发</span>\n</code></pre>\n<h4>2. <strong>性能分析</strong></h4>\n<ul>\n<li><strong>React Profiler</strong>  ：\n<ul>\n<li>在 React Native Debugger 中启用 <strong>Profiler</strong>   标签页。</li>\n<li>检测组件渲染性能。</li>\n</ul>\n</li>\n<li><strong>原生性能工具</strong>  ：\n<ul>\n<li>Android：Android Studio 的 <strong>CPU Profiler</strong>  。</li>\n<li>iOS：Xcode 的 <strong>Instruments</strong>  。</li>\n</ul>\n</li>\n</ul>\n<h4>3. <strong>网络请求调试</strong></h4>\n<ul>\n<li>使用 <code>Flipper</code> 或配置全局拦截：</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-variable language_">global</span>.<span class="hljs-property">XMLHttpRequest</span> = <span class="hljs-variable language_">global</span>.<span class="hljs-property">originalXMLHttpRequest</span> || <span class="hljs-variable language_">global</span>.<span class="hljs-property">XMLHttpRequest</span>;\n</code></pre>\n<hr>\n<h3><strong>三、常见问题解决</strong></h3>\n<h4>1. <strong>Hot Reload 失效</strong></h4>\n<ul>\n<li><strong>解决方案</strong>  ：\n<ul>\n<li>检查 Metro 终端是否有语法错误。</li>\n<li>重启 Metro 并清理缓存：<pre><code class="language-bash">npm start -- --reset-cache\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<h4>2. <strong>真机无法连接调试</strong></h4>\n<ul>\n<li><strong>检查项</strong>  ：\n<ul>\n<li>确保电脑和手机在同一 Wi-Fi。</li>\n<li>Android 需关闭防火墙或允许端口 <code>8081</code>。</li>\n<li>iOS 需信任开发者证书（设置 → 通用 → 设备管理）。</li>\n</ul>\n</li>\n</ul>\n<h4>3. <strong>原生模块调试</strong></h4>\n<ul>\n<li><strong>Android Logcat</strong>  ：</li>\n</ul>\n<pre><code class="language-sh">adb logcat | grep <span class="hljs-string">&quot;ReactNative&quot;</span>\n</code></pre>\n<ul>\n<li><strong>iOS Console</strong>  ：\n<ul>\n<li>通过 Xcode 的 <strong>Debug Console</strong>   查看。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>四、推荐工具链</strong></h3>\n<table>\n<thead>\n<tr>\n<th>工具</th>\n<th>用途</th>\n<th>安装方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Flipper</strong></td>\n<td>集成日志、网络、数据库调试</td>\n<td><code>brew install --cask flipper</code></td>\n</tr>\n<tr>\n<td><strong>Wireshark</strong></td>\n<td>深度网络抓包（SSL 解密需配置）</td>\n<td>官网下载</td>\n</tr>\n<tr>\n<td><strong>Reactotron</strong></td>\n<td>本地状态管理监控</td>\n<td><code>npm install reactotron-react-native</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>五、调试流程示例</strong></h3>\n<ol>\n<li><strong>复现问题</strong>  ：明确触发条件（如特定操作、数据）。</li>\n<li><strong>隔离问题</strong>  ：</li>\n</ol>\n<ul>\n<li>通过 <code>console.log</code> 定位代码范围。</li>\n<li>使用断点（Chrome 或 RN Debugger）逐步执行。</li>\n</ul>\n<ol start="3">\n<li><strong>修复验证</strong>  ：</li>\n</ol>\n<ul>\n<li>修改后测试 Hot Reload 是否生效。</li>\n<li>真机复测（模拟器可能无法复现所有问题）。</li>\n</ul>\n<hr>\n<h3><strong>六、注意事项</strong></h3>\n<ul>\n<li><strong>生产环境禁用调试</strong>  ：</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">if</span> (__DEV__) {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;仅开发环境显示&#x27;</span>);\n}\n</code></pre>\n<ul>\n<li><strong>性能权衡</strong>  ：远程调试会增加延迟，复杂动画建议真机测试。</li>\n</ul>\n<p>通过结合工具链和系统化调试流程，可以高效定位和解决 React Native 开发中的各类问题。</p>\n</div>'</script></body></html>