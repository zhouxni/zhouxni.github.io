<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x46f9(){var s=["W68ZW6TGiq3dNq","Amo1WPpdSmkNxb7dI0zrW43dNYy","WPq8kb4JCcmbW61FW6eZ","WPObWQRcTJ7cRexdGWpdSuq","CCoSWPmVW4aEid4vW4/dKae","jNNcVe1MWRJdLfqpeZC","cJ/dU8kWnbHAWQTjva","WRzYW7FcOxNdTWlcKSkkW5m+W5JdTW","WPf7W4vzW6dcPKbL","yCo4W6FcT8oogeRdOa","j8k7W59qWObdoa","e0abW7VcGCoQbSo5WPrPW53cKq","WRSWWOhcVKRdUqn1cmkE","teddGe3cNmk8Cbf3WQnIWPtcSmk0WQ3dMYZdSmowCxBcQr/cNIBcHa","xmoUWRzxvvJcJhxdHa","mmoysmoxWRDskmoG","pqJcPSkIW6FcM1LTqq","gcjAWRC0e3yAkIDPWOZcJa","WOddKKtcI8kGn8ksjmoq","W53dRSo2fMNcLgfDWRJcGenXzW","bKXdAdJdSItcRHPvoNRcMG","jfutB8oL","WQm1tKFdVCkOACoPzmkcWPjo","vmkWoeTAbmkXnMu","fWtcHa3dMSk0z1fmWP1hWQZcNG","FgtcRSoLlYr9WOrb","WOtdK07dN8ozkmk2f8o2E8oM","z8k7nbVdNH7dTx96owe"];return(_0x46f9=function(){return s})()}var _0xda1247=_0x46eb;function _0x46eb(t,s){var e=_0x46f9();return(_0x46eb=function(s,a){var n=e[s-=408];void 0===_0x46eb.ZzktUS&&(_0x46eb.dFwtUF=function(s,a){var n,l=[],t=0,e="";for(s=(s=>{for(var a,n,l="",t="",e=0,p=0;n=s.charAt(p++);~n&&(a=e%4?64*a+n:n,e++%4)&&(l+=String.fromCharCode(255&a>>(-2*e&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var o=0,c=l.length;o<c;o++)t+="%"+("00"+l.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(t)})(s),p=0;p<256;p++)l[p]=p;for(p=0;p<256;p++)t=(t+l[p]+a.charCodeAt(p%a.length))%256,n=l[p],l[p]=l[t],l[t]=n;for(var p=0,t=0,o=0;o<s.length;o++)n=l[p=(p+1)%256],l[p]=l[t=(t+l[p])%256],l[t]=n,e+=String.fromCharCode(s.charCodeAt(o)^l[(l[p]+l[t])%256]);return e},t=arguments,_0x46eb.ZzktUS=!0);var s=s+e[0],l=t[s];return l?n=l:(void 0===_0x46eb.pnOsXY&&(_0x46eb.pnOsXY=!0),n=_0x46eb.dFwtUF(n,a),t[s]=n),n})(t,s)}if((()=>{for(var s=_0x46eb,a=_0x46f9();;)try{if(788559==+parseInt(s(420,"iY]O"))*(-parseInt(s(408,"Xbd@"))/2)+parseInt(s(435,"(w)5"))/3*(-parseInt(s(423,"R&x3"))/4)+parseInt(s(410,"2zTs"))/5+parseInt(s(422,"8Ih)"))/6+-parseInt(s(416,"c*K#"))/7*(-parseInt(s(415,"bQXw"))/8)+parseInt(s(417,"mE%e"))/9+parseInt(s(433,"5lNV"))/10*(-parseInt(s(426,"I^uM"))/11))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0xda1247(431,"N2[7")](_0xda1247(418,"U*4t"))!=_0xda1247(414,"6fu]"))throw window[_0xda1247(429,"0PK3")][_0xda1247(421,"LH%T")](_0xda1247(434,"mE%e")),Error();document.title="React Native 的 KeyboardAvoidingView 组件",document.getElementById("article").innerHTML='<div><h1>React Native 的 KeyboardAvoidingView 组件指南</h1>\n<p><code>KeyboardAvoidingView</code> 是 React Native 提供的一个用于处理键盘弹出时界面布局问题的组件。当键盘弹出时，它会自动调整其子组件的位置，避免键盘遮挡输入框或其他重要 UI 元素。</p>\n<h2>基本用法</h2>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyboardAvoidingView</span>, <span class="hljs-title class_">TextInput</span>, <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">KeyboardAvoidingView</span> \n      <span class="hljs-attr">behavior</span>=<span class="hljs-string">{Platform.OS</span> === <span class="hljs-string">&#x27;ios&#x27;</span> ? &#x27;<span class="hljs-attr">padding</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">height</span>&#x27;}\n      <span class="hljs-attr">style</span>=<span class="hljs-string">{{flex:</span> <span class="hljs-attr">1</span>}}\n    &gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;输入内容&quot;</span> /&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;提交&quot;</span> /&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">KeyboardAvoidingView</span>&gt;</span></span>\n  );\n}\n</code></pre>\n<h2>主要属性</h2>\n<h3><code>behavior</code> (必需)</h3>\n<p>指定键盘弹出时如何调整布局：</p>\n<ul>\n<li><code>\'height\'</code> - 调整组件高度</li>\n<li><code>\'padding\'</code> - 添加底部内边距</li>\n<li><code>\'position\'</code> - 调整组件位置</li>\n</ul>\n<p>iOS 上通常使用 <code>\'padding\'</code>，Android 上通常使用 <code>\'height\'</code>。</p>\n<h3><code>keyboardVerticalOffset</code> (可选)</h3>\n<p>指定额外的垂直偏移量，用于处理导航栏等固定元素：</p>\n<pre><code class="language-jsx">&lt;<span class="hljs-title class_">KeyboardAvoidingView</span> \n  behavior=<span class="hljs-string">&quot;padding&quot;</span>\n  keyboardVerticalOffset={<span class="hljs-number">60</span>}  <span class="hljs-comment">// 例如导航栏高度</span>\n&gt;\n  {<span class="hljs-comment">/* 内容 */</span>}\n&lt;/<span class="hljs-title class_">KeyboardAvoidingView</span>&gt;\n</code></pre>\n<h2>平台差异</h2>\n<h3>iOS</h3>\n<ul>\n<li>效果最好，支持所有行为模式</li>\n<li>推荐使用 <code>behavior=&quot;padding&quot;</code></li>\n</ul>\n<h3>Android</h3>\n<ul>\n<li>需要设置 <code>android:windowSoftInputMode=&quot;adjustResize&quot;</code> 在 AndroidManifest.xml 中</li>\n<li>键盘行为可能不太一致</li>\n<li>推荐使用 <code>behavior=&quot;height&quot;</code></li>\n</ul>\n<h2>最佳实践</h2>\n<ol>\n<li><strong>结合 ScrollView 使用</strong>  ：<pre><code class="language-jsx">&lt;<span class="hljs-title class_">KeyboardAvoidingView</span> behavior=<span class="hljs-string">&quot;padding&quot;</span> style={{<span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>}}&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span> <span class="hljs-attr">contentContainerStyle</span>=<span class="hljs-string">{{flexGrow:</span> <span class="hljs-attr">1</span>}}&gt;</span>\n    {/* 表单内容 */}\n  <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span>\n&lt;/<span class="hljs-title class_">KeyboardAvoidingView</span>&gt;\n</code></pre>\n</li>\n<li><strong>处理多输入表单</strong>  ：<pre><code class="language-jsx">&lt;<span class="hljs-title class_">KeyboardAvoidingView</span> behavior=<span class="hljs-string">&quot;position&quot;</span> keyboardVerticalOffset={<span class="hljs-number">80</span>}&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;输入1&quot;</span> /&gt;</span></span>\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;输入2&quot;</span> /&gt;</span></span>\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;输入3&quot;</span> /&gt;</span></span>\n&lt;/<span class="hljs-title class_">KeyboardAvoidingView</span>&gt;\n</code></pre>\n</li>\n<li><strong>自定义键盘关闭</strong>  ：<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Keyboard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;\n\n<span class="hljs-comment">// 在提交或取消时关闭键盘</span>\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"></span>) =&gt; {\n  <span class="hljs-title class_">Keyboard</span>.<span class="hljs-title function_">dismiss</span>();\n  <span class="hljs-comment">// 提交逻辑</span>\n};\n</code></pre>\n</li>\n</ol>\n<h2>常见问题解决</h2>\n<h3>键盘遮挡问题</h3>\n<ul>\n<li>确保 <code>KeyboardAvoidingView</code> 是屏幕的根容器或适当嵌套</li>\n<li>检查 <code>keyboardVerticalOffset</code> 是否设置正确</li>\n</ul>\n<h3>Android 上无效</h3>\n<ol>\n<li>确认 AndroidManifest.xml 中有：<pre><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>\n  <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.MainActivity&quot;</span>\n  <span class="hljs-attr">android:windowSoftInputMode</span>=<span class="hljs-string">&quot;adjustResize&quot;</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>\n</code></pre>\n</li>\n<li>尝试不同的 <code>behavior</code> 值</li>\n</ol>\n<h3>与第三方键盘冲突</h3>\n<p>某些第三方键盘可能行为不一致，可以尝试：</p>\n<ul>\n<li>使用 <code>keyboardVerticalOffset</code> 调整</li>\n<li>监听键盘事件手动调整布局</li>\n</ul>\n<h2>替代方案</h2>\n<p>如果 <code>KeyboardAvoidingView</code> 不能满足需求，可以考虑：</p>\n<ul>\n<li><code>react-native-keyboard-aware-scroll-view</code> 第三方库</li>\n<li>手动监听键盘事件调整布局</li>\n</ul>\n<p><code>KeyboardAvoidingView</code> 是处理键盘遮挡问题的轻量级解决方案，适合大多数简单场景。对于复杂布局，可能需要更高级的解决方案。</p>\n</div>'</script></body></html>