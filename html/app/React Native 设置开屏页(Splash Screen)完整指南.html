<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x14ca9b=_0x45fa;function _0x45fa(p,s){var t=_0x3736();return(_0x45fa=function(s,a){var n=t[s-=423];void 0===_0x45fa.yjXSCU&&(_0x45fa.eqCbWS=function(s,a){var n,l=[],p=0,t="";for(s=(s=>{for(var a,n,l="",p="",t=0,c=0;n=s.charAt(c++);~n&&(a=t%4?64*a+n:n,t++%4)&&(l+=String.fromCharCode(255&a>>(-2*t&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var e=0,o=l.length;e<o;e++)p+="%"+("00"+l.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(p)})(s),c=0;c<256;c++)l[c]=c;for(c=0;c<256;c++)p=(p+l[c]+a.charCodeAt(c%a.length))%256,n=l[c],l[c]=l[p],l[p]=n;for(var c=0,p=0,e=0;e<s.length;e++)n=l[c=(c+1)%256],l[c]=l[p=(p+l[c])%256],l[p]=n,t+=String.fromCharCode(s.charCodeAt(e)^l[(l[c]+l[p])%256]);return t},p=arguments,_0x45fa.yjXSCU=!0);var s=s+t[0],l=p[s];return l?n=l:(void 0===_0x45fa.CfhVKY&&(_0x45fa.CfhVKY=!0),n=_0x45fa.eqCbWS(n,a),p[s]=n),n})(p,s)}if((()=>{for(var s=_0x45fa,a=_0x3736();;)try{if(895540==+parseInt(s(445,"zQDW"))+-parseInt(s(437,"zR*T"))/2*(parseInt(s(434,"]gdb"))/3)+-parseInt(s(428,"s1Bo"))/4+parseInt(s(449,"l2wv"))/5+-parseInt(s(444,"l0m&"))/6*(-parseInt(s(430,"aG0C"))/7)+-parseInt(s(442,"#[pb"))/8*(-parseInt(s(424,"c@Yb"))/9)+parseInt(s(423,"#[pb"))/10*(-parseInt(s(448,"LY@M"))/11))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x14ca9b(433,"ulFV")](_0x14ca9b(431,"A@[L"))!=_0x14ca9b(446,"BjgH"))throw window[_0x14ca9b(436,"XM2x")][_0x14ca9b(427,"zR*T")](_0x14ca9b(440,"wBE0")),Error();function _0x3736(){var s=["W4hdSgddNNCmBXNdHCkIsmo6","W4VdNcfnW6TeWPFcOIVcIW","WRdcKSoSWOlcIeVcNfnEWO4","vv9fwCkxW5ldJCkQ","y2u5W63cNmkAWPP7W5pcHZjK","kSkNWQxcRdq","FriAnmkbW4CAW6dcKafS","W51pWP0nWR/cOSoTW4C","pSkqhdpcJmkeWP/cUCopt2m0na","W47dMYfjWQGYW47dMbdcMCk/mqqp","esLhW643W416CSo8WOVdMq","vt5hESkJW4FdLq","W5JdIaZdPe7dTt7cKZBdGZmP","W7XRqCkaWQTFW6i","WPJdPv1ZWRudW4ZdMfNdVSoIoHy","W6RcMSomW648xSkfW44zdCk2nuq","WOxdOf7cNLddKvv0W5CWr3e","mCkzW6FdJWv8W4j6WQ0","B8oKW6FdQhHjBSkiW7lcI8kdW5G","AmkOChZcGCowuW","WQZcGCoCqSo3WP5N","afqsWQT+W7BcUbi","WPmxW6TDWQhdMJXD","WR88cCoCW7KiW7mvW4JcLZmX","WQ7dP8o9tCoMWOPOfa","WQ7dOCkIfCkIW58NsmoUp8kije8g","imoKW51OW6SsbCkwWOJcQCk8W5/cQ30vW6ddKrtdKSkJW6ZcKSohlNNcPG"];return(_0x3736=function(){return s})()}document.title="React Native 设置开屏页(Splash Screen)完整指南",document.getElementById("article").innerHTML='<div><p>在 React Native 应用中添加专业的开屏页可以提升用户体验。以下是设置开屏页的几种主流方法：</p>\n<h2>一、使用 react-native-splash-screen (传统方式)</h2>\n<h3>1. 安装配置</h3>\n<pre><code class="language-sh">npm install react-native-splash-screen\n<span class="hljs-comment"># 或</span>\nyarn add react-native-splash-screen\n</code></pre>\n<h3>2. 原生配置</h3>\n<h4>iOS 配置</h4>\n<ol>\n<li>将开屏图片添加到 Xcode 项目 <code>Images.xcassets</code> 中</li>\n<li>修改 <code>AppDelegate.m</code>：</li>\n</ol>\n<pre><code class="language-objc"><span class="hljs-meta">#import <span class="hljs-string">&quot;RNSplashScreen.h&quot;</span> <span class="hljs-comment">// 添加头文件</span></span>\n\n- (<span class="hljs-type">BOOL</span>)application:(<span class="hljs-built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="hljs-built_in">NSDictionary</span> *)launchOptions\n{\n  [RNSplashScreen show];  <span class="hljs-comment">// 添加这行</span>\n  <span class="hljs-keyword">return</span> <span class="hljs-literal">YES</span>;\n}\n</code></pre>\n<h4>Android 配置</h4>\n<ol>\n<li>将开屏图片放入 <code>android/app/src/main/res/drawable</code> 目录</li>\n<li>创建 <code>launch_screen.xml</code> 布局文件：</li>\n</ol>\n<pre><code class="language-xml"><span class="hljs-comment">&lt;!-- android/app/src/main/res/drawable/launch_screen.xml --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>\n    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span> <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span>\n    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span>\n    <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@drawable/splash&quot;</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>\n</code></pre>\n<ol start="3">\n<li>修改 <code>styles.xml</code>：</li>\n</ol>\n<pre><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;AppTheme&quot;</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">&quot;Theme.AppCompat.Light.NoActionBar&quot;</span>&gt;</span><span class="language-xml">\n    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;android:windowBackground&quot;</span>&gt;</span>@drawable/launch_screen<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>\n</code></pre>\n<h3>3. React Native 代码中使用</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">SplashScreen</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-splash-screen&#x27;</span>;\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {\n  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-comment">// 隐藏开屏页</span>\n    <span class="hljs-title class_">SplashScreen</span>.<span class="hljs-title function_">hide</span>();\n  }\n\n  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">return</span> (\n      <span class="hljs-comment">// 你的应用内容</span>\n    );\n  }\n}\n</code></pre>\n<h2>二、使用 react-native-bootsplash (现代推荐)</h2>\n<h3>1. 安装</h3>\n<pre><code class="language-sh">npm install react-native-bootsplash\n<span class="hljs-comment"># 或</span>\nyarn add react-native-bootsplash\n</code></pre>\n<h3>2. 生成资源文件</h3>\n<pre><code class="language-sh">npx react-native generate-bootsplash assets/splash.png \\\n  --background-color=FFFFFF \\\n  --logo-width=100 \\\n  --assets-path=assets\n</code></pre>\n<h3>3. 原生配置</h3>\n<h4>iOS 配置</h4>\n<ol>\n<li>修改 <code>AppDelegate.mm</code>：</li>\n</ol>\n<pre><code class="language-objc"><span class="hljs-meta">#import <span class="hljs-string">&quot;RNBootSplash.h&quot;</span> <span class="hljs-comment">// 添加头文件</span></span>\n\n- (<span class="hljs-type">BOOL</span>)application:(<span class="hljs-built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="hljs-built_in">NSDictionary</span> *)launchOptions\n{\n  [RNBootSplash initWithStoryboard:<span class="hljs-string">@&quot;BootSplash&quot;</span> rootView:rootView]; <span class="hljs-comment">// 添加这行</span>\n  <span class="hljs-keyword">return</span> <span class="hljs-literal">YES</span>;\n}\n</code></pre>\n<h4>Android 配置</h4>\n<ol>\n<li>修改 <code>MainActivity.java</code>：</li>\n</ol>\n<pre><code class="language-java"><span class="hljs-keyword">import</span> com.zoontek.rnbootsplash.RNBootSplash; <span class="hljs-comment">// 添加导入</span>\n\n<span class="hljs-meta">@Override</span>\n<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {\n  RNBootSplash.init(<span class="hljs-built_in">this</span>); <span class="hljs-comment">// 添加这行</span>\n  <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);\n}\n</code></pre>\n<h3>4. React Native 中使用</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">RNBootSplash</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-bootsplash&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> <span class="hljs-title function_">init</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {\n      <span class="hljs-comment">// ...其他初始化代码</span>\n      <span class="hljs-keyword">await</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>({ <span class="hljs-attr">fade</span>: <span class="hljs-literal">true</span> });\n    };\n\n    <span class="hljs-title function_">init</span>();\n  }, []);\n\n  <span class="hljs-keyword">return</span> (\n    <span class="hljs-comment">// 你的应用内容</span>\n  );\n}\n</code></pre>\n<h2>三、Expo 项目设置开屏页</h2>\n<h3>1. 配置 app.json</h3>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;expo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;splash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n      <span class="hljs-attr">&quot;image&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./assets/splash.png&quot;</span><span class="hljs-punctuation">,</span>\n      <span class="hljs-attr">&quot;resizeMode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;contain&quot;</span><span class="hljs-punctuation">,</span>\n      <span class="hljs-attr">&quot;backgroundColor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#ffffff&quot;</span><span class="hljs-punctuation">,</span>\n      <span class="hljs-attr">&quot;dark&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n        <span class="hljs-attr">&quot;image&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./assets/splash-dark.png&quot;</span><span class="hljs-punctuation">,</span>\n        <span class="hljs-attr">&quot;backgroundColor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#121212&quot;</span>\n      <span class="hljs-punctuation">}</span>\n    <span class="hljs-punctuation">}</span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<h3>2. 手动隐藏开屏页</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">SplashScreen</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;expo-splash-screen&#x27;</span>;\n\n<span class="hljs-title class_">SplashScreen</span>.<span class="hljs-title function_">preventAutoHideAsync</span>();\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n      <span class="hljs-title class_">SplashScreen</span>.<span class="hljs-title function_">hideAsync</span>();\n    }, <span class="hljs-number">2000</span>); <span class="hljs-comment">// 2秒后隐藏</span>\n  }, []);\n\n  <span class="hljs-keyword">return</span> (\n    <span class="hljs-comment">// 你的应用内容</span>\n  );\n}\n</code></pre>\n<h2>四、高级定制技巧</h2>\n<h3>1. 动态开屏页</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 根据条件显示不同开屏页</span>\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">showSplash</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {\n  <span class="hljs-keyword">const</span> isLoggedIn = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkAuth</span>();\n  <span class="hljs-keyword">if</span> (isLoggedIn) {\n    <span class="hljs-keyword">await</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>();\n  } <span class="hljs-keyword">else</span> {\n    <span class="hljs-keyword">await</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>({ <span class="hljs-attr">fade</span>: <span class="hljs-literal">true</span> });\n  }\n};\n</code></pre>\n<h3>2. 开屏页与加载数据结合</h3>\n<pre><code class="language-javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initApp</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">try</span> {\n      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadInitialData</span>();\n      <span class="hljs-keyword">await</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>();\n    } <span class="hljs-keyword">catch</span> (error) {\n      <span class="hljs-keyword">await</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>();\n      <span class="hljs-title function_">showError</span>(error);\n    }\n  };\n  \n  <span class="hljs-title function_">initApp</span>();\n}, []);\n</code></pre>\n<h3>3. 适配不同屏幕尺寸</h3>\n<ol>\n<li>准备多种尺寸的开屏图片：\n<ul>\n<li><code>splash.png</code> (基础)</li>\n<li><code>splash@2x.png</code> (2倍)</li>\n<li><code>splash@3x.png</code> (3倍)</li>\n</ul>\n</li>\n<li>使用 <code>react-native-bootsplash</code> 自动生成所有尺寸：</li>\n</ol>\n<pre><code class="language-sh">npx react-native generate-bootsplash assets/splash.png \\\n  --platforms=android,ios \\\n  --background=FFFFFF \\\n  --logo-width=100\n</code></pre>\n<h2>五、常见问题解决</h2>\n<h3>1. 开屏页闪烁问题</h3>\n<p><strong>解决方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 在App加载完成后再隐藏</span>\n<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-keyword">const</span> <span class="hljs-title function_">hideSplash</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">500</span>));\n    <span class="hljs-keyword">await</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>({ <span class="hljs-attr">fade</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">250</span> });\n  };\n  \n  <span class="hljs-title function_">hideSplash</span>();\n}, []);\n</code></pre>\n<h3>2. 开屏页图片变形</h3>\n<p><strong>解决方案</strong>  ：</p>\n<ul>\n<li>使用合适的 <code>resizeMode</code>：<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;splash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;resizeMode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;contain&quot;</span> <span class="hljs-comment">// 或 &quot;cover&quot;</span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n</li>\n</ul>\n<h3>3. 开屏页显示时间过短</h3>\n<p><strong>解决方案</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 确保所有必要数据加载完成</span>\n<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([\n  <span class="hljs-title function_">loadUserData</span>(),\n  <span class="hljs-title function_">loadConfig</span>(),\n  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>)) <span class="hljs-comment">// 至少显示1秒</span>\n]).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">RNBootSplash</span>.<span class="hljs-title function_">hide</span>());\n</code></pre>\n<h2>六、性能优化建议</h2>\n<ol>\n<li><strong>图片优化</strong>  ：\n<ul>\n<li>使用 PNG 格式而非 JPEG</li>\n<li>图片尺寸不超过 2000x2000 像素</li>\n<li>使用工具压缩图片（如 TinyPNG）</li>\n</ul>\n</li>\n<li><strong>内存管理</strong>  ：\n<ul>\n<li>开屏页隐藏后及时释放资源</li>\n<li>避免在开屏页加载过重资源</li>\n</ul>\n</li>\n<li><strong>测试覆盖</strong>  ：\n<ul>\n<li>在不同设备尺寸测试</li>\n<li>在深浅色模式测试</li>\n<li>在低端设备测试性能</li>\n</ul>\n</li>\n</ol>\n<p>选择适合你项目的方案，<code>react-native-bootsplash</code> 是目前最推荐的方式，它提供了更好的性能和更多的定制选项。对于 Expo 项目，使用内置的 SplashScreen API 是最简单的方式。</p>\n</div>'</script></body></html>