<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x49af75=_0x20a7;function _0x52f5(){var s=["W4HtWR85i8kwm8o+BKtcQmkyEW","W4TTgL1LWOxcICoDcCoIW4i","oGCrxYvjWQTFg8knkSkl","WRngWPJcRZRcQCk9","W50sWPhdQ8koW47dRfb0lNxdVCkS","dvWmBCohW5pdNIFcHSoGCSocWPe","nSkkzq3dSt3cMJ3cR8kVWQNdPfddTa","W5zCfKZcUwGReCkiW54","qMtdKCovWPu","W70kBJlcNmkEFCoT","W6/cGJlcRSkkDu7cU2a","WOHRe8kSW6PAW5LZW43dN8ktW6tcM8oR","W4lcLCoCm8odWQ7cIxRcPCoYwL4KWOe","WQVcL8oZz0FdHNa3","WP16W7ZcI0NdMKddISkCW6vHWPBcKCoI","W5DAgK3dOrvEjmkyW7X8aSkG","W6hcTuvWcaxdUG","mqddUCkCrHC2","WQbKfZSbW7lcHqxdRf7dNa","W4OmshybyxSeWRiQWPHbEW","wmkjyCk/nCooW6rTsItdRSoWW7S","n3ZcKSkwW45DW7BdNw/dOflcOG","WPBdVSoaWQlcKLFcPG","WRBdPSo3W7XQze7cSr4ocCk0xgb2W7TZW6CoWOJcUL7cPCoopuO","Fmolymo6tu7cTqC","WPZdLwtdVCkvtedcQNpcOa"];return(_0x52f5=function(){return s})()}function _0x20a7(o,s){var p=_0x52f5();return(_0x20a7=function(s,a){var n=p[s-=300];void 0===_0x20a7.OIeBYS&&(_0x20a7.voeGsP=function(s,a){var n,l=[],o=0,p="";for(s=(s=>{for(var a,n,l="",o="",p=0,t=0;n=s.charAt(t++);~n&&(a=p%4?64*a+n:n,p++%4)&&(l+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var e=0,r=l.length;e<r;e++)o+="%"+("00"+l.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(o)})(s),t=0;t<256;t++)l[t]=t;for(t=0;t<256;t++)o=(o+l[t]+a.charCodeAt(t%a.length))%256,n=l[t],l[t]=l[o],l[o]=n;for(var t=0,o=0,e=0;e<s.length;e++)n=l[t=(t+1)%256],l[t]=l[o=(o+l[t])%256],l[o]=n,p+=String.fromCharCode(s.charCodeAt(e)^l[(l[t]+l[o])%256]);return p},o=arguments,_0x20a7.OIeBYS=!0);var s=s+p[0],l=o[s];return l?n=l:(void 0===_0x20a7.BvFGqQ&&(_0x20a7.BvFGqQ=!0),n=_0x20a7.voeGsP(n,a),o[s]=n),n})(o,s)}if((()=>{for(var s=_0x20a7,a=_0x52f5();;)try{if(868352==+parseInt(s(319,"L1tu"))*(parseInt(s(311,"[b%G"))/2)+-parseInt(s(302,"!$7m"))/3*(parseInt(s(301,"UVXx"))/4)+-parseInt(s(313,"RT7s"))/5+parseInt(s(303,"Zq1S"))/6+-parseInt(s(316,"DTBh"))/7*(parseInt(s(305,"RT7s"))/8)+parseInt(s(309,"rH$9"))/9+-parseInt(s(304,"]Ujx"))/10)break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x49af75(320,"VuYz")](_0x49af75(308,"I(J7"))!=_0x49af75(306,"U]Uu"))throw window[_0x49af75(322,"*AkU")][_0x49af75(314,"@]R2")](_0x49af75(321,"ZV#^")),Error();document.title="浏览器中的 ESM (ECMAScript Modules)",document.getElementById("article").innerHTML='<div><p>ESM (ECMAScript Modules) 是现代浏览器原生支持的 JavaScript 模块系统，它允许开发者以模块化的方式组织和加载 JavaScript 代码。</p>\n<h2>基本用法</h2>\n<p>在 HTML 中通过 <code>&lt;script type=&quot;module&quot;&gt;</code> 标签加载 ESM 模块：</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">import</span> { functionName } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./module.js&#x27;</span>;\n  <span class="hljs-title function_">functionName</span>();\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h2>主要特性</h2>\n<ol>\n<li><strong>严格模式</strong>  ：模块代码默认在严格模式下运行</li>\n<li><strong>作用域隔离</strong>  ：模块有自己的作用域，不会污染全局</li>\n<li><strong>静态解析</strong>  ：导入导出在编译时确定</li>\n<li><strong>延迟执行</strong>  ：模块默认 defer 加载</li>\n</ol>\n<h2>导入导出语法</h2>\n<pre><code class="language-javascript"><span class="hljs-comment">// 导出</span>\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;value&#x27;</span>;\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params"></span>) {};\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> someValue;\n\n<span class="hljs-comment">// 导入</span>\n<span class="hljs-keyword">import</span> { name, func } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./module.js&#x27;</span>;\n<span class="hljs-keyword">import</span> defaultExport <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./module.js&#x27;</span>;\n<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable language_">module</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./module.js&#x27;</span>;\n</code></pre>\n<h2>浏览器支持</h2>\n<p>所有现代浏览器（Chrome、Firefox、Safari、Edge）都支持 ESM。IE 不支持。</p>\n<h2>动态导入</h2>\n<p>使用 <code>import()</code> 函数实现按需加载：</p>\n<pre><code class="language-javascript">button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-title function_">async</span> () =&gt; {\n  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./module.js&#x27;</span>);\n  <span class="hljs-variable language_">module</span>.<span class="hljs-title function_">doSomething</span>();\n});\n</code></pre>\n<h2>与 CommonJS 的区别</h2>\n<ol>\n<li>ESM 是静态的（编译时确定依赖），CommonJS 是动态的（运行时加载）</li>\n<li>ESM 支持 tree-shaking，CommonJS 不支持</li>\n<li>ESM 是异步加载，CommonJS 是同步加载</li>\n</ol>\n<h2>注意事项</h2>\n<ul>\n<li>模块文件需要正确的 MIME 类型 (<code>application/javascript</code>)</li>\n<li>跨域模块需要 CORS 头</li>\n<li>模块路径需要完整扩展名或配置服务器重写规则</li>\n</ul>\n<p>ESM 是现代前端开发的标准模块系统，逐渐取代了传统的脚本加载方式。</p>\n</div>'</script></body></html>