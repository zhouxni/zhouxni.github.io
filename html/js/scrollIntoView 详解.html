<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x1d1509=_0x1ce6;function _0x1ce6(t,s){var o=_0x15e0();return(_0x1ce6=function(s,n){var a=o[s-=263];void 0===_0x1ce6.ksNSWE&&(_0x1ce6.HgNNpI=function(s,n){var a,l=[],t=0,o="";for(s=(s=>{for(var n,a,l="",t="",o=0,e=0;a=s.charAt(e++);~a&&(n=o%4?64*n+a:a,o++%4)&&(l+=String.fromCharCode(255&n>>(-2*o&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var p=0,c=l.length;p<c;p++)t+="%"+("00"+l.charCodeAt(p).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)t=(t+l[e]+n.charCodeAt(e%n.length))%256,a=l[e],l[e]=l[t],l[t]=a;for(var e=0,t=0,p=0;p<s.length;p++)a=l[e=(e+1)%256],l[e]=l[t=(t+l[e])%256],l[t]=a,o+=String.fromCharCode(s.charCodeAt(p)^l[(l[e]+l[t])%256]);return o},t=arguments,_0x1ce6.ksNSWE=!0);var s=s+o[0],l=t[s];return l?a=l:(void 0===_0x1ce6.DZZkBp&&(_0x1ce6.DZZkBp=!0),a=_0x1ce6.HgNNpI(a,n),t[s]=a),a})(t,s)}function _0x15e0(){var s=["uCoxFCoiwmoiWQ/dHXJdHSoSWO8","aSoTy8oldNRcTW","W6LnWRCDB8ocWOVcJ8oYW78","W7bOWQnWnmkismkhb0bkW6S","W7qpW74KDSoyzq","W4xdPCkKW4CdWP1VWR8kpmo5xbJdTG","FWBcRvTUWRddUW","jwHGW57cSLZdRSkNW6ZdLwOFWRS","mWuWW7C3e8kZbCkglq","mq40W7jhEmoMf8kep8oYq18","W6JdU2XUFSksWQtdJq","tCoWAs5CDSoW","W6BcKCkNzSkpW6tcVq","drKEW7BdQ8osW6dcL3qwW6RcK0/dNa","idNcV2LkW7VcHmoImSo1W6JcR8k6W6OrWRmhW63dVmk1ksyhWPWJWRu","WRPHWQvIvq","jMXjl1uAk3/cGCkFW5yQWOa","E8kOoSoFW54aW5NcM8kTWQ3dU3RcQq","d8kio8oTbSkGW6NcI3JdOSoPj8oL","l8kyDmknWQCEW7jRCmknovqt","b1/cLGWkCCkhpsFcTq","brGFW7lcG8kwWOFdTNqK","fSknW6XSmmo4umk7W7fjW5XLWOi","chhcNf81eJm","A3tdHKnBWPbNxmkpuHbTW6S","omkBWR7cJSo6W6GZDr0"];return(_0x15e0=function(){return s})()}if((()=>{for(var s=_0x1ce6,n=_0x15e0();;)try{if(411807==+parseInt(s(266,"zDg$"))*(-parseInt(s(267,"zDg$"))/2)+parseInt(s(285,"x2^z"))/3+parseInt(s(265,"z^Nv"))/4*(-parseInt(s(283,"IY*]"))/5)+parseInt(s(270,"wh@F"))/6+parseInt(s(286,"w)dT"))/7*(-parseInt(s(272,"v9p3"))/8)+parseInt(s(281,")#c!"))/9+parseInt(s(268,"ix21"))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x1d1509(264,"(pYh")](_0x1d1509(288,"8Eb1"))!=_0x1d1509(278,"3j[U"))throw window[_0x1d1509(273,"$%iu")][_0x1d1509(275,"evP9")](_0x1d1509(277,"mzbw")),Error();document.title="scrollIntoView 详解",document.getElementById("article").innerHTML='<div><h3><strong><code>scrollIntoView</code> 方法详解</strong></h3>\n<p><code>scrollIntoView</code> 是一种用于将页面元素滚动到视口（viewport）中的方法。它可以让指定的元素在页面中可见，通常用于改善用户体验，尤其是在处理表单输入、长页面导航或动态内容时。</p>\n<hr>\n<h3><strong>1. 基本语法</strong></h3>\n<pre><code class="language-javascript">element.<span class="hljs-title function_">scrollIntoView</span>([options]);\n</code></pre>\n<ul>\n<li><strong><code>element</code></strong>  ：要滚动到视口中的 DOM 元素。</li>\n<li><strong><code>options</code></strong>  （可选）：一个布尔值或对象，用于指定滚动的行为和对齐方式。</li>\n</ul>\n<hr>\n<h3><strong>2. 参数说明</strong></h3>\n<h4><strong>布尔值参数（已废弃，不推荐使用）</strong></h4>\n<ul>\n<li><strong><code>true</code></strong>   或 <strong><code>{block: &quot;start&quot;, inline: &quot;nearest&quot;}</code></strong>  ：将元素滚动到视口的顶部（或尽可能靠近顶部）。</li>\n<li><strong><code>false</code></strong>   或 <strong>默认行为</strong>  ：将元素滚动到视口的底部（或尽可能靠近底部）。</li>\n</ul>\n<h4><strong>对象参数（推荐使用）</strong></h4>\n<p><code>options</code> 对象可以包含以下属性：</p>\n<ul>\n<li><strong><code>behavior</code></strong>  ：\n<ul>\n<li><code>&quot;auto&quot;</code>：默认值，立即滚动。</li>\n<li><code>&quot;smooth&quot;</code>：平滑滚动。</li>\n</ul>\n</li>\n<li><strong><code>block</code></strong>  ：\n<ul>\n<li><code>&quot;start&quot;</code>：将元素的顶部与视口顶部对齐。</li>\n<li><code>&quot;center&quot;</code>：将元素的中心与视口中心对齐。</li>\n<li><code>&quot;end&quot;</code>：将元素的底部与视口底部对齐。</li>\n<li><code>&quot;nearest&quot;</code>：滚动到最近的可视区域。</li>\n</ul>\n</li>\n<li><strong><code>inline</code></strong>  ：\n<ul>\n<li><code>&quot;start&quot;</code>：将元素的左侧与视口左侧对齐。</li>\n<li><code>&quot;center&quot;</code>：将元素的中心与视口中心对齐。</li>\n<li><code>&quot;end&quot;</code>：将元素的右侧与视口右侧对齐。</li>\n<li><code>&quot;nearest&quot;</code>：滚动到最近的可视区域。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>3. 使用场景</strong></h3>\n<h4><strong>表单输入</strong></h4>\n<p>当用户点击输入框时，确保输入框在视口中可见，避免被键盘或其他元素遮挡。</p>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myInput&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;Focus on me&quot;</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;myInput&#x27;</span>);\n\n  input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {\n    input.<span class="hljs-title function_">scrollIntoView</span>({\n      <span class="hljs-attr">behavior</span>: <span class="hljs-string">&#x27;smooth&#x27;</span>,\n      <span class="hljs-attr">block</span>: <span class="hljs-string">&#x27;center&#x27;</span>\n    });\n  });\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h4><strong>长页面导航</strong></h4>\n<p>在长页面中，当用户点击导航链接时，平滑滚动到目标部分。</p>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#section1&quot;</span>&gt;</span>Go to Section 1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#section2&quot;</span>&gt;</span>Go to Section 2<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;section1&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-top: 100vh; height: 100vh; background-color: lightblue;&quot;</span>&gt;</span>\n  Section 1\n<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;section2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin-top: 100vh; height: 100vh; background-color: lightcoral;&quot;</span>&gt;</span>\n  Section 2\n<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;a[href^=&quot;#&quot;]&#x27;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">anchor</span> =&gt;</span> {\n    anchor.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {\n      e.<span class="hljs-title function_">preventDefault</span>();\n      <span class="hljs-keyword">const</span> targetId = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;href&#x27;</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);\n      <span class="hljs-keyword">const</span> targetElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(targetId);\n      <span class="hljs-keyword">if</span> (targetElement) {\n        targetElement.<span class="hljs-title function_">scrollIntoView</span>({\n          <span class="hljs-attr">behavior</span>: <span class="hljs-string">&#x27;smooth&#x27;</span>,\n          <span class="hljs-attr">block</span>: <span class="hljs-string">&#x27;start&#x27;</span>\n        });\n      }\n    });\n  });\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h4><strong>动态内容加载</strong></h4>\n<p>在加载新内容后，自动滚动到新添加的元素。</p>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loadMore&quot;</span>&gt;</span>Load More<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>\n  <span class="hljs-comment">&lt;!-- 动态添加的内容将插入到这里 --&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">const</span> content = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;content&#x27;</span>);\n  <span class="hljs-keyword">const</span> loadMoreButton = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;loadMore&#x27;</span>);\n\n  loadMoreButton.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">const</span> newElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);\n    newElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;New Content&#x27;</span>;\n    newElement.<span class="hljs-property">style</span>.<span class="hljs-property">marginTop</span> = <span class="hljs-string">&#x27;100vh&#x27;</span>; <span class="hljs-comment">// 模拟新内容在页面下方</span>\n    content.<span class="hljs-title function_">appendChild</span>(newElement);\n\n    <span class="hljs-comment">// 滚动到新添加的元素</span>\n    newElement.<span class="hljs-title function_">scrollIntoView</span>({\n      <span class="hljs-attr">behavior</span>: <span class="hljs-string">&#x27;smooth&#x27;</span>,\n      <span class="hljs-attr">block</span>: <span class="hljs-string">&#x27;start&#x27;</span>\n    });\n  });\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<hr>\n<h3><strong>4. 注意事项</strong></h3>\n<ul>\n<li><strong>浏览器兼容性</strong>  ：\n<ul>\n<li><code>scrollIntoView</code> 在现代浏览器中广泛支持，包括 Chrome、Firefox、Safari、Edge 等。</li>\n<li>旧版浏览器可能不支持 <code>options</code> 对象，建议使用布尔值参数作为回退。</li>\n</ul>\n</li>\n<li><strong>滚动容器</strong>  ：\n<ul>\n<li>默认情况下，<code>scrollIntoView</code> 会滚动整个页面。</li>\n<li>如果元素在一个可滚动的容器中，需要确保容器本身是可滚动的，或者使用容器的滚动方法。</li>\n</ul>\n</li>\n<li><strong>性能考虑</strong>  ：\n<ul>\n<li>平滑滚动（<code>behavior: \'smooth\'</code>）可能会消耗更多的性能，尤其是在低端设备上。</li>\n<li>在需要高性能的场景中，考虑使用 <code>behavior: \'auto\'</code> 或自定义滚动动画。</li>\n</ul>\n</li>\n<li><strong>键盘可访问性</strong>  ：\n<ul>\n<li>确保在使用 <code>scrollIntoView</code> 时，不会破坏键盘导航体验。</li>\n<li>测试焦点管理，确保用户可以使用键盘在页面中正常导航。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>5. 常见问题</strong></h3>\n<h4><strong>问题：<code>scrollIntoView</code> 没有效果</strong></h4>\n<ul>\n<li><strong>原因</strong>  ：\n<ul>\n<li>元素已经在视口中可见。</li>\n<li>元素的 <code>display</code> 属性设置为 <code>none</code>，或元素未添加到 DOM 中。</li>\n<li>滚动容器设置不正确。</li>\n</ul>\n</li>\n<li><strong>解决方案</strong>  ：\n<ul>\n<li>确保元素不在视口中，或尝试不同的对齐方式。</li>\n<li>检查元素的可见性和 DOM 状态。</li>\n<li>确保滚动容器是可滚动的。</li>\n</ul>\n</li>\n</ul>\n<h4><strong>问题：平滑滚动不生效</strong></h4>\n<ul>\n<li><strong>原因</strong>  ：\n<ul>\n<li>浏览器不支持 <code>behavior: \'smooth\'</code>。</li>\n<li>滚动行为被其他脚本或 CSS 覆盖。</li>\n</ul>\n</li>\n<li><strong>解决方案</strong>  ：\n<ul>\n<li>检查浏览器兼容性，提供回退方案。</li>\n<li>确保没有其他脚本或 CSS 干扰滚动行为。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>6. 总结</strong></h3>\n<ul>\n<li><strong><code>scrollIntoView</code></strong>   是一种强大的方法，用于将页面元素滚动到视口中，提升用户体验。</li>\n<li>通过使用 <strong><code>options</code> 对象</strong>  ，可以精确控制滚动的行为和对齐方式。</li>\n<li>适用于 <strong>表单输入</strong>  、<strong>长页面导航</strong>   和 <strong>动态内容加载</strong>   等场景。</li>\n<li>在使用时，注意 <strong>浏览器兼容性</strong>  、<strong>滚动容器</strong>   和 <strong>性能考虑</strong>  。</li>\n</ul>\n<p>通过合理使用 <code>scrollIntoView</code>，可以显著改善网页的交互性和可访问性，为用户提供更加流畅和友好的浏览体验。</p>\n</div>'</script></body></html>