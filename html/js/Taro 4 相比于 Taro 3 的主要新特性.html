<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x2573(t,n){var i=_0x3626();return(_0x2573=function(n,o){var l=i[n-=313];void 0===_0x2573.OhtIxT&&(_0x2573.lEMthS=function(n,o){var l,r=[],t=0,i="";for(n=(n=>{for(var o,l,r="",t="",i=0,s=0;l=n.charAt(s++);~l&&(o=i%4?64*o+l:l,i++%4)&&(r+=String.fromCharCode(255&o>>(-2*i&6))))l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(var g=0,e=r.length;g<e;g++)t+="%"+("00"+r.charCodeAt(g).toString(16)).slice(-2);return decodeURIComponent(t)})(n),s=0;s<256;s++)r[s]=s;for(s=0;s<256;s++)t=(t+r[s]+o.charCodeAt(s%o.length))%256,l=r[s],r[s]=r[t],r[t]=l;for(var s=0,t=0,g=0;g<n.length;g++)l=r[s=(s+1)%256],r[s]=r[t=(t+r[s])%256],r[t]=l,i+=String.fromCharCode(n.charCodeAt(g)^r[(r[s]+r[t])%256]);return i},t=arguments,_0x2573.OhtIxT=!0);var n=n+i[0],r=t[n];return r?l=r:(void 0===_0x2573.BqwWxY&&(_0x2573.BqwWxY=!0),l=_0x2573.lEMthS(l,o),t[n]=l),l})(t,n)}var _0xd4273c=_0x2573;function _0x3626(){var n=["WR3dJaK/WPRcPMi","W73dTvhdOrVdI8oOrsqaW54tW6tcJwfNpCkAECkvFCk1WPPvWPddVW","cHXtWOqFWQNdT8oTWRHOASoYtG","xMeXW5pdMCopW47dTmk3amkDW40","W7ZdO8oSExW5W70","gSoAWPWNcSoYimoNlSkuCSkIW5C","kCk6lCodW5ZdLNaHWOpdUSotmCkv","ECkUW5PxhHbibG","W7BdMSkxWRldIW","W7VcVhRdSZ7cT3ifW4X/WRZdHCow","W7jyW5DbW6LHjCoXW4GOrCoiW60","FCk/WRtdVCoLvh4yW7WdA2X/","ECkVWQSGsgK2xSkeW53dPxSzW6W","WRyNexBdSmkMovC","W5bKdK/dKCk+W5OriCoxEadcGa","W4FdJmkhWQtdGCk2W4OiW5m","cb5tWO8rWQhdTSosWQroBmotAG","W5BcR3SEWQ7cJIHPW5jTkdRcSCo4","W6HFWOhcUa4yzra","imkaCY/cPSkrld4","W5dcO8ktq2DaWR3cOmkPnCoJWO0h","WRCFWPdcTSo5WQLlASoYpCoCWRC","W5jGauFdLCk2W5O5f8oZDqpcVq","WRLSASkSjrPeAG"];return(_0x3626=function(){return n})()}if((()=>{for(var n=_0x2573,o=_0x3626();;)try{if(795357==-parseInt(n(336,"psvg"))+-parseInt(n(330,"4Md2"))/2+-parseInt(n(324,"tLJC"))/3+parseInt(n(329,"jBs("))/4*(-parseInt(n(313,"(wsH"))/5)+-parseInt(n(321,"Yizk"))/6+parseInt(n(316,"Yj]g"))/7+parseInt(n(328,"&Slp"))/8*(parseInt(n(322,"lXJv"))/9))break;o.push(o.shift())}catch(n){o.push(o.shift())}})(),localStorage[_0xd4273c(314,"yH]u")](_0xd4273c(325,"4yeP"))!=_0xd4273c(318,"4yeP"))throw window[_0xd4273c(333,"H(YS")][_0xd4273c(334,"P#i[")](_0xd4273c(335,"BV6e")),Error();document.title="Taro 4 相比于 Taro 3 的主要新特性",document.getElementById("article").innerHTML='<div><p>Taro 4 是京东凹凸实验室推出的重大版本升级，相比 Taro 3 带来了许多架构改进和新功能支持。以下是主要的新特性对比：</p>\n<h2>一、核心架构升级</h2>\n<ol>\n<li>\n<p><strong>全新的编译系统</strong></p>\n<ul>\n<li>采用 <strong>Webpack 5</strong>   替代 Webpack 4（Taro 3）</li>\n<li>支持 <strong>Tree Shaking</strong>   和持久化缓存</li>\n<li>编译速度提升约 <strong>30%</strong></li>\n</ul>\n</li>\n<li>\n<p><strong>运行时重构</strong></p>\n<ul>\n<li>更轻量的运行时核心</li>\n<li>支持 <strong>React 18</strong>   新特性（如并发模式）</li>\n<li>优化了小程序自定义组件的渲染性能</li>\n</ul>\n</li>\n</ol>\n<h2>二、跨端能力增强</h2>\n<ol>\n<li>\n<p><strong>新增支持平台</strong></p>\n<ul>\n<li>鸿蒙 HarmonyOS 应用开发</li>\n<li>微信小程序 <strong>Skyline 渲染引擎</strong></li>\n<li>字节跳动小程序 <strong>新版渲染引擎</strong></li>\n</ul>\n</li>\n<li>\n<p><strong>跨端一致性提升</strong></p>\n<ul>\n<li>统一了各平台的 <strong>生命周期</strong>   行为</li>\n<li>改善了 <strong>CSS 样式</strong>   的跨端兼容性</li>\n<li>支持更多 <strong>React/Vue</strong>   特性跨端使用</li>\n</ul>\n</li>\n</ol>\n<h2>三、开发体验优化</h2>\n<ol>\n<li>\n<p><strong>TypeScript 全面支持</strong></p>\n<ul>\n<li>默认集成 TypeScript 4.7+</li>\n<li>提供更完善的类型定义</li>\n<li>支持 <strong>类型安全</strong>   的跨端 API 调用</li>\n</ul>\n</li>\n<li>\n<p><strong>开发者工具改进</strong></p>\n<ul>\n<li>全新的 <strong>CLI 工具链</strong></li>\n<li>内置 <strong>Web 开发服务器</strong>   （替代 webpack-dev-server）</li>\n<li>改进的 <strong>HMR (热更新)</strong>   体验</li>\n</ul>\n</li>\n<li>\n<p><strong>调试能力增强</strong></p>\n<ul>\n<li>支持 <strong>React DevTools</strong>   和 <strong>Vue DevTools</strong></li>\n<li>改进的 <strong>source map</strong>   支持</li>\n<li>新增 <strong>性能分析工具</strong></li>\n</ul>\n</li>\n</ol>\n<h2>四、性能优化</h2>\n<ol>\n<li>\n<p><strong>包体积优化</strong></p>\n<ul>\n<li>默认开启 <strong>代码压缩</strong>   和 <strong>分包加载</strong></li>\n<li>运行时体积减少约 <strong>20%</strong></li>\n</ul>\n</li>\n<li>\n<p><strong>渲染性能提升</strong></p>\n<ul>\n<li>虚拟列表组件性能优化</li>\n<li>减少不必要的 <strong>setData</strong>   调用</li>\n<li>支持 <strong>按需更新</strong>   模板</li>\n</ul>\n</li>\n<li>\n<p><strong>启动速度优化</strong></p>\n<ul>\n<li>改进的 <strong>预加载</strong>   机制</li>\n<li>支持 <strong>资源预拉取</strong></li>\n</ul>\n</li>\n</ol>\n<h2>五、生态与插件系统</h2>\n<ol>\n<li>\n<p><strong>插件系统升级</strong></p>\n<ul>\n<li>新的 <strong>插件 API</strong>   设计</li>\n<li>支持编译阶段 <strong>钩子函数</strong></li>\n<li>更容易扩展新平台</li>\n</ul>\n</li>\n<li>\n<p><strong>官方插件丰富</strong></p>\n<ul>\n<li>新增 <strong>状态管理</strong>   插件</li>\n<li>内置 <strong>UI 组件库</strong>   支持</li>\n<li>官方 <strong>图表库</strong>   集成</li>\n</ul>\n</li>\n<li>\n<p><strong>社区生态</strong></p>\n<ul>\n<li>兼容更多 <strong>第三方 React/Vue 生态库</strong></li>\n<li>改进的 <strong>Native 混合开发</strong>   支持</li>\n</ul>\n</li>\n</ol>\n<h2>六、迁移注意事项</h2>\n<ol>\n<li>\n<p><strong>破坏性变更</strong></p>\n<ul>\n<li>部分 API 调整（需检查升级指南）</li>\n<li>配置文件的格式变化</li>\n<li>不再支持 Node 12</li>\n</ul>\n</li>\n<li>\n<p><strong>推荐升级方式</strong></p>\n<pre><code class="language-bash"><span class="hljs-comment"># 全局安装 CLI</span>\nnpm install -g @tarojs/cli\n\n<span class="hljs-comment"># 在项目中升级</span>\ntaro update project\n</code></pre>\n</li>\n</ol>\n<p>Taro 4 通过架构重构带来了显著的性能提升和开发体验优化，特别适合需要利用最新 Web 技术栈开发跨端应用的团队。对于新项目，建议直接使用 Taro 4；对于现有 Taro 3 项目，可根据项目规模评估升级成本。</p>\n</div>'</script></body></html>