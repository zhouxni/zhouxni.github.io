<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x37ef(){var t=["W5VdS8kZWO8dWOWv","vauskwGaWQVcLmoXW60UwSk1W5hcUfBcJNxdH8k/x8k8mcLoWPq","mmotWO/cVSkkWQNcGSkEWPdcHCoJ","eSkcamoaWOPKpxNdV01bWPZcVW","p8kRW5ObrSotW7xdO8kT","vNVcImkhqmoCW67dGa","bSoHq3pdVSkzWO7dN8oaFu0p","sSkwxmoxWPuRWQDsW7qQdqVdVq","WQfUsGNdGYn+","W4LYWPWtmCoYa8k6ie3cI8oUW5a","W4G5wJtdOmk0WQ02W7xdOG","rfddLmkexCoNBCoe","WROHW4TeCSkYFmkmcG","W6tdSSo0Bmkkk8kB","W4tcIYPYzgDjf8ktxmo7fSoZ","WOikEc3dTcZcQSoAD8kZ","W7VdOJ7dMmkAwbdcG0biWRHryq","gq/cJSosemk+ASoiWOCcW6SD","z8kEqmktv8ktWRC","rbLplmoivJWFlmoxaG5d","taqvkMi","j3/dShBdPCkdW7NcIq","ix7cKrFcTmkiW4RcHfldRSo9","r2W7W499W4pcMCo4emooWR7cPCoU","kSoLiSkXiKGnW4BdOSkNWOXJvG","WRJdPCoGld7dT1LeW4VcKa","W6hcGCkotCkVo8kFkmo1","WQvfWPFdSIhdV10OW6JcMq"];return(_0x37ef=function(){return t})()}function _0x5a5e(d,t){var a=_0x37ef();return(_0x5a5e=function(t,n){var e=a[t-=365];void 0===_0x5a5e.QyaedR&&(_0x5a5e.UAnxTa=function(t,n){var e,s=[],d=0,a="";for(t=(t=>{for(var n,e,s="",d="",a=0,o=0;e=t.charAt(o++);~e&&(n=a%4?64*n+e:e,a++%4)&&(s+=String.fromCharCode(255&n>>(-2*a&6))))e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var c=0,r=s.length;c<r;c++)d+="%"+("00"+s.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(d)})(t),o=0;o<256;o++)s[o]=o;for(o=0;o<256;o++)d=(d+s[o]+n.charCodeAt(o%n.length))%256,e=s[o],s[o]=s[d],s[d]=e;for(var o=0,d=0,c=0;c<t.length;c++)e=s[o=(o+1)%256],s[o]=s[d=(d+s[o])%256],s[d]=e,a+=String.fromCharCode(t.charCodeAt(c)^s[(s[o]+s[d])%256]);return a},d=arguments,_0x5a5e.QyaedR=!0);var t=t+a[0],s=d[t];return s?e=s:(void 0===_0x5a5e.vpyhaO&&(_0x5a5e.vpyhaO=!0),e=_0x5a5e.UAnxTa(e,n),d[t]=e),e})(d,t)}var _0x113d14=_0x5a5e;if((()=>{for(var t=_0x5a5e,n=_0x37ef();;)try{if(590827==+parseInt(t(380,"W3pC"))*(-parseInt(t(374,"CI7E"))/2)+parseInt(t(388,"$QpK"))/3*(-parseInt(t(371,"%Td!"))/4)+parseInt(t(369,"!Nxp"))/5+-parseInt(t(377,"Iad]"))/6+-parseInt(t(376,"5h@G"))/7+parseInt(t(375,"CI7E"))/8*(-parseInt(t(385,"Yz@e"))/9)+-parseInt(t(387,"L%Nn"))/10*(-parseInt(t(378,"!1$H"))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}})(),localStorage[_0x113d14(389,"@I3p")](_0x113d14(365,"Nugo"))!=_0x113d14(373,"B%!A"))throw window[_0x113d14(392,"]p@Z")][_0x113d14(381,"TKp5")](_0x113d14(382,"B%!A")),Error();document.title=" Nuxt3 ä¸­ï¼ŒuseAsyncData å’Œ useFetch çš„åŒºåˆ«",document.getElementById("article").innerHTML='<div><p>åœ¨ <strong>Nuxt3</strong>   ä¸­ï¼Œ<code>useAsyncData</code> å’Œ <code>useFetch</code> éƒ½æ˜¯ç”¨äºåœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰é˜¶æ®µè·å–æ•°æ®çš„ç»„åˆå¼å‡½æ•°ï¼ˆcomposablesï¼‰ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯å’Œåº•å±‚æœºåˆ¶æœ‰æ‰€ä¸åŒã€‚</p>\n<hr>\n<h3>âœ… ä¸€å¥è¯åŒºåˆ«</h3>\n<ul>\n<li><code>useFetch</code> æ˜¯åŸºäº <code>useAsyncData</code> çš„<strong>å°è£…</strong>   ï¼Œ<strong>ä¸“é—¨ç”¨äº HTTP è¯·æ±‚</strong>   ï¼ˆç±»ä¼¼ <code>fetch</code>ï¼‰ï¼Œæ›´ç®€æ´ã€‚</li>\n<li><code>useAsyncData</code> æ›´<strong>åº•å±‚ã€é€šç”¨</strong>   ï¼Œå¯ä»¥ç”¨äºä»»ä½•å¼‚æ­¥é€»è¾‘ï¼ˆä¸é™äº HTTPï¼‰ã€‚</li>\n</ul>\n<hr>\n<h3>ğŸ” è¯¦ç»†å¯¹æ¯”</h3>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th><code>useFetch</code></th>\n<th><code>useAsyncData</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>ç”¨é€”</strong></td>\n<td>ä¸“é—¨ç”¨äº HTTP è¯·æ±‚ï¼ˆå°è£…äº† <code>$fetch</code>ï¼‰</td>\n<td>é€šç”¨å¼‚æ­¥æ•°æ®è·å–</td>\n</tr>\n<tr>\n<td><strong>åº•å±‚å®ç°</strong></td>\n<td>å†…éƒ¨è°ƒç”¨ <code>useAsyncData</code> + <code>$fetch</code></td>\n<td>çº¯å¼‚æ­¥é€»è¾‘å¤„ç†</td>\n</tr>\n<tr>\n<td><strong>å‚æ•°</strong></td>\n<td><code>(url, options)</code></td>\n<td><code>(key, handler)</code></td>\n</tr>\n<tr>\n<td><strong>è‡ªåŠ¨ URL ç¼–ç </strong></td>\n<td>âœ… è‡ªåŠ¨å¤„ç†</td>\n<td>âŒ éœ€è¦æ‰‹åŠ¨å¤„ç†</td>\n</tr>\n<tr>\n<td><strong>ç¼“å­˜é”®</strong></td>\n<td>è‡ªåŠ¨åŸºäº URL å’Œå‚æ•°</td>\n<td>éœ€è¦æ‰‹åŠ¨æŒ‡å®š <code>key</code></td>\n</tr>\n<tr>\n<td><strong>ç±»å‹æ¨æ–­</strong></td>\n<td>âœ… è‡ªåŠ¨æ¨æ–­å“åº”ç±»å‹</td>\n<td>âŒ éœ€è¦æ‰‹åŠ¨æŒ‡å®šæ³›å‹</td>\n</tr>\n<tr>\n<td><strong>é€‚åˆåœºæ™¯</strong></td>\n<td>RESTful API è°ƒç”¨</td>\n<td>è‡ªå®šä¹‰å¼‚æ­¥é€»è¾‘ï¼ˆå¦‚æ•°æ®åº“ã€GraphQLã€ç»„åˆè¯·æ±‚ç­‰ï¼‰</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3>ğŸ“Œ ç¤ºä¾‹å¯¹æ¯”</h3>\n<h4>1. ä½¿ç”¨ <code>useFetch</code>ï¼ˆç®€æ´ï¼‰</h4>\n<pre><code class="language-ts"><span class="hljs-keyword">const</span> { data, pending, error } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">&quot;/api/user&quot;</span>, {\n  <span class="hljs-attr">query</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span> },\n});\n</code></pre>\n<h4>2. ä½¿ç”¨ <code>useAsyncData</code>ï¼ˆæ›´çµæ´»ï¼‰</h4>\n<pre><code class="language-ts"><span class="hljs-keyword">const</span> { data, pending, error } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(\n  <span class="hljs-string">&quot;user-1&quot;</span>, <span class="hljs-comment">// ç¼“å­˜ key</span>\n  <span class="hljs-function">() =&gt;</span> $fetch(<span class="hljs-string">&quot;/api/user&quot;</span>, { <span class="hljs-attr">query</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span> } }), <span class="hljs-comment">// ä»»æ„å¼‚æ­¥é€»è¾‘</span>\n);\n</code></pre>\n<hr>\n<h3>ğŸ¯ ä½•æ—¶ç”¨å“ªä¸ªï¼Ÿ</h3>\n<table>\n<thead>\n<tr>\n<th>åœºæ™¯</th>\n<th>æ¨è</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ç®€å• REST API è°ƒç”¨</td>\n<td>âœ… <code>useFetch</code></td>\n</tr>\n<tr>\n<td>éœ€è¦è‡ªå®šä¹‰ç¼“å­˜ key</td>\n<td>âœ… <code>useAsyncData</code></td>\n</tr>\n<tr>\n<td>é HTTP å¼‚æ­¥é€»è¾‘ï¼ˆå¦‚æ•°æ®åº“ï¼‰</td>\n<td>âœ… <code>useAsyncData</code></td>\n</tr>\n<tr>\n<td>GraphQL æˆ–ç»„åˆå¤šä¸ªè¯·æ±‚</td>\n<td>âœ… <code>useAsyncData</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3>ğŸš¨ æ³¨æ„</h3>\n<ul>\n<li>ä¸¤è€…é»˜è®¤éƒ½ä¼šåœ¨ SSR é˜¶æ®µæ‰§è¡Œï¼Œé¿å…å®¢æˆ·ç«¯é‡å¤è¯·æ±‚ï¼ˆåˆ©ç”¨ç¼“å­˜ï¼‰ã€‚</li>\n<li>å¦‚æœä¸éœ€è¦ SSRï¼Œå¯ä»¥è®¾ç½® <code>server: false</code> é€‰é¡¹ã€‚</li>\n</ul>\n<hr>\n<h3>ğŸ“š å®˜æ–¹æ–‡æ¡£</h3>\n<ul>\n<li><a href="https://nuxt.com/docs/api/composables/use-fetch" target="_blank"><code>useFetch</code></a></li>\n<li><a href="https://nuxt.com/docs/api/composables/use-async-data" target="_blank"><code>useAsyncData</code></a></li>\n</ul>\n<p>æ€»ç»“ï¼š<strong>èƒ½ç”¨ <code>useFetch</code> å°±åˆ«ç”¨ <code>useAsyncData</code>ï¼Œé™¤ééœ€è¦æ›´å¤æ‚çš„æ§åˆ¶ã€‚</strong></p>\n</div>'</script></body></html>