<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x5c83(a,s){var l=_0x4602();return(_0x5c83=function(s,n){var e=l[s-=131];void 0===_0x5c83.nyswkH&&(_0x5c83.CQzsCu=function(s,n){var e,t=[],a=0,l="";for(s=(s=>{for(var n,e,t="",a="",l=0,c=0;e=s.charAt(c++);~e&&(n=l%4?64*n+e:e,l++%4)&&(t+=String.fromCharCode(255&n>>(-2*l&6))))e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var o=0,r=t.length;o<r;o++)a+="%"+("00"+t.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(a)})(s),c=0;c<256;c++)t[c]=c;for(c=0;c<256;c++)a=(a+t[c]+n.charCodeAt(c%n.length))%256,e=t[c],t[c]=t[a],t[a]=e;for(var c=0,a=0,o=0;o<s.length;o++)e=t[c=(c+1)%256],t[c]=t[a=(a+t[c])%256],t[a]=e,l+=String.fromCharCode(s.charCodeAt(o)^t[(t[c]+t[a])%256]);return l},a=arguments,_0x5c83.nyswkH=!0);var s=s+l[0],t=a[s];return t?e=t:(void 0===_0x5c83.paEqeX&&(_0x5c83.paEqeX=!0),e=_0x5c83.CQzsCu(e,n),a[s]=e),e})(a,s)}var _0xe1fe2b=_0x5c83;function _0x4602(){var s=["F3GnWOFdM8kal8kFENbZWPii","W4qmwJSqErmDkctcJW","WPfzfKnurbi","W43dQ0WwW64kW7lcU8oZW5FdLMVcTq","W6TOW4/dNSo0rHJdRSkGW5xdKSkS","W5xdSSoCiCkEiamgtCoqD8oWWRftWPZcOxldJSoJWPCptSojWR/cG8om","DmoyW6fUlCkKAuC","qCoHWRBdI8ocW4NdRmkfWQ3dGHL8ECo0","cmkYcmkxW7tdSNv4BH4bcSkR","WOJdKCozbSkbuuC","WPCdpmkrW60","CaFcTuVcULVcTSoUW58","qSoSWRRdIColW4ZcTSorWOZdPXjh","rx3cS8oklZbW","gs0iD8oPb8kWB8kPmmkq","DCo6vvTSjmkYt04gWQzrrG","FmodW7RcVqDmWPbWWQS","idiuae3dJeZdM8ovW6yDWR8","jSkfWPFdMvq7W6SQnIdcSmkzW4e","WPnJWQurW69uutbO","W79TWP0YWQJdUCkJ","ldqwb0RdGJldG8oPW6STWQ45","W5qtschcOmonWRfea8kqkHLdWPa","rM4zWRDmo27dHaNdQxqY"];return(_0x4602=function(){return s})()}if((()=>{for(var s=_0x5c83,n=_0x4602();;)try{if(669590==-parseInt(s(145,"oiyT"))+-parseInt(s(142,"4v@l"))/2*(parseInt(s(133,"T8&3"))/3)+-parseInt(s(138,"c1f]"))/4*(parseInt(s(150,"hixW"))/5)+-parseInt(s(135,"QUSR"))/6+-parseInt(s(134,"c1f]"))/7+-parseInt(s(141,"yI%)"))/8+parseInt(s(148,"F#(X"))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0xe1fe2b(143,"4v@l")](_0xe1fe2b(136,"kyGU"))!=_0xe1fe2b(151,"0jn]"))throw window[_0xe1fe2b(147,"2F6v")][_0xe1fe2b(137,"58XK")](_0xe1fe2b(146,"hixW")),Error();document.title="@testing-library-jest-dom 常用 API",document.getElementById("article").innerHTML='<div><p><code>@testing-library/jest-dom</code> 是 Testing Library 的官方 Jest 扩展库，提供了一系列针对 DOM 的断言 API，让测试 DOM 元素更加直观和语义化。以下是常用的 API 分类和示例：</p>\n<hr>\n<h3><strong>1. 可见性 &amp; 存在性</strong></h3>\n<ul>\n<li><strong><code>toBeVisible()</code></strong><br>\n元素在 DOM 中且可见（非 <code>display: none</code> 或 <code>visibility: hidden</code>）。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByText</span>(<span class="hljs-string">&#x27;Submit&#x27;</span>)).<span class="hljs-title function_">toBeVisible</span>();\n</code></pre>\n</li>\n<li><strong><code>toBeInTheDocument()</code></strong><br>\n元素存在于 DOM 中（即使不可见）。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">queryByText</span>(<span class="hljs-string">&#x27;Error&#x27;</span>)).<span class="hljs-property">not</span>.<span class="hljs-title function_">toBeInTheDocument</span>();\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>2. 表单元素</strong></h3>\n<ul>\n<li><strong><code>toBeDisabled()</code> / <code>toBeEnabled()</code></strong><br>\n检查表单元素是否禁用/启用。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&#x27;button&#x27;</span>)).<span class="hljs-title function_">toBeDisabled</span>();\n</code></pre>\n</li>\n<li><strong><code>toBeChecked()</code></strong><br>\n针对复选框或单选按钮。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByLabelText</span>(<span class="hljs-string">&#x27;Agree&#x27;</span>)).<span class="hljs-title function_">toBeChecked</span>();\n</code></pre>\n</li>\n<li><strong><code>toHaveValue(value)</code></strong><br>\n检查 <code>input</code>、<code>select</code> 或 <code>textarea</code> 的值。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&#x27;textbox&#x27;</span>)).<span class="hljs-title function_">toHaveValue</span>(<span class="hljs-string">&#x27;John&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>3. 属性 &amp; 类名</strong></h3>\n<ul>\n<li><strong><code>toHaveAttribute(attr, value?)</code></strong><br>\n检查元素是否有指定属性（可选值）。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByTestId</span>(<span class="hljs-string">&#x27;logo&#x27;</span>)).<span class="hljs-title function_">toHaveAttribute</span>(<span class="hljs-string">&#x27;src&#x27;</span>, <span class="hljs-string">&#x27;logo.png&#x27;</span>);\n</code></pre>\n</li>\n<li><strong><code>toHaveClass(className)</code></strong><br>\n检查元素是否包含某个类名。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&#x27;alert&#x27;</span>)).<span class="hljs-title function_">toHaveClass</span>(<span class="hljs-string">&#x27;active&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>4. 内容匹配</strong></h3>\n<ul>\n<li><strong><code>toHaveTextContent(text)</code></strong><br>\n检查元素文本内容（支持字符串或正则）。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&#x27;heading&#x27;</span>)).<span class="hljs-title function_">toHaveTextContent</span>(<span class="hljs-regexp">/hello/i</span>);\n</code></pre>\n</li>\n<li><strong><code>toContainElement(element)</code></strong><br>\n检查父元素是否包含子元素。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&#x27;list&#x27;</span>)).<span class="hljs-title function_">toContainElement</span>(screen.<span class="hljs-title function_">getByText</span>(<span class="hljs-string">&#x27;Item 1&#x27;</span>));\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>5. 样式</strong></h3>\n<ul>\n<li><strong><code>toHaveStyle(css)</code></strong><br>\n检查内联样式（支持对象或字符串）。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByText</span>(<span class="hljs-string">&#x27;Warning&#x27;</span>)).<span class="hljs-title function_">toHaveStyle</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span> });\n<span class="hljs-comment">// 或</span>\n<span class="hljs-title function_">expect</span>(element).<span class="hljs-title function_">toHaveStyle</span>(<span class="hljs-string">&#x27;color: red;&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>6. 特殊断言</strong></h3>\n<ul>\n<li><strong><code>toHaveFocus()</code></strong><br>\n元素是否获得焦点。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">&#x27;textbox&#x27;</span>)).<span class="hljs-title function_">toHaveFocus</span>();\n</code></pre>\n</li>\n<li><strong><code>toBeRequired()</code></strong><br>\n表单元素是否必填。<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(screen.<span class="hljs-title function_">getByLabelText</span>(<span class="hljs-string">&#x27;Username&#x27;</span>)).<span class="hljs-title function_">toBeRequired</span>();\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>7. 自定义错误消息</strong></h3>\n<p>所有 API 支持自定义错误提示：</p>\n<pre><code class="language-javascript"><span class="hljs-title function_">expect</span>(element).<span class="hljs-title function_">toBeVisible</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;元素应该可见&#x27;</span> });\n</code></pre>\n<hr>\n<h3><strong>安装与配置</strong></h3>\n<ol>\n<li>安装：<pre><code class="language-sh">npm install --save-dev @testing-library/jest-dom\n</code></pre>\n</li>\n<li>在测试文件中导入（或全局配置）：<pre><code class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@testing-library/jest-dom&#x27;</span>;\n</code></pre>\n</li>\n</ol>\n<hr>\n<p>这些 API 让测试意图更清晰，替代了 Jest 原生的模糊断言（如 <code>expect(element.value).toBe(\'foo\')</code>）。结合 <code>screen</code> 查询方法（如 <code>getByRole</code>），可以写出高可读性的测试代码。</p>\n</div>'</script></body></html>