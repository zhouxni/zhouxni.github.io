<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x2991(o,n){var t=_0x53fe();return(_0x2991=function(n,s){var a=t[n-=273];void 0===_0x2991.JdtETR&&(_0x2991.fltVAr=function(n,s){var a,e=[],o=0,t="";for(n=(n=>{for(var s,a,e="",o="",t=0,l=0;a=n.charAt(l++);~a&&(s=t%4?64*s+a:a,t++%4)&&(e+=String.fromCharCode(255&s>>(-2*t&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,p=e.length;c<p;c++)o+="%"+("00"+e.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(o)})(n),l=0;l<256;l++)e[l]=l;for(l=0;l<256;l++)o=(o+e[l]+s.charCodeAt(l%s.length))%256,a=e[l],e[l]=e[o],e[o]=a;for(var l=0,o=0,c=0;c<n.length;c++)a=e[l=(l+1)%256],e[l]=e[o=(o+e[l])%256],e[o]=a,t+=String.fromCharCode(n.charCodeAt(c)^e[(e[l]+e[o])%256]);return t},o=arguments,_0x2991.JdtETR=!0);var n=n+t[0],e=o[n];return e?a=e:(void 0===_0x2991.xkmTjB&&(_0x2991.xkmTjB=!0),a=_0x2991.fltVAr(a,s),o[n]=a),a})(o,n)}var _0x25dfd0=_0x2991;if((()=>{for(var n=_0x2991,s=_0x53fe();;)try{if(829264==-parseInt(n(279,"MKs#"))+parseInt(n(275,"4iZr"))/2+-parseInt(n(283,"5FGD"))/3+-parseInt(n(287,"vl(M"))/4+parseInt(n(292,"RehP"))/5+-parseInt(n(276,"l2pd"))/6+-parseInt(n(278,"MKs#"))/7*(-parseInt(n(274,"dVdT"))/8))break;s.push(s.shift())}catch(n){s.push(s.shift())}})(),localStorage[_0x25dfd0(286,"$VDk")](_0x25dfd0(280,"qz1]"))!=_0x25dfd0(288,"3v^K"))throw window[_0x25dfd0(290,"v]QQ")][_0x25dfd0(281,"CgC1")](_0x25dfd0(284,"5FGD")),Error();function _0x53fe(){var n=["WPDSbc0qh8ksW4hdI8kEzriEWP0","Asy/yCkMW5tdT8keW6O6y8kPvW","nwv9jCoGW5FdR8oOW7iXvmk2rw3cUHXNWRzycgOPW6KhWP18","W4dcJcbaDWapqxzsEmk3iG","qZ3cUvNdLCo0Fa","W5ZdRqZdI8oBnIZcMeqvCq7cIG","xt7dJCoCWRm","cWWBW5O1kv93gshcGXxdUW","be9HjmkSWPqJEa","WQpcJCkZz8kRWQejWOldLSkJW6RdH0e","WQC6dK7dPmkWw37dNCo4ww0b","WO7cP8o1FbldLmoEW77dN8kFz8o1wW","W4NcMqBdGSouqSoqW5BcNmkdfbD7","j8kPvCkCWQHRW7q","Fv3cQvtcS8oyyLddJxBdNdRcIq","fZTcmgSiWOVdJxtdTSknWPf8","WQOQWRpcKbBdOL4ZWR1BW6D/qq","WQKHWRVcLXhdQvXEWP19W4fWDmoN","WQOUWRVcKr3dQv0uWQrXW4fwEW","AqWmcmoZWRDAySky","kSkFrKHGv1O"];return(_0x53fe=function(){return n})()}document.title="JavaScript 中 encodeURIComponent() 和 encodeURI() 的区别",document.getElementById("article").innerHTML='<div><p>这两个函数都用于对 URI 进行编码，但它们有不同的使用场景和编码范围。</p>\n<h2>主要区别</h2>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th><code>encodeURI()</code></th>\n<th><code>encodeURIComponent()</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>编码范围</strong></td>\n<td>较少（保留更多字符）</td>\n<td>更多（编码更多字符）</td>\n</tr>\n<tr>\n<td><strong>设计用途</strong></td>\n<td>编码完整 URI</td>\n<td>编码 URI 的组成部分</td>\n</tr>\n<tr>\n<td><strong>不编码的字符</strong></td>\n<td><code>A-Z a-z 0-9 ; , / ? : @ &amp; = + $ - _ . ! ~ * \' ( ) #</code></td>\n<td><code>A-Z a-z 0-9 - _ . ! ~ * \' ( )</code></td>\n</tr>\n<tr>\n<td><strong>典型使用场景</strong></td>\n<td>编码整个 URL</td>\n<td>编码查询参数值</td>\n</tr>\n</tbody>\n</table>\n<h2>详细解释</h2>\n<h3>1. <code>encodeURI()</code></h3>\n<p>用于编码<strong>整个 URI</strong>                  ，不会编码对 URI 有特殊意义的字符：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> url = <span class="hljs-string">&quot;https://example.com/测试路径?name=值&amp;age=20&quot;</span>;\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">encodeURI</span>(url));\n<span class="hljs-comment">// 输出: &quot;https://example.com/%E6%B5%8B%E8%AF%95%E8%B7%AF%E5%BE%84?name=%E5%80%BC&amp;age=20&quot;</span>\n</code></pre>\n<p><strong>保留不编码的字符</strong>                  ：</p>\n<pre><code>A-Z a-z 0-9 ; , / ? : @ &amp; = + $ - _ . ! ~ * \' ( ) #\n</code></pre>\n<h3>2. <code>encodeURIComponent()</code></h3>\n<p>用于编码<strong>URI 的组成部分</strong>                  （如查询参数），会编码更多字符：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> param = <span class="hljs-string">&quot;测试/值&amp;name=张三&quot;</span>;\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">encodeURIComponent</span>(param));\n<span class="hljs-comment">// 输出: &quot;%E6%B5%8B%E8%AF%95%2F%E5%80%BC%26name%3D%E5%BC%A0%E4%B8%89&quot;</span>\n</code></pre>\n<p><strong>保留不编码的字符</strong>                  ：</p>\n<pre><code>A-Z a-z 0-9 - _ . ! ~ * \' ( )\n</code></pre>\n<h2>何时使用哪个函数</h2>\n<h3>使用 <code>encodeURI()</code> 的情况</h3>\n<ul>\n<li>当你需要编码一个完整的可用的 URL 时</li>\n<li>当你想保持 URL 的结构完整时（不编码 <code>/</code>, <code>?</code>, <code>=</code>, <code>&amp;</code> 等分隔符）</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> fullUrl = <span class="hljs-string">&quot;https://example.com/path/文件名.html?query=值&quot;</span>;\n<span class="hljs-keyword">const</span> encodedUrl = <span class="hljs-built_in">encodeURI</span>(fullUrl);\n<span class="hljs-comment">// 适合直接用于 window.location 或 &lt;a&gt; 标签的 href</span>\n</code></pre>\n<h3>使用 <code>encodeURIComponent()</code> 的情况</h3>\n<ul>\n<li>当你需要编码 URL 的某一部分时（如查询参数的值）</li>\n<li>当你要编码可能包含特殊字符的字符串时</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> paramValue = <span class="hljs-string">&quot;value&amp;with/special=characters&quot;</span>;\n<span class="hljs-keyword">const</span> query = <span class="hljs-string">`?param=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(paramValue)}</span>`</span>;\n<span class="hljs-comment">// 结果: &quot;?param=value%26with%2Fspecial%3Dcharacters&quot;</span>\n</code></pre>\n<h2>常见错误示例</h2>\n<h3>错误用法</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 错误1：用 encodeURI() 编码查询参数值</span>\n<span class="hljs-keyword">const</span> badUrl = <span class="hljs-string">&quot;https://example.com?q=&quot;</span> + <span class="hljs-built_in">encodeURI</span>(<span class="hljs-string">&quot;search&amp;term&quot;</span>); \n<span class="hljs-comment">// 结果中的 &amp; 会破坏 URL 结构</span>\n\n<span class="hljs-comment">// 错误2：用 encodeURIComponent() 编码整个 URL</span>\n<span class="hljs-keyword">const</span> badUrl2 = <span class="hljs-built_in">encodeURIComponent</span>(<span class="hljs-string">&quot;https://example.com/path?q=search&quot;</span>);\n<span class="hljs-comment">// 会把 / 和 ? 等符号也编码，导致 URL 不可用</span>\n</code></pre>\n<h3>正确用法组合</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> baseUrl = <span class="hljs-string">&quot;https://example.com/search&quot;</span>;\n<span class="hljs-keyword">const</span> query = <span class="hljs-string">&quot;咖啡&amp;茶&quot;</span>;\n<span class="hljs-keyword">const</span> page = <span class="hljs-number">1</span>;\n\n<span class="hljs-comment">// 正确组合使用</span>\n<span class="hljs-keyword">const</span> fullUrl = <span class="hljs-string">`<span class="hljs-subst">${baseUrl}</span>?q=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(query)}</span>&amp;page=<span class="hljs-subst">${page}</span>`</span>;\n<span class="hljs-comment">// 结果: &quot;https://example.com/search?q=%E5%92%96%E5%95%A1%26%E8%8C%B6&amp;page=1&quot;</span>\n</code></pre>\n<h2>特殊字符处理对比</h2>\n<p>测试字符串：<code>&quot;test&amp;name=张三/file.txt&quot;</code></p>\n<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">encodeURI</span>(<span class="hljs-string">&quot;test&amp;name=张三/file.txt&quot;</span>));\n<span class="hljs-comment">// 输出: &quot;test&amp;name=%E5%BC%A0%E4%B8%89/file.txt&quot;</span>\n\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">encodeURIComponent</span>(<span class="hljs-string">&quot;test&amp;name=张三/file.txt&quot;</span>));\n<span class="hljs-comment">// 输出: &quot;test%26name%3D%E5%BC%A0%E4%B8%89%2Ffile.txt&quot;</span>\n</code></pre>\n<h2>解码对应函数</h2>\n<ul>\n<li><code>decodeURI()</code> - 对应 <code>encodeURI()</code> 的解码</li>\n<li><code>decodeURIComponent()</code> - 对应 <code>encodeURIComponent()</code> 的解码</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> encoded = <span class="hljs-built_in">encodeURIComponent</span>(<span class="hljs-string">&quot;测试&quot;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(encoded); <span class="hljs-comment">// &quot;%E6%B5%8B%E8%AF%95&quot;</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">decodeURIComponent</span>(encoded)); <span class="hljs-comment">// &quot;测试&quot;</span>\n</code></pre>\n<h2>总结</h2>\n<ol>\n<li><strong><code>encodeURI()</code></strong>                  ：\n<ul>\n<li>用于完整 URL</li>\n<li>保留 URL 结构字符（/, ?, =, &amp; 等）</li>\n<li>适合编码后直接使用的 URL</li>\n</ul>\n</li>\n<li><strong><code>encodeURIComponent()</code></strong>                  ：\n<ul>\n<li>用于 URL 的组成部分</li>\n<li>编码更多特殊字符</li>\n<li>适合编码查询参数值、路径片段等</li>\n</ul>\n</li>\n</ol>\n<p>选择正确的编码函数可以避免 URL 解析错误和安全问题。</p>\n</div>'</script></body></html>