<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x16cf8b=_0x7903;function _0x6bd7(){var s=["WRnuW60CyZNcRvVdVW","WOddOvfcg8oFWP7dJCkx","EWa+WQOQbSktw8ooWPK0","lWVdPgq2W4hdKwCUndK","eSoaW71XW4NcMmo8","nqtcMSkvwwbZW7FdJmodW59rFa","zComW7vRxSofW6JdVLVdPSkk","CmkXWQtdMb9Hha","BqjYDmk3W53cRmkEgbddRSoqW5G","W7v2WPFcI8opW5bDqbhdGua","m8oTW6ZcGazMaYO/W4m","mI3dMd8/","y0bGabfEWOOBW7rqxmkVyCoKWOz9FdFcJevuW5yJW4WIW48","W6dcPSksW6hdL38SW6bTdCo9Ba","W5a5WPvOAhrUW5X8WOhdNW","WQrqWPtcLY3cTJS","WRKJCSkWWQRdRWbIiIVcVCkwW7K","rmo6WQ/dGCkdlWzCo8o1W4z/","Dx7dRKLHtCkAiCkGWOy","xCkCW7pdOxbeW78aWPtdIW","W54ku8knrCo3dCofB8kqxSoOWP4","r8oCW5P8W5JcN8oY","ECoQWQpcQSkrW4xcVHS","uGacW6jAWOFdSCknFSou","wSksW7lcJ1LNW7WEWQW","WOBdQfatymkOWRRdNmkmvSofWRO","W5tdMuRdVmk+ySo7WRO","AWfWECkZW5xdT8kmlc3dR8oT","W54fWQTOW6fQF8ojrW","y8ogqSoHkW9MW64","fSoiWPqsigZcN8oFWPpcHmkx"];return(_0x6bd7=function(){return s})()}function _0x7903(l,s){var p=_0x6bd7();return(_0x7903=function(s,a){var n=p[s-=442];void 0===_0x7903.LzUcVM&&(_0x7903.nliVqP=function(s,a){var n,t=[],l=0,p="";for(s=(s=>{for(var a,n,t="",l="",p=0,e=0;n=s.charAt(e++);~n&&(a=p%4?64*a+n:n,p++%4)&&(t+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var o=0,c=t.length;o<c;o++)l+="%"+("00"+t.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(l)})(s),e=0;e<256;e++)t[e]=e;for(e=0;e<256;e++)l=(l+t[e]+a.charCodeAt(e%a.length))%256,n=t[e],t[e]=t[l],t[l]=n;for(var e=0,l=0,o=0;o<s.length;o++)n=t[e=(e+1)%256],t[e]=t[l=(l+t[e])%256],t[l]=n,p+=String.fromCharCode(s.charCodeAt(o)^t[(t[e]+t[l])%256]);return p},l=arguments,_0x7903.LzUcVM=!0);var s=s+p[0],t=l[s];return t?n=t:(void 0===_0x7903.QOaTrT&&(_0x7903.QOaTrT=!0),n=_0x7903.nliVqP(n,a),l[s]=n),n})(l,s)}if((()=>{for(var s=_0x7903,a=_0x6bd7();;)try{if(609671==+parseInt(s(469,"l0qa"))*(-parseInt(s(465,"HTp]"))/2)+-parseInt(s(446,"s$o%"))/3*(-parseInt(s(472,"%$$K"))/4)+parseInt(s(449,"Z5*H"))/5+parseInt(s(458,"JP8E"))/6*(-parseInt(s(468,"iD0]"))/7)+parseInt(s(463,"iD0]"))/8*(-parseInt(s(450,"Aht5"))/9)+parseInt(s(466,"Hass"))/10*(-parseInt(s(460,"6GJ6"))/11)+-parseInt(s(471,"4J*f"))/12*(-parseInt(s(462,"X7S!"))/13))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x16cf8b(448,"HTp]")](_0x16cf8b(444,"phUB"))!=_0x16cf8b(455,"3Yy1"))throw window[_0x16cf8b(470,"I0zl")][_0x16cf8b(451,"rsSh")](_0x16cf8b(456,"^!q5")),Error();document.title="next-seo",document.getElementById("article").innerHTML='<div><p>好的，我们来深入解析 <strong><code>next-seo</code></strong>   这个插件。它是 Next.js 生态中用于<strong>管理和优化搜索引擎优化（SEO）</strong>   的权威库，能极大地简化 SEO 元标签的处理工作。</p>\n<hr>\n<h3>一、next-seo 是什么？</h3>\n<p><code>next-seo</code> 是一个 React 组件库，它提供了一系列高阶组件和 Hook，让你能以声明式的方式轻松管理 Next.js 应用的 SEO 元数据。</p>\n<p><strong>核心价值</strong>   ：你无需在多个页面的 <code>&lt;Head&gt;</code> 标签中手动重复编写大量 <code>&lt;meta&gt;</code> 标签，而是通过统一的配置和组件来管理整个网站的 SEO，保证正确性和一致性。</p>\n<hr>\n<h3>二、核心特性与优势</h3>\n<ol>\n<li><strong>声明式配置</strong>   ：使用 JSX 组件和 JSON-LD 配置 SEO，代码更清晰、更易维护。</li>\n<li><strong>全面覆盖</strong>   ：支持所有主流 SEO 元标签和结构化数据（JSON-LD），包括：\n<ul>\n<li><strong>基础元标签</strong>   ：<code>title</code>, <code>description</code>, <code>canonical</code>, <code>robots</code></li>\n<li><strong>社交媒体</strong>   ：Open Graph (Facebook), Twitter Cards, LinkedIn</li>\n<li><strong>结构化数据</strong>   ：JSON-LD (Google 推荐)，用于富媒体摘要（Rich Results）</li>\n</ul>\n</li>\n<li><strong>默认配置</strong>   ：可以设置全局默认 SEO 配置，并在各个页面进行覆盖和扩展。</li>\n<li><strong>自动化</strong>   ：自动处理一些复杂逻辑，如生成完整的 <code>og:url</code>（带完整路径）。</li>\n<li><strong>TypeScript 友好</strong>   ：提供完整的类型定义。</li>\n</ol>\n<hr>\n<h3>三、安装与基本配置</h3>\n<h4>1. 安装</h4>\n<pre><code class="language-bash">npm install next-seo\n<span class="hljs-comment"># 或</span>\nyarn add next-seo\n</code></pre>\n<h4>2. 全局默认配置 (<code>pages/_app.js</code>)</h4>\n<p>在你的自定义 App 组件中设置全站的默认 SEO 配置。</p>\n<pre><code class="language-jsx"><span class="hljs-comment">// pages/_app.js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DefaultSeo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;next-seo&quot;</span>;\n\n<span class="hljs-comment">// 引入你的全局默认SEO配置</span>\n<span class="hljs-keyword">import</span> <span class="hljs-variable constant_">SEO</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../next-seo.config&quot;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyApp</span>(<span class="hljs-params">{ Component, pageProps }</span>) {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">DefaultSeo</span> {<span class="hljs-attr">...SEO</span>} /&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Component</span> {<span class="hljs-attr">...pageProps</span>} /&gt;</span>\n    <span class="hljs-tag">&lt;/&gt;</span></span>\n  );\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">MyApp</span>;\n</code></pre>\n<h4>3. 创建全局配置文件 (<code>next-seo.config.js</code>)</h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// next-seo.config.js</span>\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;我的默认网站标题&quot;</span>,\n  <span class="hljs-attr">titleTemplate</span>: <span class="hljs-string">&quot;%s | 我的网站品牌名&quot;</span>, <span class="hljs-comment">// %s 会被页面特定的标题替换</span>\n  <span class="hljs-attr">defaultTitle</span>: <span class="hljs-string">&quot;我的网站品牌名&quot;</span>,\n  <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;这是我的网站的默认描述，通常较长且具有描述性。&quot;</span>,\n  <span class="hljs-attr">canonical</span>: <span class="hljs-string">&quot;https://www.example.com/&quot;</span>, <span class="hljs-comment">// 你的网站主域名</span>\n  <span class="hljs-attr">openGraph</span>: {\n    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;website&quot;</span>,\n    <span class="hljs-attr">locale</span>: <span class="hljs-string">&quot;zh_CN&quot;</span>,\n    <span class="hljs-attr">site_name</span>: <span class="hljs-string">&quot;我的网站名&quot;</span>,\n    <span class="hljs-attr">images</span>: [\n      {\n        <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;https://www.example.com/default-og-image.jpg&quot;</span>,\n        <span class="hljs-attr">width</span>: <span class="hljs-number">1200</span>,\n        <span class="hljs-attr">height</span>: <span class="hljs-number">630</span>,\n        <span class="hljs-attr">alt</span>: <span class="hljs-string">&quot;我的网站默认OG图片描述&quot;</span>,\n      },\n    ],\n  },\n  <span class="hljs-attr">twitter</span>: {\n    <span class="hljs-attr">handle</span>: <span class="hljs-string">&quot;@handle&quot;</span>, <span class="hljs-comment">// 你的Twitter用户名</span>\n    <span class="hljs-attr">site</span>: <span class="hljs-string">&quot;@site&quot;</span>,\n    <span class="hljs-attr">cardType</span>: <span class="hljs-string">&quot;summary_large_image&quot;</span>,\n  },\n};\n</code></pre>\n<hr>\n<h3>四、在页面中使用 (<code>NextSeo</code> 组件)</h3>\n<p>在每个页面组件中，使用 <code>&lt;NextSeo&gt;</code> 组件来覆盖或扩展全局配置。</p>\n<h4>1. 基本页面 (About Page)</h4>\n<pre><code class="language-jsx"><span class="hljs-comment">// pages/about.js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextSeo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;next-seo&quot;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"></span>) =&gt; {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">NextSeo</span>\n        <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;关于我们&quot;</span>\n        <span class="hljs-attr">description</span>=<span class="hljs-string">&quot;这是关于我们页面的独特描述，比默认描述更具体。&quot;</span>\n        <span class="hljs-attr">canonical</span>=<span class="hljs-string">&quot;https://www.example.com/about&quot;</span>\n        <span class="hljs-attr">openGraph</span>=<span class="hljs-string">{{</span>\n          <span class="hljs-attr">url:</span> &quot;<span class="hljs-attr">https:</span>//<span class="hljs-attr">www.example.com</span>/<span class="hljs-attr">about</span>&quot;,\n          <span class="hljs-attr">title:</span> &quot;<span class="hljs-attr">关于我们</span>&quot;,\n          <span class="hljs-attr">description:</span> &quot;<span class="hljs-attr">这是关于我们页面的独特描述</span>&quot;,\n          <span class="hljs-attr">images:</span> [\n            {\n              <span class="hljs-attr">url:</span> &quot;<span class="hljs-attr">https:</span>//<span class="hljs-attr">www.example.com</span>/<span class="hljs-attr">about-og-image.jpg</span>&quot;,\n              <span class="hljs-attr">width:</span> <span class="hljs-attr">800</span>,\n              <span class="hljs-attr">height:</span> <span class="hljs-attr">600</span>,\n              <span class="hljs-attr">alt:</span> &quot;<span class="hljs-attr">关于我们页面的OG图片</span>&quot;,\n            },\n          ],\n        }}\n      /&gt;</span>\n      {/* 你的页面内容 */}\n      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>关于我们<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n    <span class="hljs-tag">&lt;/&gt;</span></span>\n  );\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">About</span>;\n</code></pre>\n<p><strong>效果</strong>   ：该页面的 <code>&lt;title&gt;</code> 将是“关于我们 | 我的网站品牌名”。</p>\n<h4>2. 动态页面 (Blog Post)</h4>\n<pre><code class="language-jsx"><span class="hljs-comment">// pages/posts/[slug].js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextSeo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;next-seo&quot;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">BlogPost</span> = (<span class="hljs-params">{ post }</span>) =&gt; {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">NextSeo</span>\n        <span class="hljs-attr">title</span>=<span class="hljs-string">{post.title}</span>\n        <span class="hljs-attr">description</span>=<span class="hljs-string">{post.excerpt}</span>\n        <span class="hljs-attr">canonical</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">https:</span>//<span class="hljs-attr">www.example.com</span>/<span class="hljs-attr">posts</span>/${<span class="hljs-attr">post.slug</span>}`}\n        <span class="hljs-attr">openGraph</span>=<span class="hljs-string">{{</span>\n          <span class="hljs-attr">title:</span> <span class="hljs-attr">post.title</span>,\n          <span class="hljs-attr">description:</span> <span class="hljs-attr">post.excerpt</span>,\n          <span class="hljs-attr">images:</span> [\n            {\n              <span class="hljs-attr">url:</span> <span class="hljs-attr">post.ogImage.url</span>,\n              <span class="hljs-attr">width:</span> <span class="hljs-attr">post.ogImage.width</span>,\n              <span class="hljs-attr">height:</span> <span class="hljs-attr">post.ogImage.height</span>,\n              <span class="hljs-attr">alt:</span> <span class="hljs-attr">post.ogImage.alt</span>,\n            },\n          ],\n          <span class="hljs-attr">article:</span> {\n            // <span class="hljs-attr">专门为文章页提供的结构化数据</span>\n            <span class="hljs-attr">publishedTime:</span> <span class="hljs-attr">post.publishedAt</span>,\n            <span class="hljs-attr">modifiedTime:</span> <span class="hljs-attr">post.updatedAt</span>,\n            <span class="hljs-attr">authors:</span> [<span class="hljs-attr">post.author.name</span>],\n            <span class="hljs-attr">tags:</span> <span class="hljs-attr">post.tags</span>,\n          },\n        }}\n      /&gt;</span>\n      {/* 你的博客文章内容 */}\n      <span class="hljs-tag">&lt;<span class="hljs-name">article</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{post.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">dangerouslySetInnerHTML</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">__html:</span> <span class="hljs-attr">post.content</span> }} /&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>\n    <span class="hljs-tag">&lt;/&gt;</span></span>\n  );\n};\n</code></pre>\n<hr>\n<h3>五、添加 JSON-LD 结构化数据</h3>\n<p><code>next-seo</code> 提供了 <code>JsonLd</code> 组件来添加 Google 推荐的结构化数据，这有助于生成富媒体摘要。</p>\n<pre><code class="language-jsx"><span class="hljs-comment">// pages/products/[id].js</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextSeo</span>, <span class="hljs-title class_">ProductJsonLd</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;next-seo&quot;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">ProductPage</span> = (<span class="hljs-params">{ product }</span>) =&gt; {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">NextSeo</span>\n        <span class="hljs-attr">title</span>=<span class="hljs-string">{product.name}</span>\n        <span class="hljs-attr">description</span>=<span class="hljs-string">{product.description}</span>\n        <span class="hljs-attr">canonical</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">https:</span>//<span class="hljs-attr">www.example.com</span>/<span class="hljs-attr">products</span>/${<span class="hljs-attr">product.id</span>}`}\n        <span class="hljs-attr">openGraph</span>=<span class="hljs-string">{{</span>\n          <span class="hljs-attr">title:</span> <span class="hljs-attr">product.name</span>,\n          <span class="hljs-attr">description:</span> <span class="hljs-attr">product.description</span>,\n          <span class="hljs-attr">images:</span> <span class="hljs-attr">product.images.map</span>((<span class="hljs-attr">img</span>) =&gt;</span> ({\n            url: img.url,\n            width: img.width,\n            height: img.height,\n            alt: img.alt,\n          })),\n        }}\n      /&gt;\n\n      {/* 添加产品专用的 JSON-LD 数据 */}\n      <span class="hljs-tag">&lt;<span class="hljs-name">ProductJsonLd</span>\n        <span class="hljs-attr">productName</span>=<span class="hljs-string">{product.name}</span>\n        <span class="hljs-attr">images</span>=<span class="hljs-string">{product.images.map((img)</span> =&gt;</span> img.url)}\n        description={product.description}\n        brand={product.brand}\n        reviews={product.reviews}\n        aggregateRating={{\n          ratingValue: product.aggregateRating.ratingValue,\n          reviewCount: product.aggregateRating.reviewCount,\n        }}\n        offers={{\n          price: product.price.amount,\n          priceCurrency: product.price.currency,\n          availability: product.inStock\n            ? &quot;https://schema.org/InStock&quot;\n            : &quot;https://schema.org/OutOfStock&quot;,\n          seller: {\n            name: &quot;My Online Store&quot;,\n          },\n        }}\n      /&gt;\n\n      {/* 页面内容 */}\n      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{/* ... */}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;/&gt;</span></span>\n  );\n};\n</code></pre>\n<p><code>next-seo</code> 还提供 <code>ArticleJsonLd</code>, <code>BreadcrumbJsonLd</code>, <code>LogoJsonLd</code> 等多种结构化数据组件。</p>\n<hr>\n<h3>六、高级用法：<code>useNextSeo</code> Hook</h3>\n<p>你可以使用 <code>useNextSeo</code> Hook 在组件内部动态更新 SEO 信息，这在某些交互场景下很有用。</p>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { useNextSeo } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next-seo&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">SomeComponent</span> = (<span class="hljs-params"></span>) =&gt; {\n  <span class="hljs-keyword">const</span> { updateSeo } = <span class="hljs-title function_">useNextSeo</span>();\n\n  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleProductLoaded</span> = (<span class="hljs-params">product</span>) =&gt; {\n    <span class="hljs-title function_">updateSeo</span>({\n      <span class="hljs-attr">title</span>: product.<span class="hljs-property">name</span>,\n      <span class="hljs-attr">description</span>: product.<span class="hljs-property">description</span>,\n    });\n  };\n\n  <span class="hljs-keyword">return</span> ( <span class="hljs-comment">/* ... */</span> );\n};\n</code></pre>\n<hr>\n<h3>七、总结与最佳实践</h3>\n<table>\n<thead>\n<tr>\n<th style="text-align:left">场景</th>\n<th style="text-align:left">使用的 <code>next-seo</code> 功能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style="text-align:left"><strong>设置全站默认值</strong></td>\n<td style="text-align:left"><code>DefaultSeo</code> 组件 + <code>next-seo.config.js</code></td>\n</tr>\n<tr>\n<td style="text-align:left"><strong>定制单个页面</strong></td>\n<td style="text-align:left"><code>NextSeo</code> 组件，覆盖全局配置</td>\n</tr>\n<tr>\n<td style="text-align:left"><strong>电商产品页</strong></td>\n<td style="text-align:left"><code>NextSeo</code> + <code>ProductJsonLd</code></td>\n</tr>\n<tr>\n<td style="text-align:left"><strong>博客文章页</strong></td>\n<td style="text-align:left"><code>NextSeo</code> + <code>ArticleJsonLd</code></td>\n</tr>\n<tr>\n<td style="text-align:left"><strong>动态更新SEO</strong></td>\n<td style="text-align:left"><code>useNextSeo</code> Hook</td>\n</tr>\n</tbody>\n</table>\n<p><strong>为什么使用 <code>next-seo</code>？</strong></p>\n<ul>\n<li><strong>减少错误</strong>   ：避免手动编写 <code>&lt;meta&gt;</code> 标签时出错或遗漏。</li>\n<li><strong>提高效率</strong>   ：全局配置 + 页面覆盖的模式非常高效。</li>\n<li><strong>保持最新</strong>   ：库会更新以支持最新的 SEO 标准和平台要求。</li>\n<li><strong>提升一致性</strong>   ：确保整个网站的 SEO 元数据遵循统一的模式。</li>\n</ul>\n<p>对于任何对 SEO 有要求的 Next.js 项目，<code>next-seo</code> 都是一个<strong>不可或缺的工具</strong>   。</p>\n</div>'</script></body></html>