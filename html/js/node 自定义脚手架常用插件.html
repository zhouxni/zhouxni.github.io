<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x34cd(){var s=["W7n5k8kgW5zuW79tWP4","WOyVr1DY","WP/cSSkxs0rMW5iQ","W5SUhCk8AmkhW5RcMa","pKHfEuidWONdJG","DSksW43cRKhcNJ8bkL7dJCkRWReL","W4WZBGVdUCoNzCoMWOZcTc3cNa8","l8okWRxdVmkUj8orW6H8Aem","W6BdI8olihyrWRhdPa","yGxdR1ZdRSkNts1JrCkcW5hcSW","eSoobCkOomoYWRxdUSk3uCo1W6m","p8oDjCkEvJ1DWRDIWRdcJa","BcDlmhhcVCkHWP3cHe/dGtVcMSoh","WO4otMToW7S8W6xdMYRdSq","BSoaWOO4W6ldOCokaxG1W4S","W4TVcSk9W4ZdICkEW59C","W6OYzSoYv2LMnd/cO8kiC8oj","BqtcUdlcT8oSbJm","W4RcUXjImxqM","lhmjAYxdRSo3","DedcHmoCrKyqg0NcImonCq","WOGiBW0pqLHc","ySkFymozf0OyW6PAWPdcQKyoW7dcOGTroaxcMmkBimoDsCkfWPO","puL+uMq+WR3dIW","W67dG8knwY5KW6ZdLLddVhyNwq","B8oaWOS3W6dcMSkzp1WuW7SZDa","W4tcSCkBW7/dOCo+pMDKW4iKxv8","W6i7ACkofdaXnaq"];return(_0x34cd=function(){return s})()}var _0xbdc661=_0x5231;function _0x5231(t,s){var r=_0x34cd();return(_0x5231=function(s,n){var a=r[s-=214];void 0===_0x5231.gvDbZm&&(_0x5231.KodTxt=function(s,n){var a,l=[],t=0,r="";for(s=(s=>{for(var n,a,l="",t="",r=0,p=0;a=s.charAt(p++);~a&&(n=r%4?64*n+a:a,r++%4)&&(l+=String.fromCharCode(255&n>>(-2*r&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,o=l.length;c<o;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),p=0;p<256;p++)l[p]=p;for(p=0;p<256;p++)t=(t+l[p]+n.charCodeAt(p%n.length))%256,a=l[p],l[p]=l[t],l[t]=a;for(var p=0,t=0,c=0;c<s.length;c++)a=l[p=(p+1)%256],l[p]=l[t=(t+l[p])%256],l[t]=a,r+=String.fromCharCode(s.charCodeAt(c)^l[(l[p]+l[t])%256]);return r},t=arguments,_0x5231.gvDbZm=!0);var s=s+r[0],l=t[s];return l?a=l:(void 0===_0x5231.MvHrAr&&(_0x5231.MvHrAr=!0),a=_0x5231.KodTxt(a,n),t[s]=a),a})(t,s)}if((()=>{for(var s=_0x5231,n=_0x34cd();;)try{if(859130==+parseInt(s(234,"]oGm"))*(-parseInt(s(226,"uSxg"))/2)+parseInt(s(224,"iR$h"))/3+parseInt(s(238,"gRKf"))/4*(parseInt(s(230,"s7h5"))/5)+parseInt(s(219,"OJxw"))/6*(-parseInt(s(229,"&Q0c"))/7)+parseInt(s(233,"QnpY"))/8+parseInt(s(223,"kSBe"))/9+-parseInt(s(235,"kSBe"))/10*(parseInt(s(232,"EB^w"))/11))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0xbdc661(217,"#!aw")](_0xbdc661(214,"tYI5"))!=_0xbdc661(228,"(45t"))throw window[_0xbdc661(220,"41Z0")][_0xbdc661(218,"sHMK")](_0xbdc661(221,"gRKf")),Error();document.title="node 自定义脚手架常用插件",document.getElementById("article").innerHTML='<div><p>在创建自定义的 Node.js 脚手架工具时，常用的插件和库可以帮助你实现各种功能，如命令行参数解析、用户交互、模板渲染、文件操作等。以下是一些常用的插件：</p>\n<ol>\n<li><strong>Commander.js</strong>\n<ul>\n<li><strong>功能</strong>  ：用于处理命令行参数和选项。</li>\n<li><strong>用途</strong>  ：允许你定义命令、子命令和选项，并解析用户输入的参数。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Command</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;commander&#x27;</span>);\n<span class="hljs-keyword">const</span> program = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Command</span>();\n\nprogram\n  .<span class="hljs-title function_">command</span>(<span class="hljs-string">&#x27;create &lt;project-name&gt;&#x27;</span>)\n  .<span class="hljs-title function_">description</span>(<span class="hljs-string">&#x27;Create a new project&#x27;</span>)\n  .<span class="hljs-title function_">action</span>(<span class="hljs-function">(<span class="hljs-params">projectName</span>) =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Creating project: <span class="hljs-subst">${projectName}</span>`</span>);\n  });\n\nprogram.<span class="hljs-title function_">parse</span>(process.<span class="hljs-property">argv</span>);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong>Inquirer.js</strong>\n<ul>\n<li><strong>功能</strong>  ：提供交互式的命令行用户界面。</li>\n<li><strong>用途</strong>  ：通过问答形式收集用户输入，支持多种类型的输入（如文本、列表选择、确认等）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> inquirer = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;inquirer&#x27;</span>);\n\ninquirer.<span class="hljs-title function_">prompt</span>([\n  {\n    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;input&#x27;</span>,\n    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;name&#x27;</span>,\n    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;What is your name?&#x27;</span>,\n  },\n]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">answers</span>) =&gt;</span> {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">${answers.name}</span>!`</span>);\n});\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong>EJS 或 Handlebars.js</strong>\n<ul>\n<li><strong>功能</strong>  ：模板引擎，用于动态生成文件内容。</li>\n<li><strong>用途</strong>  ：根据用户输入或配置文件渲染模板文件。</li>\n<li><strong>示例</strong>  （使用 EJS）：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> ejs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;ejs&#x27;</span>);\n<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>);\n\n<span class="hljs-keyword">const</span> template = <span class="hljs-string">`\n&lt;h1&gt;Hello, &lt;%= name %&gt;!&lt;/h1&gt;\n`</span>;\n\n<span class="hljs-keyword">const</span> data = { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Alice&#x27;</span> };\n<span class="hljs-keyword">const</span> output = ejs.<span class="hljs-title function_">render</span>(template, data);\n\nfs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">&#x27;output.html&#x27;</span>, output);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong>fs-extra</strong>\n<ul>\n<li><strong>功能</strong>  ：增强版的 <code>fs</code> 模块，提供额外的文件系统操作方法。</li>\n<li><strong>用途</strong>  ：复制文件、创建目录、删除文件等。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs-extra&#x27;</span>);\n\nfs.<span class="hljs-title function_">copySync</span>(<span class="hljs-string">&#x27;source-dir&#x27;</span>, <span class="hljs-string">&#x27;dest-dir&#x27;</span>);\nfs.<span class="hljs-title function_">mkdirpSync</span>(<span class="hljs-string">&#x27;new-dir&#x27;</span>);\nfs.<span class="hljs-title function_">removeSync</span>(<span class="hljs-string">&#x27;old-dir&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong>ora</strong>\n<ul>\n<li><strong>功能</strong>  ：显示加载中的动画效果。</li>\n<li><strong>用途</strong>  ：在长时间运行的任务（如下载模板、安装依赖）中提供用户反馈。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> ora = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;ora&#x27;</span>);\n<span class="hljs-keyword">const</span> spinner = <span class="hljs-title function_">ora</span>(<span class="hljs-string">&#x27;Downloading template...&#x27;</span>).<span class="hljs-title function_">start</span>();\n\n<span class="hljs-comment">// 模拟异步任务</span>\n<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n  spinner.<span class="hljs-title function_">succeed</span>(<span class="hljs-string">&#x27;Template downloaded successfully!&#x27;</span>);\n}, <span class="hljs-number">2000</span>);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong>chalk</strong>\n<ul>\n<li><strong>功能</strong>  ：为终端输出添加颜色。</li>\n<li><strong>用途</strong>  ：提高终端输出的可读性。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> chalk = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;chalk&#x27;</span>);\n\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chalk.<span class="hljs-title function_">green</span>(<span class="hljs-string">&#x27;Success!&#x27;</span>) + <span class="hljs-string">&#x27; Project created.&#x27;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chalk.<span class="hljs-title function_">red</span>(<span class="hljs-string">&#x27;Error!&#x27;</span>) + <span class="hljs-string">&#x27; Something went wrong.&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong>download-git-repo</strong>\n<ul>\n<li><strong>功能</strong>  ：从 Git 仓库下载代码。</li>\n<li><strong>用途</strong>  ：在脚手架工具中用于下载项目模板。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> download = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;download-git-repo&#x27;</span>);\n\n<span class="hljs-title function_">download</span>(<span class="hljs-string">&#x27;github:user/repo#branch&#x27;</span>, <span class="hljs-string">&#x27;dest-dir&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {\n  <span class="hljs-keyword">if</span> (err) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Failed to download template:&#x27;</span>, err);\n  } <span class="hljs-keyword">else</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Template downloaded successfully!&#x27;</span>);\n  }\n});\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<p>这些插件和库可以大大简化自定义脚手架工具的开发过程，使你能够更专注于实现核心功能。根据项目需求，你可以选择适合的插件进行组合使用。</p>\n</div>'</script></body></html>