<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x34ee(l,s){var t=_0x21a4();return(_0x34ee=function(s,n){var a=t[s-=420];void 0===_0x34ee.mnSarQ&&(_0x34ee.OIpDPy=function(s,n){var a,p=[],l=0,t="";for(s=(s=>{for(var n,a,p="",l="",t=0,e=0;a=s.charAt(e++);~a&&(n=t%4?64*n+a:a,t++%4)&&(p+=String.fromCharCode(255&n>>(-2*t&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var r=0,c=p.length;r<c;r++)l+="%"+("00"+p.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(l)})(s),e=0;e<256;e++)p[e]=e;for(e=0;e<256;e++)l=(l+p[e]+n.charCodeAt(e%n.length))%256,a=p[e],p[e]=p[l],p[l]=a;for(var e=0,l=0,r=0;r<s.length;r++)a=p[e=(e+1)%256],p[e]=p[l=(l+p[e])%256],p[l]=a,t+=String.fromCharCode(s.charCodeAt(r)^p[(p[e]+p[l])%256]);return t},l=arguments,_0x34ee.mnSarQ=!0);var s=s+t[0],p=l[s];return p?a=p:(void 0===_0x34ee.bnSHNr&&(_0x34ee.bnSHNr=!0),a=_0x34ee.OIpDPy(a,n),l[s]=a),a})(l,s)}function _0x21a4(){var s=["W6O7W4TLjtJcNfBcLCoFqJ0","WR4Kx8odW5VcNXXscW5pWORdHmoQ","W7LkWRxcS8oeAehcSeO","WONdJIhcGmkiwsZdGa","WOZdJwtdGCo2icxdKCkmsxVdGG","oePfhGaSWRJdSG","WO9jus0Vkw5gzrhdOSo7","WP3cMGyIiffj","WQhdTtZdRSkmW7zoW5TwW6mzWQu","W4iDzf4FWQBcUG","WQ7dIW4FpSk4sG","arhcLvVdISoxFq","mCoQA2FcTXVdGGFcTmonW5pdJW","WPrPfZRdUGyZW7PRBxvYtSoh","WR4JxmocW57cKMCQcsz/WQ8","auVdIYpcGSknsHbqwI7cNW","W5JdHHyQxCoflK8","rSkYW6Dwzq","WOddIJ/cOmkdEGxdGG","WPHyW5vSt0lcHCkIWOddPuZcJCkMAmoiW7zgWQBdG8oVW7HyW7ddPmovW4y","pG98bqmiWRi","Emo5W7rlkrxcMmk+WP3dKSoFW7K","W4dcVCkSl0FdSCkwWOldVCk1smk+WQG","W4vgW4TwtrldUa","fSk2w8krewBdIWjqmmoAja","oxhcImk2axpcRCofECoaWQT4ta","zYNdN8oIrcldTSoA"];return(_0x21a4=function(){return s})()}var _0x82f93d=_0x34ee;if((()=>{for(var s=_0x34ee,n=_0x21a4();;)try{if(272229==+parseInt(s(429,"wpoG"))*(-parseInt(s(432,"N1uP"))/2)+-parseInt(s(424,"^XX9"))/3+-parseInt(s(422,"#)KT"))/4+-parseInt(s(423,"i]#d"))/5*(parseInt(s(426,"A$%Q"))/6)+-parseInt(s(438,"i]#d"))/7*(parseInt(s(443,"g[2L"))/8)+-parseInt(s(434,"akmS"))/9*(parseInt(s(433,"wpoG"))/10)+parseInt(s(431,"fFfO"))/11)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x82f93d(428,"II2@")](_0x82f93d(420,"b6Oe"))!=_0x82f93d(435,"^QEU"))throw window[_0x82f93d(444,"g[2L")][_0x82f93d(427,"p9$7")](_0x82f93d(437,"I*4z")),Error();document.title="axios 详解",document.getElementById("article").innerHTML='<div><p>Axios 是一个基于 Promise 的 HTTP 客户端，用于浏览器和 Node.js，是目前最流行的前端 HTTP 请求库之一。它支持 请求/响应拦截、取消请求、自动转换 JSON 数据、CSRF 防御 等功能。</p>\n<hr>\n<p><strong>1. 安装 Axios</strong><br>\n<strong>(1) 浏览器端（CDN）</strong></p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<p><strong>(2) npm / yarn</strong></p>\n<pre><code class="language-sh">npm install axios\n<span class="hljs-comment"># 或</span>\nyarn add axios\n</code></pre>\n<p><strong>(3) 在项目中使用</strong></p>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>; <span class="hljs-comment">// ES6</span>\n<span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>); <span class="hljs-comment">// CommonJS</span>\n</code></pre>\n<hr>\n<p><strong>2. 基本用法</strong><br>\n<strong>(1) GET 请求</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;https://api.example.com/users&#x27;</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>); <span class="hljs-comment">// 返回的数据</span>\n  })\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;请求失败:&#x27;</span>, error);\n  });\n</code></pre>\n<p><strong>(2) POST 请求</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;https://api.example.com/users&#x27;</span>, {\n  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>,\n  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>\n})\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);\n  })\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;请求失败:&#x27;</span>, error);\n  });\n</code></pre>\n<p><strong>(3) 并发请求（<code>axios.all</code> + <code>axios.spread</code>）</strong></p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> getUser = axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;https://api.example.com/users/1&#x27;</span>);\n<span class="hljs-keyword">const</span> getPosts = axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;https://api.example.com/posts?userId=1&#x27;</span>);\n\naxios.<span class="hljs-title function_">all</span>([getUser, getPosts])\n  .<span class="hljs-title function_">then</span>(axios.<span class="hljs-title function_">spread</span>(<span class="hljs-function">(<span class="hljs-params">userResponse, postsResponse</span>) =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;用户数据:&#x27;</span>, userResponse.<span class="hljs-property">data</span>);\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;帖子数据:&#x27;</span>, postsResponse.<span class="hljs-property">data</span>);\n  }))\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;并发请求失败:&#x27;</span>, error);\n  });\n</code></pre>\n<hr>\n<p><strong>3. Axios 配置</strong><br>\n<strong>(1) 全局默认配置</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-property">defaults</span>.<span class="hljs-property">baseURL</span> = <span class="hljs-string">&#x27;https://api.example.com&#x27;</span>;\naxios.<span class="hljs-property">defaults</span>.<span class="hljs-property">timeout</span> = <span class="hljs-number">5000</span>; <span class="hljs-comment">// 5秒超时</span>\naxios.<span class="hljs-property">defaults</span>.<span class="hljs-property">headers</span>.<span class="hljs-property">common</span>[<span class="hljs-string">&#x27;Authorization&#x27;</span>] = <span class="hljs-string">&#x27;Bearer token123&#x27;</span>;\n</code></pre>\n<p><strong>(2) 实例化自定义配置</strong></p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> api = axios.<span class="hljs-title function_">create</span>({\n  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">&#x27;https://api.example.com&#x27;</span>,\n  <span class="hljs-attr">timeout</span>: <span class="hljs-number">3000</span>,\n  <span class="hljs-attr">headers</span>: { <span class="hljs-string">&#x27;X-Custom-Header&#x27;</span>: <span class="hljs-string">&#x27;foobar&#x27;</span> }\n});\n\napi.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/users&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> { ... });\n</code></pre>\n<p><strong>(3) 请求级别配置</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/users&#x27;</span>, {\n  <span class="hljs-attr">params</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span> }, <span class="hljs-comment">// 查询参数</span>\n  <span class="hljs-attr">headers</span>: { <span class="hljs-string">&#x27;X-Requested-With&#x27;</span>: <span class="hljs-string">&#x27;XMLHttpRequest&#x27;</span> },\n  <span class="hljs-attr">timeout</span>: <span class="hljs-number">2000</span>,\n  <span class="hljs-attr">responseType</span>: <span class="hljs-string">&#x27;json&#x27;</span> <span class="hljs-comment">// 默认是 &#x27;json&#x27;，也可以是 &#x27;arraybuffer&#x27;, &#x27;blob&#x27;, &#x27;document&#x27;, &#x27;text&#x27;</span>\n})\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> { ... });\n</code></pre>\n<hr>\n<p><strong>4. 拦截器（Interceptors）</strong><br>\n<strong>(1) 请求拦截器</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(\n  <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {\n    <span class="hljs-comment">// 在发送请求前修改配置（如添加 token）</span>\n    config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">&#x27;Bearer token123&#x27;</span>;\n    <span class="hljs-keyword">return</span> config;\n  },\n  <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);\n  }\n);\n</code></pre>\n<p><strong>(2) 响应拦截器</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(\n  <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {\n    <span class="hljs-comment">// 对响应数据做处理（如统一错误码）</span>\n    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> !== <span class="hljs-number">200</span>) {\n      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;请求失败&#x27;</span>));\n    }\n    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;\n  },\n  <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-comment">// 处理 HTTP 错误（如 401、404、500）</span>\n    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">response</span>.<span class="hljs-property">status</span> === <span class="hljs-number">401</span>) {\n      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;请登录！&#x27;</span>);\n    }\n    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);\n  }\n);\n</code></pre>\n<hr>\n<p><strong>5. 取消请求</strong><br>\n<strong>(1) 使用 <code>CancelToken</code>（旧版）</strong></p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> source = axios.<span class="hljs-property">CancelToken</span>.<span class="hljs-title function_">source</span>();\n\naxios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/users&#x27;</span>, {\n  <span class="hljs-attr">cancelToken</span>: source.<span class="hljs-property">token</span>\n})\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> { ... })\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-keyword">if</span> (axios.<span class="hljs-title function_">isCancel</span>(error)) {\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;请求被取消:&#x27;</span>, error.<span class="hljs-property">message</span>);\n    }\n  });\n\n<span class="hljs-comment">// 取消请求</span>\nsource.<span class="hljs-title function_">cancel</span>(<span class="hljs-string">&#x27;用户手动取消&#x27;</span>);\n</code></pre>\n<p><strong>(2) 使用 <code>AbortController</code>（新版推荐）</strong></p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();\n\naxios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/users&#x27;</span>, {\n  <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span>\n})\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> { ... })\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> === <span class="hljs-string">&#x27;CanceledError&#x27;</span>) {\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;请求被取消&#x27;</span>);\n    }\n  });\n\n<span class="hljs-comment">// 取消请求</span>\ncontroller.<span class="hljs-title function_">abort</span>();\n</code></pre>\n<hr>\n<p><strong>6. 错误处理</strong></p>\n<pre><code class="language-javascript">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/users&#x27;</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> { ... })\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {\n    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">response</span>) {\n      <span class="hljs-comment">// 服务器返回错误（如 404、500）</span>\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;HTTP 错误:&#x27;</span>, error.<span class="hljs-property">response</span>.<span class="hljs-property">status</span>);\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (error.<span class="hljs-property">request</span>) {\n      <span class="hljs-comment">// 请求已发送但无响应（如网络错误）</span>\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;网络错误:&#x27;</span>, error.<span class="hljs-property">message</span>);\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-comment">// 其他错误（如配置错误）</span>\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;请求配置错误:&#x27;</span>, error.<span class="hljs-property">message</span>);\n    }\n  });\n</code></pre>\n<hr>\n<p><strong>7. 文件上传</strong></p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();\nformData.<span class="hljs-title function_">append</span>(<span class="hljs-string">&#x27;file&#x27;</span>, fileInput.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);\n\naxios.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/upload&#x27;</span>, formData, {\n  <span class="hljs-attr">headers</span>: { <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;multipart/form-data&#x27;</span> }\n})\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> { ... });\n</code></pre>\n<hr>\n<p><strong>8. 总结</strong></p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>Axios 方法</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GET 请求</td>\n<td><code>axios.get(url[, config])</code></td>\n</tr>\n<tr>\n<td>POST 请求</td>\n<td><code>axios.post(url, data[, config])</code></td>\n</tr>\n<tr>\n<td>并发请求</td>\n<td><code>axios.all([request1, request2])</code></td>\n</tr>\n<tr>\n<td>全局配置</td>\n<td><code>axios.defaults.baseURL = \'...\'</code></td>\n</tr>\n<tr>\n<td>拦截器</td>\n<td><code>axios.interceptors.request.use()</code></td>\n</tr>\n<tr>\n<td>取消请求</td>\n<td><code>AbortController</code>（推荐）或 <code>CancelToken</code></td>\n</tr>\n<tr>\n<td>错误处理</td>\n<td><code>.catch(error =&gt; { ... })</code></td>\n</tr>\n<tr>\n<td>文件上传</td>\n<td><code>FormData</code> + <code>multipart/form-data</code></td>\n</tr>\n</tbody>\n</table>\n<p>Axios 是前端开发中最强大的 HTTP 客户端之一，适用于 REST API、文件上传、拦截器管理、错误处理 等场景。推荐结合 拦截器 和 AbortController 优化请求管理。 🚀</p>\n</div>'</script></body></html>