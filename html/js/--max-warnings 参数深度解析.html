<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x3d85f4=_0x14d9;function _0x5539(){var n=["W5ONmKRdV8kaWQZcUNrAeG","WOBdLs8CF8ohzCohyxz7","BCkADXJdOSkqkLa","e8kmnmoKrSoTW5W7WOddTSkUlW","dmkFW7PdWQGwWRGW","BelcRmkizeVcMHJdPZO","ksdcJb0wW6Or","ErhdTIlcTrefeI56uG","W4L0W7eQWQRcQtNdRSoksa","W4mZWOeAtbnBoN8owL7dJwDJW57dIL4NveHmWONcGGVcTq","WRVdOmoAimkUCsPkWOyAt0S","W7JcH8oTrG3dGmkOWPC","W5ZdNmoVWOademo7W7pcRmoe","dmkBWRm2W7SDWRGFmfVcGa","W6PYWPhcIuZdV8ozpCkdW5a6va","oCkoWP/dI8oryGZdVCkeW67cItq","z8otcb7dLWjNWRS","WOtdLwvlkmo8ymoN","WOSDW6PaWRhdISo0fCox","W5hcH8ormmoMgCojWPzXFq","WOqlWO7dMYpdM1C","c2hcVW7cLSoZWO7cGJRdUejN","WQVdQ8oCwta","W73cRmojWOW3aCoT","W5BcICoDnmk/pSoJWPnywg0","m8knWPddJCoAnrFdTCkeW43cJW","W6uWWQ8ZzcZcHCo3W5W","CrtdUslcUuCghYXmySkh","WRPrW7FdL8oiuSoqWQhdRG","W6n2iaH+gmkUWRFdSNf/iW","WR3cGCkave/dUaK","acxcUItcLg8StrSVW4ZdRa"];return(_0x5539=function(){return n})()}function _0x14d9(l,n){var e=_0x5539();return(_0x14d9=function(n,s){var t=e[n-=443];void 0===_0x14d9.volgLL&&(_0x14d9.MaNKLh=function(n,s){var t,a=[],l=0,e="";for(n=(n=>{for(var s,t,a="",l="",e=0,r=0;t=n.charAt(r++);~t&&(s=e%4?64*s+t:t,e++%4)&&(a+=String.fromCharCode(255&s>>(-2*e&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var d=0,o=a.length;d<o;d++)l+="%"+("00"+a.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(l)})(n),r=0;r<256;r++)a[r]=r;for(r=0;r<256;r++)l=(l+a[r]+s.charCodeAt(r%s.length))%256,t=a[r],a[r]=a[l],a[l]=t;for(var r=0,l=0,d=0;d<n.length;d++)t=a[r=(r+1)%256],a[r]=a[l=(l+a[r])%256],a[l]=t,e+=String.fromCharCode(n.charCodeAt(d)^a[(a[r]+a[l])%256]);return e},l=arguments,_0x14d9.volgLL=!0);var n=n+e[0],a=l[n];return a?t=a:(void 0===_0x14d9.jjoJjt&&(_0x14d9.jjoJjt=!0),t=_0x14d9.MaNKLh(t,s),l[n]=t),t})(l,n)}if((()=>{for(var n=_0x14d9,s=_0x5539();;)try{if(425396==+parseInt(n(443,"UzDm"))*(-parseInt(n(447,"lrNy"))/2)+parseInt(n(468,"7BkW"))/3*(parseInt(n(471,"Tl2n"))/4)+parseInt(n(466,"kWFW"))/5*(-parseInt(n(453,"kaNm"))/6)+-parseInt(n(464,"N6d]"))/7+parseInt(n(444,"N6d]"))/8*(parseInt(n(463,"(y6V"))/9)+parseInt(n(470,"@qjm"))/10*(-parseInt(n(445,"(y]9"))/11)+-parseInt(n(474,"M@H$"))/12*(-parseInt(n(469,"vS$N"))/13))break;s.push(s.shift())}catch(n){s.push(s.shift())}})(),localStorage[_0x3d85f4(460,"n1iS")](_0x3d85f4(455,"KwcP"))!=_0x3d85f4(459,"Nycf"))throw window[_0x3d85f4(448,"^G($")][_0x3d85f4(457,"TFZf")](_0x3d85f4(446,"BkJ6")),Error();document.title="--max-warnings å‚æ•°æ·±åº¦è§£æ",document.getElementById("article").innerHTML='<div><p><code>--max-warnings</code> æ˜¯ ESLint å’Œå…¶ä»–ä»£ç æ£€æŸ¥å·¥å…·ä¸­çš„ä¸€ä¸ªé‡è¦å‚æ•°ï¼Œç”¨äºæ§åˆ¶è­¦å‘Šæ•°é‡çš„é˜ˆå€¼ã€‚ä¸‹é¢æˆ‘å°†å…¨é¢è§£æè¿™ä¸ªå‚æ•°çš„å·¥ä½œåŸç†ã€ä½¿ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µã€‚</p>\n<h2>å‚æ•°å®šä¹‰ä¸ä½œç”¨</h2>\n<p><code>--max-warnings [number]</code> å‚æ•°ï¼š</p>\n<ul>\n<li>è®¾ç½®å…è®¸çš„æœ€å¤§è­¦å‘Šæ•°é‡é˜ˆå€¼</li>\n<li>å½“è­¦å‘Šæ•°é‡è¶…è¿‡è®¾å®šå€¼æ—¶ï¼Œè¿”å›éé›¶é€€å‡ºç </li>\n<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒESLint ä¸ä¼šå› è­¦å‘Šè€Œå¤±è´¥</li>\n</ul>\n<h2>ä¸åŒå–å€¼çš„æ•ˆæœ</h2>\n<table>\n<thead>\n<tr>\n<th>å‚æ•°å€¼</th>\n<th>è¡Œä¸ºæè¿°</th>\n<th>é€‚ç”¨åœºæ™¯</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>--max-warnings 0</code></td>\n<td>ä»»ä½•è­¦å‘Šéƒ½ä¼šå¯¼è‡´æ£€æŸ¥å¤±è´¥ï¼ˆè¿”å›éé›¶é€€å‡ºç ï¼‰</td>\n<td>ä¸¥æ ¼æ¨¡å¼ï¼Œç”Ÿäº§ä»£ç </td>\n</tr>\n<tr>\n<td><code>--max-warnings 1</code></td>\n<td>å…è®¸æœ€å¤š1ä¸ªè­¦å‘Šï¼Œè¶…è¿‡åˆ™å¤±è´¥</td>\n<td>è¿‡æ¸¡æœŸï¼Œé€æ­¥å‡å°‘è­¦å‘Š</td>\n</tr>\n<tr>\n<td>ä¸è®¾ç½®</td>\n<td>è­¦å‘Šä¸ä¼šå¯¼è‡´æ£€æŸ¥å¤±è´¥ï¼ˆè¿”å›é›¶é€€å‡ºç ï¼‰</td>\n<td>å¼€å‘è°ƒè¯•é˜¶æ®µ</td>\n</tr>\n<tr>\n<td><code>--max-warnings -1</code></td>\n<td>å®Œå…¨ç¦ç”¨è­¦å‘Šé™åˆ¶ï¼ˆç­‰åŒäºä¸è®¾ç½®ï¼‰</td>\n<td>ç‰¹æ®Šåœºæ™¯</td>\n</tr>\n</tbody>\n</table>\n<h2>å…¸å‹ä½¿ç”¨ç¤ºä¾‹</h2>\n<h3>1. ä¸¥æ ¼æ¨¡å¼ï¼ˆé›¶å®¹å¿ï¼‰</h3>\n<pre><code class="language-sh">eslint . --ext .js,.ts --max-warnings 0\n</code></pre>\n<ul>\n<li>ä»»ä½•è­¦å‘Šéƒ½ä¼šå¯¼è‡´å‘½ä»¤è¿”å›éé›¶é€€å‡ºç </li>\n<li>é€‚åˆCI/CDç¯å¢ƒå’Œç”Ÿäº§ä»£ç </li>\n</ul>\n<h3>2. æ¸è¿›å¼æ”¹è¿›</h3>\n<pre><code class="language-sh">eslint . --max-warnings 10\n</code></pre>\n<ul>\n<li>å…è®¸æœ€å¤š10ä¸ªè­¦å‘Š</li>\n<li>é€‚åˆå¤§å‹é—ç•™é¡¹ç›®æ”¹é€ </li>\n</ul>\n<h3>3. ä¸è‡ªåŠ¨ä¿®å¤ç»“åˆ</h3>\n<pre><code class="language-sh">eslint . --fix --max-warnings 0\n</code></pre>\n<ul>\n<li>å…ˆå°è¯•è‡ªåŠ¨ä¿®å¤</li>\n<li>å‰©ä½™é—®é¢˜æŒ‰ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥</li>\n</ul>\n<h2>ä¸å…¶ä»–å‚æ•°çš„ç»„åˆ</h2>\n<h3>1. ä¸ <code>--quiet</code> ç»„åˆ</h3>\n<pre><code class="language-sh">eslint . --quiet --max-warnings 0\n</code></pre>\n<ul>\n<li><code>--quiet</code>ï¼šåªæŠ¥å‘Šé”™è¯¯ï¼Œå¿½ç•¥è­¦å‘Š</li>\n<li>ç»„åˆæ•ˆæœï¼šå®é™…ä¸Šä¸ä¼šå‡ºç°è­¦å‘Šï¼Œç›¸å½“äºåªæ£€æŸ¥é”™è¯¯</li>\n</ul>\n<h3>2. ä¸ <code>--fix</code> ç»„åˆ</h3>\n<pre><code class="language-sh">eslint . --fix --max-warnings 1\n</code></pre>\n<ol>\n<li>å…ˆå°è¯•è‡ªåŠ¨ä¿®å¤</li>\n<li>æ£€æŸ¥å‰©ä½™é—®é¢˜</li>\n<li>å…è®¸æœ€å¤š1ä¸ªè­¦å‘Š</li>\n</ol>\n<h3>3. ä¸ <code>--cache</code> ç»„åˆ</h3>\n<pre><code class="language-sh">eslint . --max-warnings 0 --cache\n</code></pre>\n<ul>\n<li>å¯ç”¨ç¼“å­˜æé«˜æ£€æŸ¥é€Ÿåº¦</li>\n<li>ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥</li>\n</ul>\n<h2>åœ¨é¡¹ç›®ä¸­çš„å®é™…åº”ç”¨</h2>\n<h3>package.json é…ç½®ç¤ºä¾‹</h3>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;lint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint . --max-warnings 0&quot;</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;lint:dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint . --max-warnings 10&quot;</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;lint:fix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint . --fix --max-warnings 0&quot;</span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<h3>ä¸ Husky é…åˆ</h3>\n<pre><code class="language-sh"><span class="hljs-meta">#!/usr/bin/env sh</span>\n. <span class="hljs-string">&quot;<span class="hljs-subst">$(dirname <span class="hljs-string">&quot;<span class="hljs-variable">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span>\n\n<span class="hljs-comment"># æäº¤å‰ä¸¥æ ¼æ£€æŸ¥</span>\nnpm run lint -- --max-warnings 0 || {\n  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;\n  ğŸ”´ æäº¤è¢«æ‹’ç»ï¼šä»£ç æ£€æŸ¥æœªé€šè¿‡\n  ğŸ’¡ å¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°è¯•ä¿®å¤ï¼š\n     npm run lint:fix\n  &quot;</span>\n  <span class="hljs-built_in">exit</span> 1\n}\n</code></pre>\n<h2>ä¸åŒå·¥å…·çš„å…¼å®¹æ€§</h2>\n<table>\n<thead>\n<tr>\n<th>å·¥å…·</th>\n<th>æ”¯æŒæƒ…å†µ</th>\n<th>ç­‰ä»·å‚æ•°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ESLint</td>\n<td>å®Œå…¨æ”¯æŒ</td>\n<td><code>--max-warnings</code></td>\n</tr>\n<tr>\n<td>Stylelint</td>\n<td>å®Œå…¨æ”¯æŒ</td>\n<td><code>--max-warnings</code></td>\n</tr>\n<tr>\n<td>TSLint</td>\n<td>ä¸æ”¯æŒï¼ˆå·²å¼ƒç”¨ï¼‰</td>\n<td>æ— </td>\n</tr>\n<tr>\n<td>Prettier</td>\n<td>é€šè¿‡ ESLint æ’ä»¶æ”¯æŒ</td>\n<td><code>\'prettier/prettier\': \'error\'</code></td>\n</tr>\n</tbody>\n</table>\n<h2>æœ€ä½³å®è·µå»ºè®®</h2>\n<ol>\n<li><strong>æ–°é¡¹ç›®</strong>  ï¼šä»ä¸€å¼€å§‹å°±ä½¿ç”¨ <code>--max-warnings 0</code></li>\n<li><strong>é—ç•™é¡¹ç›®</strong>  ï¼š\n<ul>\n<li>å…ˆç»Ÿè®¡å½“å‰è­¦å‘Šæ•°é‡</li>\n<li>è®¾ç½®é˜¶æ®µæ€§ç›®æ ‡ï¼ˆå¦‚æ¯å‘¨å‡å°‘10%ï¼‰</li>\n<li>é€æ­¥é™ä½ <code>--max-warnings</code> å€¼</li>\n</ul>\n</li>\n<li><strong>å›¢é˜Ÿåä½œ</strong>  ï¼š\n<ul>\n<li>åœ¨æ–‡æ¡£ä¸­æ˜ç¡®è­¦å‘Šæ”¿ç­–</li>\n<li>åœ¨PRæè¿°ä¸­è¦æ±‚è¯´æ˜æ–°å¢è­¦å‘Šçš„åŸå› </li>\n</ul>\n</li>\n<li><strong>CI/CDç®¡é“</strong>  ï¼š\n<ul>\n<li>å§‹ç»ˆä½¿ç”¨ <code>--max-warnings 0</code></li>\n<li>ç”Ÿæˆè¯¦ç»†çš„æ£€æŸ¥æŠ¥å‘Š</li>\n</ul>\n</li>\n</ol>\n<h2>å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>\n<h3>é—®é¢˜1ï¼šå¦‚ä½•ä¸´æ—¶ç»•è¿‡ï¼Ÿ</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">/* eslint-disable-next-line rule-name */</span>\n<span class="hljs-comment">// ä½ çš„ä»£ç </span>\n</code></pre>\n<ul>\n<li>å¿…é¡»æ³¨æ˜å…·ä½“è§„åˆ™åç§°</li>\n<li>éœ€è¦å›¢é˜Ÿå®¡æ ¸é€šè¿‡</li>\n</ul>\n<h3>é—®é¢˜2ï¼šå¦‚ä½•æŸ¥çœ‹å½“å‰è­¦å‘Šæ•°é‡ï¼Ÿ</h3>\n<pre><code class="language-sh">eslint . --format json | jq <span class="hljs-string">&#x27;[.[] | select(.warningCount &gt; 0)] | length&#x27;</span>\n</code></pre>\n<h3>é—®é¢˜3ï¼šå¦‚ä½•åŒºåˆ†é”™è¯¯å’Œè­¦å‘Šï¼Ÿ</h3>\n<pre><code class="language-sh">eslint . --format json | jq <span class="hljs-string">&#x27;.[] | {file: .filePath, errors: .errorCount, warnings: .warningCount}&#x27;</span>\n</code></pre>\n<p>é€šè¿‡åˆç†ä½¿ç”¨ <code>--max-warnings</code> å‚æ•°ï¼Œå¯ä»¥åœ¨ä»£ç è´¨é‡ç®¡æ§ä¸­å®ç°çµæ´»è€Œæœ‰æ•ˆçš„è­¦å‘Šç®¡ç†ç­–ç•¥ï¼Œå¹³è¡¡å¼€å‘æ•ˆç‡ä¸ä»£ç è´¨é‡è¦æ±‚ã€‚</p>\n</div>'</script></body></html>