<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x36582d=_0x354d;function _0x354d(p,s){var l=_0x4445();return(_0x354d=function(s,n){var a=l[s-=131];void 0===_0x354d.INqiLC&&(_0x354d.jzBobd=function(s,n){var a,t=[],p=0,l="";for(s=(s=>{for(var n,a,t="",p="",l=0,e=0;a=s.charAt(e++);~a&&(n=l%4?64*n+a:a,l++%4)&&(t+=String.fromCharCode(255&n>>(-2*l&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var o=0,c=t.length;o<c;o++)p+="%"+("00"+t.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)t[e]=e;for(e=0;e<256;e++)p=(p+t[e]+n.charCodeAt(e%n.length))%256,a=t[e],t[e]=t[p],t[p]=a;for(var e=0,p=0,o=0;o<s.length;o++)a=t[e=(e+1)%256],t[e]=t[p=(p+t[e])%256],t[p]=a,l+=String.fromCharCode(s.charCodeAt(o)^t[(t[e]+t[p])%256]);return l},p=arguments,_0x354d.INqiLC=!0);var s=s+l[0],t=p[s];return t?a=t:(void 0===_0x354d.pWMptq&&(_0x354d.pWMptq=!0),a=_0x354d.jzBobd(a,n),p[s]=a),a})(p,s)}if((()=>{for(var s=_0x354d,n=_0x4445();;)try{if(835915==+parseInt(s(133,"&RQ8"))+parseInt(s(150,"a3#u"))/2*(parseInt(s(153,"H7Bl"))/3)+parseInt(s(157,"I&8r"))/4*(-parseInt(s(156,"]2i2"))/5)+-parseInt(s(139,"Xwdc"))/6+parseInt(s(147,"b@sL"))/7*(parseInt(s(154,"^oIA"))/8)+parseInt(s(144,"G7Wo"))/9*(-parseInt(s(158,"a3#u"))/10)+-parseInt(s(160,"^PV6"))/11*(-parseInt(s(159,"oWOX"))/12))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x36582d(142,"L$AM")](_0x36582d(138,"ov0g"))!=_0x36582d(135,"iUpj"))throw window[_0x36582d(152,"4xn@")][_0x36582d(148,"oWOX")](_0x36582d(149,"]2i2")),Error();function _0x4445(){var s=["cudcTmo6WQrnD2a","W6G1W5BdN0e","WQVcJ8oikGedWPmlWORcPqpcRSoBcG","seuFi8oaWRqJWQldI8oDWODf","W61uWQhcRCk3c8oMW5NcVa","W6XIWPDExCkiWPPkWQJcV1Pniq","WO/cGLaIjCkpnq","W5ZdICoWsSkdqmoDWPlcMJOo","Fmo1WPBdQ8kwW75P","DghcOCoeW4NdJhy","W78JWQP3vCo1bW","uZKpWRaOhGfUWRvRWR/dVmoGkW","pfHtW7VdOwBcRmo0W50","WQlcTf0hWPiMoSkfAG","W5FdTJ/dTmkhWPDW","W6tdQbCTwSkiv8oBbsjMDSkuWOHTWQ3dISkHWPb2i8kFWPJdVCoiWPu","WPeut8kOW6/dPgNdQW","WPCFW5fbCN8wW7ZcRrhcQG","hb9jD8kfW6SLWO4","FcK/bwX8WOZcN8kaWRRcUq","W4hcPJ8UW5rQW5GbWQi0ga","mvDEWOdcMHddSCohW7m2o3iz","WRJcQLPLhCkktCkKjtHouSkG","WRxdKSoJECkUW6P/","WPqugSoOWRJcSdpcS8oQaSo8uCogW5u","WPtcOqtdTmkwWRzfpG","mfZcVSkrWQrelSkvW6JcUuFcOxhdHW","W5ddJCo3sSkfp8klWQNcGcmIuGm","dftcKmkPWQNdR35a","W4xcRfxdH8oTe8kbpNvHWRddMq"];return(_0x4445=function(){return s})()}document.title="vue 异步组件",document.getElementById("article").innerHTML='<div><p>在 Vue 中，<strong>异步组件</strong>  允许你按需加载组件，优化应用性能（如减少首屏加载时间）。Vue 2 和 Vue 3 都支持异步组件，但语法略有不同。以下是具体用法：</p>\n<hr>\n<h2><strong>Vue 2 异步组件</strong></h2>\n<h3><strong>1. 使用 <code>import()</code> 动态导入（推荐）</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">AsyncComponent</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./AsyncComponent.vue&#x27;</span>);\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">components</span>: {\n    <span class="hljs-title class_">AsyncComponent</span>,\n  },\n};\n</code></pre>\n<h3><strong>2. 使用 <code>resolve =&gt; require([], resolve)</code>（旧写法）</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">AsyncComponent</span> = (<span class="hljs-params">resolve</span>) =&gt; {\n  <span class="hljs-built_in">require</span>([<span class="hljs-string">&#x27;./AsyncComponent.vue&#x27;</span>], resolve);\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">components</span>: {\n    <span class="hljs-title class_">AsyncComponent</span>,\n  },\n};\n</code></pre>\n<h3><strong>3. 高级配置（加载状态 &amp; 错误处理）</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">AsyncComponent</span> = (<span class="hljs-params"></span>) =&gt; ({\n  <span class="hljs-attr">component</span>: <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./AsyncComponent.vue&#x27;</span>),\n  <span class="hljs-attr">loading</span>: <span class="hljs-title class_">LoadingComponent</span>, <span class="hljs-comment">// 加载时显示的组件</span>\n  <span class="hljs-attr">error</span>: <span class="hljs-title class_">ErrorComponent</span>,    <span class="hljs-comment">// 加载失败时显示的组件</span>\n  <span class="hljs-attr">delay</span>: <span class="hljs-number">200</span>,              <span class="hljs-comment">// 延迟显示 loading（ms）</span>\n  <span class="hljs-attr">timeout</span>: <span class="hljs-number">3000</span>            <span class="hljs-comment">// 超时时间（ms）</span>\n});\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">components</span>: {\n    <span class="hljs-title class_">AsyncComponent</span>,\n  },\n};\n</code></pre>\n<hr>\n<h2><strong>Vue 3 异步组件</strong></h2>\n<p>Vue 3 推荐使用 <code>defineAsyncComponent</code> 定义异步组件：</p>\n<h3><strong>1. 基本用法</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { defineAsyncComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponent</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span>\n  <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./AsyncComponent.vue&#x27;</span>)\n);\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">components</span>: {\n    <span class="hljs-title class_">AsyncComponent</span>,\n  },\n};\n</code></pre>\n<h3><strong>2. 高级配置（加载状态 &amp; 错误处理）</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { defineAsyncComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponent</span> = <span class="hljs-title function_">defineAsyncComponent</span>({\n  <span class="hljs-attr">loader</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./AsyncComponent.vue&#x27;</span>),\n  <span class="hljs-attr">loadingComponent</span>: <span class="hljs-title class_">LoadingComponent</span>, <span class="hljs-comment">// 加载时显示的组件</span>\n  <span class="hljs-attr">errorComponent</span>: <span class="hljs-title class_">ErrorComponent</span>,    <span class="hljs-comment">// 加载失败时显示的组件</span>\n  <span class="hljs-attr">delay</span>: <span class="hljs-number">200</span>,                       <span class="hljs-comment">// 延迟显示 loading（ms）</span>\n  <span class="hljs-attr">timeout</span>: <span class="hljs-number">3000</span>,                    <span class="hljs-comment">// 超时时间（ms）</span>\n  <span class="hljs-attr">suspensible</span>: <span class="hljs-literal">false</span>,               <span class="hljs-comment">// 是否兼容 `&lt;Suspense&gt;`</span>\n});\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">components</span>: {\n    <span class="hljs-title class_">AsyncComponent</span>,\n  },\n};\n</code></pre>\n<h3><strong>3. 结合 <code>&lt;Suspense&gt;</code>（Vue 3 特有）</strong></h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">AsyncComponent</span> /&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">fallback</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n<span class="hljs-keyword">import</span> { defineAsyncComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">AsyncComponent</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span>\n  <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./AsyncComponent.vue&#x27;</span>)\n);\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  <span class="hljs-attr">components</span>: {\n    <span class="hljs-title class_">AsyncComponent</span>,\n  },\n};\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<hr>\n<h2><strong>总结</strong></h2>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>Vue 2</th>\n<th>Vue 3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>基本异步组件</strong></td>\n<td><code>() =&gt; import()</code></td>\n<td><code>defineAsyncComponent(() =&gt; import())</code></td>\n</tr>\n<tr>\n<td><strong>高级配置</strong></td>\n<td><code>{ component: import(), loading, error }</code></td>\n<td><code>defineAsyncComponent({ loader, loadingComponent, errorComponent })</code></td>\n</tr>\n<tr>\n<td><strong>Suspense 支持</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 支持</td>\n</tr>\n</tbody>\n</table>\n<h3><strong>最佳实践</strong></h3>\n<ul>\n<li><strong>Vue 2</strong>   → 直接使用 <code>import()</code> 动态导入。</li>\n<li><strong>Vue 3</strong>   → 使用 <code>defineAsyncComponent</code> + <code>Suspense</code>（如果需要更精细的加载控制）。</li>\n<li><strong>优化建议</strong>  ：\n<ul>\n<li>结合 <strong>Webpack 分包</strong>  （<code>/* webpackChunkName: &quot;async-component&quot; */</code>）。</li>\n<li>对大型组件或路由使用异步加载，减少首屏体积。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>如果你有更具体的需求（如结合 Vue Router 懒加载），可以进一步探讨！ 🚀</p>\n</div>'</script></body></html>