<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x1d0a(i,o){var d=_0x1f52();return(_0x1d0a=function(o,e){var n=d[o-=124];void 0===_0x1d0a.htWrra&&(_0x1d0a.ZvhjbO=function(o,e){var n,t=[],i=0,d="";for(o=(o=>{for(var e,n,t="",i="",d=0,r=0;n=o.charAt(r++);~n&&(e=d%4?64*e+n:n,d++%4)&&(t+=String.fromCharCode(255&e>>(-2*d&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,l=t.length;c<l;c++)i+="%"+("00"+t.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(i)})(o),r=0;r<256;r++)t[r]=r;for(r=0;r<256;r++)i=(i+t[r]+e.charCodeAt(r%e.length))%256,n=t[r],t[r]=t[i],t[i]=n;for(var r=0,i=0,c=0;c<o.length;c++)n=t[r=(r+1)%256],t[r]=t[i=(i+t[r])%256],t[i]=n,d+=String.fromCharCode(o.charCodeAt(c)^t[(t[r]+t[i])%256]);return d},i=arguments,_0x1d0a.htWrra=!0);var o=o+d[0],t=i[o];return t?n=t:(void 0===_0x1d0a.BfXUfT&&(_0x1d0a.BfXUfT=!0),n=_0x1d0a.ZvhjbO(n,e),i[o]=n),n})(i,o)}function _0x1f52(){var o=["CCkErSogFSkeWPtdVSonWOeMwa","WPHsWOOAa203WRb+cCkPhmo/","BSk9uYmNm8kGwcpcPCoJW40","WPHqWOWqa24ZWR9kl8kCfmom","nZWyW6ddIGNdJmoJWPhdJmkfWOLy","WP4kW7aOW5RcGSk1WQJcHa","DCogW694WOqmASoVW4SmW5/dLW","WRxcRcCOk8o0WPBcImkiW4RdVCky","nNlcNsVcHSkRms3cHHfXWPi","ouRdNH/cOuZdQqPt","W4ZdMr/dPSocW4Xh","W53dVhDIi2VcLq","WQFcQ8o3AYZcNmoqzmoAc8ojBCky","merrWQxcVh/cIa","W5G0WP46z0hdQgSofCoNbCoC","W5SYWP8WBuFcJeCleCoPoG","gdVdM8oZz2b7W6KsWPG/W4WOxCoUW6ruWPrypmoqWOZdJI9BAq","q3VcM8o6wtqfWRCl","W584WPKXBWhcMgmrj8oJ","o8oPf1HGz8kI","AMniWRhcI1NcLSo6","EsxcNbtcKIddQJ/cLSoqiSo8W4W","WPL1W557jG","cgBdTW5CW4pcIXpdMSkWpq"];return(_0x1f52=function(){return o})()}var _0x12c412=_0x1d0a;if((()=>{for(var o=_0x1d0a,e=_0x1f52();;)try{if(157637==-parseInt(o(131,"2(v4"))+-parseInt(o(126,"sT6I"))/2*(parseInt(o(124,"!AG]"))/3)+parseInt(o(146,"GWv3"))/4+parseInt(o(128,"@ime"))/5+-parseInt(o(143,"GHHo"))/6+parseInt(o(141,"GHHo"))/7+-parseInt(o(133,"Kb3T"))/8*(-parseInt(o(134,"2(v4"))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}})(),localStorage[_0x12c412(135,"z6Yj")](_0x12c412(145,"moFt"))!=_0x12c412(138,"2(v4"))throw window[_0x12c412(136,"F5*1")][_0x12c412(127,"k97l")](_0x12c412(132,"Kb3T")),Error();document.title="vue3 宏指令",document.getElementById("article").innerHTML="<div><p>Vue 3 引入了一些编译宏（Compile-time Macros），这些宏指令在代码编译阶段被处理，提供了一种更简洁的方式来编写和维护代码。以下是 Vue 3 中主要的宏指令及其用途：</p>\n<ol>\n<li><strong><code>defineProps</code></strong>  ：\n<ul>\n<li>用于声明组件的 props。</li>\n<li>示例：<code>const props = defineProps(['title', 'likes'])</code>。</li>\n<li>也可以与 TypeScript 结合使用，提供类型安全。</li>\n</ul>\n</li>\n<li><strong><code>defineEmits</code></strong>  ：\n<ul>\n<li>用于声明组件可能触发的事件。</li>\n<li>示例：<code>const emit = defineEmits(['change', 'delete'])</code>。</li>\n<li>同样支持 TypeScript 类型声明。</li>\n</ul>\n</li>\n<li><strong><code>defineExpose</code></strong>  ：\n<ul>\n<li>用于显式地指定哪些属性和方法可以被父组件访问。</li>\n<li>示例：<code>defineExpose({ method1, property1 })</code>。</li>\n</ul>\n</li>\n<li><strong><code>withDefaults</code></strong>  ：\n<ul>\n<li>用于为 <code>defineProps</code> 定义的 props 提供默认值。</li>\n<li>示例：<code>const props = withDefaults(defineProps&lt;Props&gt;(), { message: 'hello' })</code>。</li>\n</ul>\n</li>\n<li><strong><code>defineOptions</code></strong>  ：\n<ul>\n<li>用于定义组件选项，如 <code>name</code>、<code>inheritAttrs</code> 等。</li>\n<li>示例：<code>defineOptions({ name: 'MyComponent', inheritAttrs: false })</code>。</li>\n</ul>\n</li>\n<li><strong><code>defineSlots</code></strong>  ：\n<ul>\n<li>在使用 TypeScript 时为插槽定义类型。</li>\n<li>示例：<code>const slots = defineSlots&lt;{ default: (props: { item: string }) =&gt; any }&gt;()</code>。</li>\n</ul>\n</li>\n<li><strong><code>defineModel</code></strong>  （3.4+ 版本）：\n<ul>\n<li>用于简化 <code>v-model</code> 的使用。</li>\n<li>示例：<code>const model = defineModel&lt;string&gt;({ default: '' })</code>。</li>\n</ul>\n</li>\n</ol>\n<p>这些宏指令主要用在 <code>&lt;script setup&gt;</code> 语法中，它们提供了更简洁的语法和更好的类型推断，有助于减少样板代码，提高代码的可读性和维护性。需要注意的是，这些宏指令在编译阶段会被转换为高效的代码，并在最终生成的代码中可能不会被直接保留。</p>\n</div>"</script></body></html>