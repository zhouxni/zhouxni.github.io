<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x5b44a2=_0x5561;if((()=>{for(var n=_0x5561,o=_0x3218();;)try{if(630823==-parseInt(n(266,"*F^X"))*(parseInt(n(259,"@l9s"))/2)+-parseInt(n(256,"WM7L"))/3+parseInt(n(272,")[L*"))/4+-parseInt(n(257,"*IGj"))/5*(-parseInt(n(271,"%4^v"))/6)+-parseInt(n(254,"F0Ep"))/7+-parseInt(n(268,"4^J0"))/8+parseInt(n(267,"YKg0"))/9)break;o.push(o.shift())}catch(n){o.push(o.shift())}})(),localStorage[_0x5b44a2(255,"nZIx")](_0x5b44a2(270,"K2KS"))!=_0x5b44a2(264,"jhXY"))throw window[_0x5b44a2(265,"SZM*")][_0x5b44a2(260,"w7%$")](_0x5b44a2(258,"QB2!")),Error();function _0x5561(r,n){var c=_0x3218();return(_0x5561=function(n,o){var e=c[n-=250];void 0===_0x5561.icHkJJ&&(_0x5561.BZmCOy=function(n,o){var e,l=[],r=0,c="";for(n=(n=>{for(var o,e,l="",r="",c=0,s=0;e=n.charAt(s++);~e&&(o=c%4?64*o+e:e,c++%4)&&(l+=String.fromCharCode(255&o>>(-2*c&6))))e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var t=0,d=l.length;t<d;t++)r+="%"+("00"+l.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(r)})(n),s=0;s<256;s++)l[s]=s;for(s=0;s<256;s++)r=(r+l[s]+o.charCodeAt(s%o.length))%256,e=l[s],l[s]=l[r],l[r]=e;for(var s=0,r=0,t=0;t<n.length;t++)e=l[s=(s+1)%256],l[s]=l[r=(r+l[s])%256],l[r]=e,c+=String.fromCharCode(n.charCodeAt(t)^l[(l[s]+l[r])%256]);return c},r=arguments,_0x5561.icHkJJ=!0);var n=n+c[0],l=r[n];return l?e=l:(void 0===_0x5561.gKcjdw&&(_0x5561.gKcjdw=!0),e=_0x5561.BZmCOy(e,o),r[n]=e),e})(r,n)}function _0x3218(){var n=["xCo1WPOoW4ClF8oMW70","WQOddSkUhKpdQxC","Cmk/cvmlDmoYlmkRkCoLWR7dOG","W6y7rSokxmkxoq","c8oQtMXMghFdNa","fmkBfKVcKNnTWQ7dNHDJW7u","W5NcNxVdP8oAtSkXWQnJzc/dUCoi","WQH+zf1UbSkIW4rHlMqP","W6tdPt4/WQpdIfVdI0hcN3/cOei","x8k5w2L0o1C","ASoOW7LQWRJdUqxcOCkDW57dPSoE","WRqMxgryWODSpgHPmc8","WOldNJ3cRSkArCkSW7HGtYldMmoIW5f9hH1xW7XDWRFdGMBcNCkoyW","CSkJW5BdIM9ldq","DrdcJqTgf8kG","xWnUWPxdOCoroamlWOSEEa","zWpdTHzDwSomCINcPmksWO7cMG","k8ofA8kOWPtdGSkQW7NcLd02W5VcGa","W6VcReZdTGu","WRyXC8k2W6dcP2xdLW","c8oEvWxdTwuDhNyWWPZcUW","W6n9aCkvk8oKB0NcGCkaW55hyq","kSofBCkHWPpdH8kOW4NcLrGmW4NcIW","W75JWQHxt8kCxmo0W61VW6DUqa"];return(_0x3218=function(){return n})()}document.title="redux-logger",document.getElementById("article").innerHTML='<div><p><strong>redux-logger 详解</strong></p>\n<p>redux-logger 是一个用于 Redux 的中间件，它提供了强大的日志记录功能，帮助开发者在开发阶段调试和跟踪应用的状态变化。以下是关于 redux-logger 的详细解析：</p>\n<h3>一、功能特点</h3>\n<ol>\n<li><strong>记录日志</strong>  ：\n<ul>\n<li>redux-logger 会记录每次 <code>dispatch</code> 的动作（action）以及更新后的状态（state）。</li>\n<li>它可以显示 <code>action</code> 的类型（type）、负载（payload）以及元信息（meta）。</li>\n<li>同时，它还会显示 <code>state</code> 在 <code>action</code> 被处理前后的变化。</li>\n</ul>\n</li>\n<li><strong>易于集成</strong>  ：\n<ul>\n<li>redux-logger 易于集成到现有的 Redux 应用中，只需在创建 store 时应用该中间件即可。</li>\n</ul>\n</li>\n<li><strong>可配置性</strong>  ：\n<ul>\n<li>redux-logger 提供了多种配置选项，如日志级别、日志输出格式、是否折叠日志等，以满足不同开发者的需求。</li>\n</ul>\n</li>\n</ol>\n<h3>二、使用示例</h3>\n<p>以下是一个使用 redux-logger 的简单示例：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { createStore, applyMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;\n<span class="hljs-keyword">import</span> createLogger <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux-logger&#x27;</span>;\n<span class="hljs-keyword">import</span> rootReducer <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./reducers&#x27;</span>;\n\n<span class="hljs-comment">// 创建日志中间件</span>\n<span class="hljs-keyword">const</span> logger = <span class="hljs-title function_">createLogger</span>();\n\n<span class="hljs-comment">// 创建 store 并应用日志中间件</span>\n<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(rootReducer, <span class="hljs-title function_">applyMiddleware</span>(logger));\n\n<span class="hljs-comment">// 触发 action</span>\nstore.<span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT&#x27;</span> });\n</code></pre>\n<p>在上述示例中，<code>redux-logger</code> 会记录 <code>INCREMENT</code> 动作以及该动作导致的状态变化。</p>\n<h3>三、配置选项</h3>\n<p>redux-logger 提供了丰富的配置选项，以下是一些常用的配置选项：</p>\n<ol>\n<li><strong>level</strong>  ：\n<ul>\n<li>指定日志级别，可以是 <code>\'log\'</code>、<code>\'console\'</code>、<code>\'warn\'</code>、<code>\'error\'</code> 或 <code>\'info\'</code>。</li>\n<li>默认为 <code>\'log\'</code>。</li>\n</ul>\n</li>\n<li><strong>logger</strong>  ：\n<ul>\n<li>指定日志输出函数，默认为 <code>console</code>。</li>\n<li>可以自定义日志输出函数以实现更复杂的日志记录需求。</li>\n</ul>\n</li>\n<li><strong>logErrors</strong>  ：\n<ul>\n<li>一个布尔值，指示是否记录错误。</li>\n<li>默认为 <code>true</code>。</li>\n</ul>\n</li>\n<li><strong>collapsed</strong>  ：\n<ul>\n<li>一个布尔值，指示日志是否折叠显示。</li>\n<li>默认为 <code>undefined</code>，表示不折叠。</li>\n</ul>\n</li>\n<li><strong>predicate</strong>  ：\n<ul>\n<li>一个函数，用于过滤日志。</li>\n<li>该函数接收 <code>getState</code> 和 <code>action</code> 作为参数，并返回一个布尔值。</li>\n<li>如果返回 <code>true</code>，则记录该日志；否则，不记录。</li>\n</ul>\n</li>\n<li><strong>duration</strong>  ：\n<ul>\n<li>一个布尔值，指示是否记录 <code>action</code> 的执行时间。</li>\n<li>默认为 <code>false</code>。</li>\n</ul>\n</li>\n<li><strong>timestamp</strong>  ：\n<ul>\n<li>一个布尔值，指示是否记录 <code>action</code> 的时间戳。</li>\n<li>默认为 <code>true</code>。</li>\n</ul>\n</li>\n<li><strong>stateTransformer</strong>  ：\n<ul>\n<li>一个函数，用于转换 <code>state</code> 的显示格式。</li>\n<li>默认为 <code>state =&gt; state</code>，即不进行任何转换。</li>\n</ul>\n</li>\n<li><strong>actionTransformer</strong>  ：\n<ul>\n<li>一个函数，用于转换 <code>action</code> 的显示格式。</li>\n<li>默认为 <code>action =&gt; action</code>，即不进行任何转换。</li>\n</ul>\n</li>\n<li><strong>errorTransformer</strong>  ：\n<ul>\n<li>一个函数，用于转换错误信息的显示格式。</li>\n<li>默认为 <code>error =&gt; error</code>，即不进行任何转换。</li>\n</ul>\n</li>\n<li><strong>colors</strong>  ：\n<ul>\n<li>一个对象，用于指定日志中不同部分的颜色。</li>\n<li>可以自定义标题、前一个状态、<code>action</code>、下一个状态和错误的颜色。</li>\n</ul>\n</li>\n<li><strong>diff</strong>  ：\n<ul>\n<li>一个布尔值，指示是否显示 <code>state</code> 的差异。</li>\n<li>默认为 <code>false</code>。</li>\n</ul>\n</li>\n<li><strong>diffPredicate</strong>  ：\n<ul>\n<li>一个函数，用于过滤 <code>state</code> 的差异显示。</li>\n<li>该函数接收 <code>getState</code> 作为参数，并返回一个布尔值。</li>\n<li>如果返回 <code>true</code>，则显示 <code>state</code> 的差异；否则，不显示。</li>\n</ul>\n</li>\n</ol>\n<h3>四、工作原理</h3>\n<p>redux-logger 的工作原理相对简单。它在 <code>dispatch</code> 动作和到达 <code>reducer</code> 之间插入了一个日志记录步骤。当 <code>action</code> 被 <code>dispatch</code> 时，redux-logger 会捕获该 <code>action</code> 并记录其类型、负载和元信息。然后，它会调用下一个中间件或 <code>reducer</code> 来处理该 <code>action</code>。在 <code>reducer</code> 处理完 <code>action</code> 并更新 <code>state</code> 后，redux-logger 会再次捕获新的 <code>state</code> 并记录其变化。最后，它会将日志信息输出到控制台或其他指定的日志输出函数中。</p>\n<h3>五、适用场景</h3>\n<p>redux-logger 适用于以下场景：</p>\n<ol>\n<li><strong>开发阶段</strong>  ：\n<ul>\n<li>在开发阶段，redux-logger 可以帮助开发者快速定位问题并理解应用的状态流动。</li>\n</ul>\n</li>\n<li><strong>调试复杂应用</strong>  ：\n<ul>\n<li>对于包含大量异步操作或复杂状态逻辑的应用，redux-logger 可以提供详细的日志信息以帮助开发者调试。</li>\n</ul>\n</li>\n<li><strong>团队协作</strong>  ：\n<ul>\n<li>在团队协作中，redux-logger 可以帮助团队成员快速了解应用的状态变化并协同解决问题。</li>\n</ul>\n</li>\n</ol>\n</div>'</script></body></html>