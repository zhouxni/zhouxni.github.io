<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x42db25=_0x1d9e;if((()=>{for(var s=_0x1d9e,n=_0x5305();;)try{if(890087==-parseInt(s(127,"mJmP"))+parseInt(s(110,"3rKQ"))/2+-parseInt(s(112,"sp[M"))/3*(parseInt(s(111,"NQke"))/4)+parseInt(s(115,"51%z"))/5+-parseInt(s(107,"mSL%"))/6*(-parseInt(s(108,"^zK!"))/7)+-parseInt(s(128,"[VF1"))/8*(-parseInt(s(120,"[VF1"))/9)+-parseInt(s(102,"qjum"))/10*(parseInt(s(105,"t%6F"))/11))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x42db25(126,"qjum")](_0x42db25(103,"wgtC"))!=_0x42db25(114,"dLP]"))throw window[_0x42db25(101,"[VF1")][_0x42db25(123,"3jJB")](_0x42db25(118,"ieBx")),Error();function _0x1d9e(t,s){var p=_0x5305();return(_0x1d9e=function(s,n){var a=p[s-=101];void 0===_0x1d9e.fHSqXy&&(_0x1d9e.xuwunt=function(s,n){var a,l=[],t=0,p="";for(s=(s=>{for(var n,a,l="",t="",p=0,c=0;a=s.charAt(c++);~a&&(n=p%4?64*n+a:a,p++%4)&&(l+=String.fromCharCode(255&n>>(-2*p&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var e=0,o=l.length;e<o;e++)t+="%"+("00"+l.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)})(s),c=0;c<256;c++)l[c]=c;for(c=0;c<256;c++)t=(t+l[c]+n.charCodeAt(c%n.length))%256,a=l[c],l[c]=l[t],l[t]=a;for(var c=0,t=0,e=0;e<s.length;e++)a=l[c=(c+1)%256],l[c]=l[t=(t+l[c])%256],l[t]=a,p+=String.fromCharCode(s.charCodeAt(e)^l[(l[c]+l[t])%256]);return p},t=arguments,_0x1d9e.fHSqXy=!0);var s=s+p[0],l=t[s];return l?a=l:(void 0===_0x1d9e.ViYgLy&&(_0x1d9e.ViYgLy=!0),a=_0x1d9e.xuwunt(a,n),t[s]=a),a})(t,s)}function _0x5305(){var s=["ouhcUI1XxmkUCCk7","rZ/dMCoaWQqDWQxdOutdPbTpW40","WPaYpSkBcmktW57cI1zPrdlcQW","sSkiW4nle8kskg3dO0/cPcm","fCkPhdK8WOap","W5/cTrakEGi1tfZdQmkTWQ/cNG","WPGTlmkEjW","yrOmDbiZWOhcQYPvW4TwW4q","EtOlAmopW7lcUNG7ka","ymkRW6KvW7PSWQe","WO/dTfvkoW0VlLBdRSkmWRpcICo+mhVdQ1C/C8khW73dRSo1uCkc","tCkoW4Dhe8kEavBdTwhcKcK","qZ7dLmolWQ9pW6RdIM7dJcS","WOTixgOcu8o2ivG","tCkmW4jahmoae3xdNxxcLq","WRFcHfdcPSkLgqO","gmknvexdT2BcR2uZCJZdNua","WQb9WOJcQ8kqmSoLW5nWhG","WQDEW5RdJComDbu","WQb6WO/cR8oODmkkW6TipCkQe8ki","rZddLCobW6f0W4NdIM/dGW","gMFcGSkyW6jmW7ZdJq","W7icWPNcTCkbittcHW87WQZcHa","zblcMCofW75yWQZdTCoj","jwtdTSoFCmkvCSoXocfVWPG","sCokgCkcsmotoCkdssG","W5xcHHpcM8oQnLLopSoXWP7dVG","cmo9ECoNxuFdISohzCo7hrC"];return(_0x5305=function(){return s})()}document.title="react 都有哪些 hooks",document.getElementById("article").innerHTML='<div><p>React 提供了多种 Hooks，可分为内置 Hooks 和自定义 Hooks，下面为你详细介绍：</p>\n<h3>内置 Hooks</h3>\n<h4>基础 Hooks</h4>\n<ul>\n<li><strong><code>useState</code></strong>\n<ul>\n<li><strong>功能</strong>  ：在函数组件中添加状态。它返回一个状态值和更新该状态的函数。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">Counter</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;Increment<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n</code></pre>\n<ul>\n<li><strong><code>useEffect</code></strong>\n<ul>\n<li><strong>功能</strong>  ：处理副作用操作，像数据获取、订阅、手动修改 DOM 等。可以模拟类组件的生命周期方法。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">DataFetcher</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);\n    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {\n            <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;https://api.example.com/data&#x27;</span>);\n            <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();\n            <span class="hljs-title function_">setData</span>(result);\n        };\n        <span class="hljs-title function_">fetchData</span>();\n    }, []);\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data? data.message : &#x27;Loading...&#x27;}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n};\n</code></pre>\n<ul>\n<li><strong><code>useContext</code></strong>\n<ul>\n<li><strong>功能</strong>  ：在组件树中共享数据，避免通过 <code>props</code> 层层传递。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { createContext, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">ThemeContext</span> = <span class="hljs-title function_">createContext</span>(<span class="hljs-string">&#x27;light&#x27;</span>);\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">ThemedButton</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> theme = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">ThemeContext</span>);\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">theme</span> === <span class="hljs-string">&#x27;light&#x27;</span>? &#x27;<span class="hljs-attr">white</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">black</span>&#x27;, <span class="hljs-attr">color:</span> <span class="hljs-attr">theme</span> === <span class="hljs-string">&#x27;light&#x27;</span>? &#x27;<span class="hljs-attr">black</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; }}&gt;</span>Themed Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;dark&quot;</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">ThemedButton</span> /&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span>\n    );\n};\n</code></pre>\n<h4>额外 Hooks</h4>\n<ul>\n<li><strong><code>useReducer</code></strong>\n<ul>\n<li><strong>功能</strong>  ：<code>useState</code> 的替代方案，适用于复杂的状态逻辑，尤其是状态是对象且更新逻辑复杂的情况。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useReducer } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> initialState = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state, action</span>) =&gt; {\n    <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {\n        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;increment&#x27;</span>:\n            <span class="hljs-keyword">return</span> { <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> };\n        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;decrement&#x27;</span>:\n            <span class="hljs-keyword">return</span> { <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span> };\n        <span class="hljs-attr">default</span>:\n            <span class="hljs-keyword">return</span> state;\n    }\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">CounterWithReducer</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> [state, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, initialState);\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {state.count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch({ type: &#x27;increment&#x27; })}&gt;Increment<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch({ type: &#x27;decrement&#x27; })}&gt;Decrement<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n</code></pre>\n<ul>\n<li><strong><code>useCallback</code></strong>\n<ul>\n<li><strong>功能</strong>  ：返回一个记忆化的回调函数，依赖项不变时，多次调用返回同一函数实例，用于优化子组件性能。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Button clicked&#x27;</span>);\n    }, []);\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span> /&gt;</span></span>;\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">Child</span> = (<span class="hljs-params">{ onClick }</span>) =&gt; {\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;\n};\n</code></pre>\n<ul>\n<li><strong><code>useMemo</code></strong>\n<ul>\n<li><strong>功能</strong>  ：返回一个记忆化的值，依赖项变化时才重新计算，用于优化计算密集型操作。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">ExpensiveComponent</span> = (<span class="hljs-params">{ a, b }</span>) =&gt; {\n    <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;\n        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {\n            sum += a + b;\n        }\n        <span class="hljs-keyword">return</span> sum;\n    }, [a, b]);\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Result: {result}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n};\n</code></pre>\n<ul>\n<li><strong><code>useRef</code></strong>\n<ul>\n<li><strong>功能</strong>  ：返回可变的 <code>ref</code> 对象，<code>.current</code> 属性初始化为传入参数，可用于访问 DOM 元素或在多次渲染间保存变量。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">InputWithFocus</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);\n    <span class="hljs-keyword">const</span> <span class="hljs-title function_">focusInput</span> = (<span class="hljs-params"></span>) =&gt; {\n        inputRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>();\n    };\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{focusInput}</span>&gt;</span>Focus Input<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n</code></pre>\n<ul>\n<li><strong><code>useImperativeHandle</code></strong>\n<ul>\n<li><strong>功能</strong>  ：自定义使用 <code>ref</code> 时向父组件暴露的实例值，通常与 <code>forwardRef</code> 一起使用。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef, useImperativeHandle, forwardRef } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomInput</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props, ref</span>) =&gt;</span> {\n    <span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>();\n    <span class="hljs-title function_">useImperativeHandle</span>(ref, <span class="hljs-function">() =&gt;</span> ({\n        <span class="hljs-attr">focus</span>: <span class="hljs-function">() =&gt;</span> {\n            inputRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>();\n        }\n    }));\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span> {<span class="hljs-attr">...props</span>} /&gt;</span></span>;\n});\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">ParentComponent</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> customInputRef = <span class="hljs-title function_">useRef</span>();\n    <span class="hljs-keyword">const</span> <span class="hljs-title function_">focusCustomInput</span> = (<span class="hljs-params"></span>) =&gt; {\n        customInputRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>();\n    };\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">CustomInput</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{customInputRef}</span> /&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{focusCustomInput}</span>&gt;</span>Focus Custom Input<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n</code></pre>\n<ul>\n<li><strong><code>useLayoutEffect</code></strong>\n<ul>\n<li><strong>功能</strong>  ：与 <code>useEffect</code> 类似，但会在DOM 更新后，浏览器执行绘制之前同步执行，常用于需要测量 DOM 的场景。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useLayoutEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">MeasureLayout</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> ref = <span class="hljs-title function_">useRef</span>();\n    <span class="hljs-title function_">useLayoutEffect</span>(<span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-keyword">const</span> { width, height } = ref.<span class="hljs-property">current</span>.<span class="hljs-title function_">getBoundingClientRect</span>();\n        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Element width: <span class="hljs-subst">${width}</span>, height: <span class="hljs-subst">${height}</span>`</span>);\n    }, []);\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{ref}</span>&gt;</span>Measure me<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n};\n</code></pre>\n<ul>\n<li><strong><code>useDebugValue</code></strong>\n<ul>\n<li><strong>功能</strong>  ：用于在 React 开发者工具中显示自定义 Hook 的标签，帮助调试。</li>\n<li><strong>示例</strong>  ：</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useDebugValue, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">useCustomCounter</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);\n    <span class="hljs-title function_">useDebugValue</span>(count &gt; <span class="hljs-number">10</span>? <span class="hljs-string">&#x27;High&#x27;</span> : <span class="hljs-string">&#x27;Low&#x27;</span>);\n    <span class="hljs-keyword">return</span> { count, <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>) };\n};\n</code></pre>\n<h3>自定义 Hooks</h3>\n<p>自定义 Hooks 是开发者根据需求封装的 Hook，用于复用状态逻辑。例如，封装一个用于处理表单输入的 Hook：</p>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">useInput</span> = (<span class="hljs-params">initialValue</span>) =&gt; {\n    <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(initialValue);\n    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> = (<span class="hljs-params">e</span>) =&gt; {\n        <span class="hljs-title function_">setValue</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);\n    };\n    <span class="hljs-keyword">return</span> {\n        value,\n        <span class="hljs-attr">onChange</span>: handleChange\n    };\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">Form</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> nameInput = <span class="hljs-title function_">useInput</span>(<span class="hljs-string">&#x27;&#x27;</span>);\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> {<span class="hljs-attr">...nameInput</span>} <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;Name&quot;</span> /&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>\n    );\n};\n</code></pre>\n<p>以上这些 Hooks 极大地增强了 React 函数组件的能力，让开发者可以更灵活、高效地编写组件。</p>\n</div>'</script></body></html>