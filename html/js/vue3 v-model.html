<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x4574(){var s=["nmo+W7ldGslcICoxW75WiKRcQa","W4WTqLldTSkbWPaHWPe","bbuvWPeSWPCCWPJdHa","WOzvWO/dMGGJnxxdR2FcLW","W7j0CwT4yKW3nSoW","DSk8qmkAWOLzwW0Tx8oSx2e","gb0xyXjNW6VcLCoYWRZdRvCCexeiW4lcQrBcNCkhWO4uW7b3zq","W7dcMYGGW6LNW7/dMtW","W78mq3ZdVINdT8oQW6ZcUK3cHmk8","BxVdIINdOSobf0pcJCo5W7xcJCk1","x0r0WPZcHb/cO8oK","aSkIcMZdOa","BMxcL8kQomo6WQhdPCoOW4KwAXO","tSkKvw0HW6yPW6nznuGHCq","oJtdLCouESkTW7K","W5TRp8kIcSkfqq0K","FIRcSupcP0RcQNXB","q8oNscBdUd/cSSkwxSoG","W70nrIVcHwtcImo8W6u","rmkZvmo2WPa0tWBdIW","arayWOCKWRydWQ/dVW","W44QrGldLCkgWOK7WR3cIa","pCo4W7pdIchdVCo4W7XBbhK","W6r7aSk6W654WRu","W4BcImktWQpdT8ksmKDcBSkL","W73dMmoCWPlcRsf2WQ1NWPbzWOG","WQLsWOVcUZqOkmohWOq","WQ7dOxKTW67dL03cKCohWRK","WQvZW5hcOJbyxmo3WP06dW","WO3cPh/cV8krcSolW4jxW5SLW598"];return(_0x4574=function(){return s})()}var _0x522317=_0x5d93;function _0x5d93(l,s){var e=_0x4574();return(_0x5d93=function(s,a){var n=e[s-=159];void 0===_0x5d93.gUBsFD&&(_0x5d93.YEVezN=function(s,a){var n,t=[],l=0,e="";for(s=(s=>{for(var a,n,t="",l="",e=0,p=0;n=s.charAt(p++);~n&&(a=e%4?64*a+n:n,e++%4)&&(t+=String.fromCharCode(255&a>>(-2*e&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,o=t.length;c<o;c++)l+="%"+("00"+t.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(l)})(s),p=0;p<256;p++)t[p]=p;for(p=0;p<256;p++)l=(l+t[p]+a.charCodeAt(p%a.length))%256,n=t[p],t[p]=t[l],t[l]=n;for(var p=0,l=0,c=0;c<s.length;c++)n=t[p=(p+1)%256],t[p]=t[l=(l+t[p])%256],t[l]=n,e+=String.fromCharCode(s.charCodeAt(c)^t[(t[p]+t[l])%256]);return e},l=arguments,_0x5d93.gUBsFD=!0);var s=s+e[0],t=l[s];return t?n=t:(void 0===_0x5d93.fvNxVz&&(_0x5d93.fvNxVz=!0),n=_0x5d93.YEVezN(n,a),l[s]=n),n})(l,s)}if((()=>{for(var s=_0x5d93,a=_0x4574();;)try{if(634107==+parseInt(s(168,"DgRR"))*(parseInt(s(178,"WWz0"))/2)+-parseInt(s(177,"H5KA"))/3*(-parseInt(s(179,"YS]@"))/4)+parseInt(s(175,"HR%8"))/5*(-parseInt(s(170,"oG94"))/6)+-parseInt(s(186,"mVvN"))/7+-parseInt(s(164,"!Cm)"))/8+-parseInt(s(181,"zcFq"))/9*(parseInt(s(169,"Z0Bk"))/10)+parseInt(s(166,"lHC9"))/11*(parseInt(s(159,"Z0Bk"))/12))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x522317(165,"&2ef")](_0x522317(188,"K*CM"))!=_0x522317(162,"DgRR"))throw window[_0x522317(161,"Huba")][_0x522317(174,"et0%")](_0x522317(187,"Hl9d")),new Error;document.title="vue3 v-model",document.getElementById("article").innerHTML='<div><p>åœ¨ Vue 3 ä¸­ï¼Œ<code>v-model</code> çš„è®¾è®¡ç›¸æ¯” Vue 2 æ›´åŠ <strong>çµæ´»ã€å¼ºå¤§ä¸”è¯­ä¹‰æ¸…æ™°</strong>   ã€‚å®ƒä¸ä»…ä¿ç•™äº†å¯¹åŸç”Ÿè¡¨å•å…ƒç´ çš„åŒå‘ç»‘å®šèƒ½åŠ›ï¼Œè¿˜å¤§å¹…å¢å¼ºäº†åœ¨<strong>è‡ªå®šä¹‰ç»„ä»¶</strong>   ä¸­çš„ä½¿ç”¨ä½“éªŒï¼Œæ”¯æŒ<strong>å¤šå±æ€§åŒå‘ç»‘å®š</strong>   ã€<strong>è‡ªå®šä¹‰ä¿®é¥°ç¬¦</strong>   ï¼Œå¹¶æ·±åº¦é›†æˆ Composition APIï¼ˆå¦‚ <code>&lt;script setup&gt;</code> å’Œ <code>defineModel</code>ï¼‰ã€‚</p>\n<p>ä¸‹é¢ä»å¤šä¸ªç»´åº¦è¯¦ç»†è§£æ Vue 3 ä¸­ <code>v-model</code> çš„ç”¨æ³•ã€åŸç†ä¸æœ€ä½³å®è·µã€‚</p>\n<hr>\n<h2>ä¸€ã€åŸºæœ¬åŸç†ï¼š<code>v-model</code> æ˜¯è¯­æ³•ç³–</h2>\n<p>æ— è®º Vue 2 è¿˜æ˜¯ Vue 3ï¼Œ<code>v-model</code> æœ¬è´¨éƒ½æ˜¯è¯­æ³•ç³–ï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span> /&gt;</span>\n</code></pre>\n<p>ç­‰ä»·äºï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;message&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;message = $event.target.value&quot;</span> /&gt;</span>\n</code></pre>\n<p>ä½†åœ¨ <strong>è‡ªå®šä¹‰ç»„ä»¶</strong>   ä¸­ï¼ŒVue 3 æ”¹å˜äº†é»˜è®¤çš„ prop å’Œäº‹ä»¶åã€‚</p>\n<hr>\n<h2>äºŒã€åœ¨åŸç”Ÿè¡¨å•å…ƒç´ ä¸­çš„ä½¿ç”¨ï¼ˆä¸ Vue 2 ä¸€è‡´ï¼‰</h2>\n<p>Vue 3 å¯¹ <code>&lt;input&gt;</code>ã€<code>&lt;textarea&gt;</code>ã€<code>&lt;select&gt;</code> ç­‰åŸç”Ÿå…ƒç´ çš„ <code>v-model</code> è¡Œä¸º<strong>å®Œå…¨å…¼å®¹ Vue 2</strong>   ï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;desc&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;city&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;bj&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sh&quot;</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;\n  <span class="hljs-keyword">const</span> text = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;&quot;</span>);\n  <span class="hljs-keyword">const</span> desc = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;&quot;</span>);\n  <span class="hljs-keyword">const</span> city = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;bj&quot;</span>);\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h3>âœ… æ”¯æŒçš„ä¿®é¥°ç¬¦ï¼ˆä¸ Vue 2 ç›¸åŒï¼‰ï¼š</h3>\n<ul>\n<li><code>.lazy</code>ï¼šæ”¹ç”¨ <code>change</code> äº‹ä»¶è€Œé <code>input</code></li>\n<li><code>.number</code>ï¼šè‡ªåŠ¨è½¬ä¸º <code>Number</code></li>\n<li><code>.trim</code>ï¼šè‡ªåŠ¨å»é™¤é¦–å°¾ç©ºæ ¼</li>\n</ul>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.lazy.trim.number</span>=<span class="hljs-string">&quot;age&quot;</span> /&gt;</span>\n</code></pre>\n<blockquote>\n<p>âš ï¸ æ³¨æ„ï¼šè¿™äº›ä¿®é¥°ç¬¦<strong>ä»…å¯¹åŸç”Ÿè¡¨å•å…ƒç´ ç”Ÿæ•ˆ</strong>   ï¼Œåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ä¸ä¼šè‡ªåŠ¨å¤„ç†ï¼ˆéœ€æ‰‹åŠ¨å®ç°ï¼‰ã€‚</p>\n</blockquote>\n<hr>\n<h2>ä¸‰ã€åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ä½¿ç”¨ <code>v-model</code>ï¼ˆæ ¸å¿ƒæ”¹è¿›ï¼‰</h2>\n<h3>1. é»˜è®¤çº¦å®šï¼ˆVue 3 æ–°è§„èŒƒï¼‰</h3>\n<p>Vue 3 <strong>ä¸å†ä½¿ç”¨ <code>value</code> / <code>input</code></strong>   ï¼Œè€Œæ˜¯é‡‡ç”¨æ›´è¯­ä¹‰åŒ–çš„å‘½åï¼š</p>\n<table>\n<thead>\n<tr>\n<th>é¡¹ç›®</th>\n<th>Vue 2</th>\n<th>Vue 3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Prop å</td>\n<td><code>value</code></td>\n<td><code>modelValue</code></td>\n</tr>\n<tr>\n<td>äº‹ä»¶å</td>\n<td><code>input</code></td>\n<td><code>update:modelValue</code></td>\n</tr>\n</tbody>\n</table>\n<h4>ç¤ºä¾‹ï¼šåŸºç¡€è‡ªå®šä¹‰è¾“å…¥æ¡†</h4>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- MyInput.vue --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>\n    <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;modelValue&quot;</span>\n    @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;$emit(&#x27;update:modelValue&#x27;, $event.target.value)&quot;</span>\n  /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-comment">// å£°æ˜æ¥æ”¶çš„ prop</span>\n  <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">&quot;modelValue&quot;</span>]);\n  <span class="hljs-comment">// å£°æ˜è§¦å‘çš„äº‹ä»¶ï¼ˆæ¨èæ˜¾å¼å£°æ˜ï¼‰</span>\n  <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&quot;update:modelValue&quot;</span>]);\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<p>çˆ¶ç»„ä»¶ä½¿ç”¨ï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">MyInput</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;searchText&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;\n  <span class="hljs-keyword">const</span> searchText = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;&quot;</span>);\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<blockquote>\n<p>ç­‰ä»·äºï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">MyInput</span> <span class="hljs-attr">:modelValue</span>=<span class="hljs-string">&quot;searchText&quot;</span> @<span class="hljs-attr">update:modelValue</span>=<span class="hljs-string">&quot;searchText = $event&quot;</span> /&gt;</span>\n</code></pre>\n</blockquote>\n<hr>\n<h3>2. å¤š <code>v-model</code> ç»‘å®šï¼ˆVue 3 ç‹¬æœ‰ç‰¹æ€§ï¼‰</h3>\n<p>Vue 3 å…è®¸ä¸€ä¸ªç»„ä»¶åŒæ—¶æ”¯æŒ<strong>å¤šä¸ªåŒå‘ç»‘å®šå±æ€§</strong>   ï¼Œé€šè¿‡ <code>v-model:propName</code> è¯­æ³•å®ç°ã€‚</p>\n<h4>ç¤ºä¾‹ï¼šç”¨æˆ·ä¿¡æ¯ç¼–è¾‘å™¨</h4>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- UserInfo.vue --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>\n      <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;firstName&quot;</span>\n      @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;$emit(&#x27;update:firstName&#x27;, $event.target.value)&quot;</span>\n    /&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>\n      <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;lastName&quot;</span>\n      @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;$emit(&#x27;update:lastName&#x27;, $event.target.value)&quot;</span>\n    /&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">&quot;firstName&quot;</span>, <span class="hljs-string">&quot;lastName&quot;</span>]);\n  <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&quot;update:firstName&quot;</span>, <span class="hljs-string">&quot;update:lastName&quot;</span>]);\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<p>çˆ¶ç»„ä»¶ä½¿ç”¨ï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> <span class="hljs-attr">v-model:first-name</span>=<span class="hljs-string">&quot;user.first&quot;</span> <span class="hljs-attr">v-model:last-name</span>=<span class="hljs-string">&quot;user.last&quot;</span> /&gt;</span>\n</code></pre>\n<blockquote>\n<p>ğŸ’¡ æ³¨æ„ï¼šprop åä½¿ç”¨<strong>é©¼å³°å‘½å</strong>   ï¼ˆ<code>firstName</code>ï¼‰ï¼Œä½†åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨<strong>kebab-case</strong>   ï¼ˆ<code>first-name</code>ï¼‰ï¼Œè¿™æ˜¯ Vue çš„é€šç”¨è§„åˆ™ã€‚</p>\n</blockquote>\n<hr>\n<h3>3. è‡ªå®šä¹‰ä¿®é¥°ç¬¦ï¼ˆé«˜çº§ç”¨æ³•ï¼‰</h3>\n<p>Vue 3 æ”¯æŒåœ¨ <code>v-model</code> ä¸Šä½¿ç”¨è‡ªå®šä¹‰ä¿®é¥°ç¬¦ï¼Œä¾‹å¦‚ï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">CustomInput</span> <span class="hljs-attr">v-model.capitalize</span>=<span class="hljs-string">&quot;text&quot;</span> /&gt;</span>\n</code></pre>\n<h4>å®ç°æ–¹å¼ï¼ˆé€šè¿‡ <code>$attrs.modelModifiers</code>ï¼‰ï¼š</h4>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- CustomInput.vue --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;modelValue&quot;</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">&quot;handleInput&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">&quot;modelValue&quot;</span>]);\n  <span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&quot;update:modelValue&quot;</span>]);\n\n  <span class="hljs-comment">// è·å–ä¿®é¥°ç¬¦å¯¹è±¡</span>\n  <span class="hljs-keyword">const</span> modifiers = <span class="hljs-title function_">useAttrs</span>().<span class="hljs-property">modelModifiers</span> || {};\n\n  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleInput</span>(<span class="hljs-params">e</span>) {\n    <span class="hljs-keyword">let</span> value = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;\n    <span class="hljs-keyword">if</span> (modifiers.<span class="hljs-property">capitalize</span>) {\n      value = value.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toUpperCase</span>() + value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>);\n    }\n    <span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;update:modelValue&quot;</span>, value);\n  }\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<blockquote>\n<p>âš ï¸ æ³¨æ„ï¼š<code>useAttrs()</code> éœ€è¦ä» <code>vue</code> å¯¼å…¥ï¼Œä¸”ä¿®é¥°ç¬¦å¯¹è±¡åä¸º <code>modelModifiers</code>ã€‚</p>\n</blockquote>\n<hr>\n<h2>å››ã€Composition API ä¸ <code>&lt;script setup&gt;</code> æœ€ä½³å®è·µ</h2>\n<h3>1. æ‰‹åŠ¨å£°æ˜ï¼ˆæ ‡å‡†å†™æ³•ï¼‰</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({\n    <span class="hljs-attr">modelValue</span>: <span class="hljs-title class_">String</span>,\n  });\n  <span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&quot;update:modelValue&quot;</span>]);\n\n  <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">value</span>) {\n    <span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;update:modelValue&quot;</span>, value);\n  }\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h3>2. ä½¿ç”¨ <code>defineModel()</code>ï¼ˆVue 3.4+ æ¨èï¼‰</h3>\n<p>ä» Vue 3.4 å¼€å§‹ï¼Œå¼•å…¥äº† <code>defineModel()</code> å®ï¼Œ<strong>æå¤§ç®€åŒ–åŒå‘ç»‘å®šä»£ç </strong>   ï¼š</p>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- MyInput.vue (Vue 3.4+) --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">const</span> model = <span class="hljs-title function_">defineModel</span>();\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;model&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n</code></pre>\n<blockquote>\n<p>âœ… <code>defineModel()</code> è‡ªåŠ¨ï¼š</p>\n<ul>\n<li>åˆ›å»ºåä¸º <code>modelValue</code> çš„ prop</li>\n<li>å£°æ˜ <code>update:modelValue</code> äº‹ä»¶</li>\n<li>è¿”å›ä¸€ä¸ªå¯è¯»å†™çš„ refï¼ˆåŒå‘ç»‘å®šï¼‰</li>\n</ul>\n</blockquote>\n<h4>æ”¯æŒç±»å‹å’Œé»˜è®¤å€¼ï¼š</h4>\n<pre><code class="language-js"><span class="hljs-keyword">const</span> model = <span class="hljs-title function_">defineModel</span>({\n  <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,\n  <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,\n  <span class="hljs-attr">default</span>: <span class="hljs-string">&quot;&quot;</span>,\n});\n</code></pre>\n<h4>å¤šæ¨¡å‹ç»‘å®šï¼ˆVue 3.5+ å®éªŒæ€§ï¼‰ï¼š</h4>\n<blockquote>\n<p>ç›®å‰ <code>defineModel</code> ä¸»è¦ç”¨äºå•æ¨¡å‹ï¼Œå¤šæ¨¡å‹ä»éœ€æ‰‹åŠ¨å¤„ç†ã€‚</p>\n</blockquote>\n<hr>\n<h2>äº”ã€è¿ç§»æ³¨æ„äº‹é¡¹ï¼ˆä» Vue 2 å‡çº§ï¼‰</h2>\n<table>\n<thead>\n<tr>\n<th>Vue 2 å†™æ³•</th>\n<th>Vue 3 æ›¿ä»£æ–¹æ¡ˆ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>props: [\'value\']</code></td>\n<td><code>props: [\'modelValue\']</code></td>\n</tr>\n<tr>\n<td><code>$emit(\'input\', val)</code></td>\n<td><code>$emit(\'update:modelValue\', val)</code></td>\n</tr>\n<tr>\n<td><code>v-model</code> åªèƒ½ä¸€ä¸ª</td>\n<td>å¯ä½¿ç”¨ <code>v-model:xxx</code> å¤šä¸ª</td>\n</tr>\n<tr>\n<td>æ— å†…ç½®å¤šç»‘å®š</td>\n<td>æ”¯æŒå¤š <code>v-model</code></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>ğŸ” å¦‚æœéœ€è¦å…¼å®¹ Vue 2/3 æ··åˆé¡¹ç›®ï¼Œå»ºè®®é¿å…ä½¿ç”¨ Vue 3 ç‰¹æœ‰è¯­æ³•ã€‚</p>\n</blockquote>\n<hr>\n<h2>å…­ã€å¸¸è§é—®é¢˜ FAQ</h2>\n<h3>Q1ï¼šä¸ºä»€ä¹ˆæˆ‘çš„ <code>v-model</code> åœ¨å­ç»„ä»¶ä¸­ä¸æ›´æ–°ï¼Ÿ</h3>\n<ul>\n<li>æ£€æŸ¥æ˜¯å¦æ­£ç¡® emit äº† <code>update:modelValue</code></li>\n<li>ç¡®ä¿çˆ¶ç»„ä»¶ç»‘å®šçš„æ˜¯ <strong>ref æˆ–å“åº”å¼å¯¹è±¡å±æ€§</strong></li>\n</ul>\n<h3>Q2ï¼šå¦‚ä½•åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­æ”¯æŒ <code>.trim</code> ä¿®é¥°ç¬¦ï¼Ÿ</h3>\n<ul>\n<li>åŸç”Ÿä¿®é¥°ç¬¦<strong>ä¸ä¼šè‡ªåŠ¨ç”Ÿæ•ˆ</strong>   ï¼Œéœ€æ‰‹åŠ¨ä» <code>$attrs.modelModifiers</code> è¯»å–å¹¶å¤„ç†ã€‚</li>\n</ul>\n<h3>Q3ï¼š<code>defineModel()</code> æ˜¯å¦ç¨³å®šï¼Ÿ</h3>\n<ul>\n<li>Vue 3.4+ å·²æ­£å¼æ”¯æŒï¼Œæ¨èæ–°é¡¹ç›®ä½¿ç”¨ã€‚</li>\n<li>æ—§ç‰ˆæœ¬ï¼ˆ&lt;3.4ï¼‰éœ€æ‰‹åŠ¨å£°æ˜ prop å’Œ emitã€‚</li>\n</ul>\n<hr>\n<h2>ä¸ƒã€æ€»ç»“</h2>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>Vue 3 è¡¨ç°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>é»˜è®¤ prop/event</td>\n<td><code>modelValue</code> / <code>update:modelValue</code></td>\n</tr>\n<tr>\n<td>å¤šåŒå‘ç»‘å®š</td>\n<td>âœ… æ”¯æŒ <code>v-model:prop</code></td>\n</tr>\n<tr>\n<td>è‡ªå®šä¹‰ä¿®é¥°ç¬¦</td>\n<td>âœ… é€šè¿‡ <code>modelModifiers</code> å®ç°</td>\n</tr>\n<tr>\n<td>Composition API</td>\n<td>âœ… æ·±åº¦é›†æˆ <code>&lt;script setup&gt;</code></td>\n</tr>\n<tr>\n<td>ç®€åŒ–å†™æ³•</td>\n<td>âœ… <code>defineModel()</code>ï¼ˆ3.4+ï¼‰</td>\n</tr>\n<tr>\n<td>åŸç”Ÿè¡¨å•æ”¯æŒ</td>\n<td>âœ… å®Œå…¨å…¼å®¹ Vue 2</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<p>é€šè¿‡åˆç†ä½¿ç”¨ Vue 3 çš„ <code>v-model</code>ï¼Œä½ å¯ä»¥æ„å»ºå‡º<strong>æ›´æ¸…æ™°ã€æ›´çµæ´»ã€æ›´å¯ç»´æŠ¤</strong>   çš„ç»„ä»¶æ¥å£ã€‚å°¤å…¶åœ¨è¡¨å•ç±»ç»„ä»¶ã€å¼¹çª—ã€å¤æ‚é…ç½®é¢æ¿ç­‰åœºæ™¯ä¸­ï¼Œå¤š <code>v-model</code> èƒ½æ˜¾è‘—æå‡å¼€å‘ä½“éªŒã€‚</p>\n<p>å¦‚éœ€è¿›ä¸€æ­¥æ¢è®¨ <code>defineModel</code>ã€å¼‚æ­¥éªŒè¯ã€æˆ–ä¸ Pinia é›†æˆç­‰è¿›é˜¶ç”¨æ³•ï¼Œæ¬¢è¿ç»§ç»­æé—®ï¼</p>\n</div>'</script></body></html>