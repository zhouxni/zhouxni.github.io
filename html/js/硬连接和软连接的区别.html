<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x5ef298=_0x47e6;function _0x291a(){var n=["W4SiWRiiWQDxWPWsrxPXWPC","kSokhCoHWQJcJ2y","WRCPW4xcRt/cJNXnWOyEpCoa","x8oKW4hcNaX7W6i","WPNcP0VdN8otWODrWQKxuWPXqW","WR/dS2KGW7PknJ54W6VcLqCT","DCozoSoSWRJcI2a","FtuLWOjqW5NdUW","WOjDhJ7cJmk/WPCb","mYVdTGKMW5xdUmoRWQu","r0RcUSk6aCoqgSkerGZdHXO","WOC4WQlcHSoah2Wk","WPG8WQpdGCoaW7pcUmoGWPtdNJD4","WOWEorpcJCk/WPy","jXaHWRLlWQJcHmoeWRZcM8kDW43cUGFcMCkdktBdOmoYWRJcOMxdM8oZW6i","W7umqSkbW685W77dV2esWOFdMga","dSkuWOHwW43cPCkYDCkzW7BcN3pdOW","W5rnbSoUjmonp8kKWQNcP8k5wq","xNW0nSo+WOzRoSoak1Te","WPenrCkUAq","WPeIW4CSwSkHEmoz","WOZdMcbMzIFdUhb7W7RcLmkuWPa","W4ZdP0RdR8oXodm3AmkaW6uoW58","rhJcPf9KWPFdPCo9WOxdKaxdUG","F8kxwmkrW63dMNldJmkxW4m9W6e","s8kZW47cSmkEAfm"];return(_0x291a=function(){return n})()}function _0x47e6(o,n){var s=_0x291a();return(_0x47e6=function(n,t){var l=s[n-=238];void 0===_0x47e6.CbYvry&&(_0x47e6.NohQdo=function(n,t){var l,r=[],o=0,s="";for(n=(n=>{for(var t,l,r="",o="",s=0,i=0;l=n.charAt(i++);~l&&(t=s%4?64*t+l:l,s++%4)&&(r+=String.fromCharCode(255&t>>(-2*s&6))))l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(l);for(var a=0,d=r.length;a<d;a++)o+="%"+("00"+r.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(o)})(n),i=0;i<256;i++)r[i]=i;for(i=0;i<256;i++)o=(o+r[i]+t.charCodeAt(i%t.length))%256,l=r[i],r[i]=r[o],r[o]=l;for(var i=0,o=0,a=0;a<n.length;a++)l=r[i=(i+1)%256],r[i]=r[o=(o+r[i])%256],r[o]=l,s+=String.fromCharCode(n.charCodeAt(a)^r[(r[i]+r[o])%256]);return s},o=arguments,_0x47e6.CbYvry=!0);var n=n+s[0],r=o[n];return r?l=r:(void 0===_0x47e6.cqTopj&&(_0x47e6.cqTopj=!0),l=_0x47e6.NohQdo(l,t),o[n]=l),l})(o,n)}if((()=>{for(var n=_0x47e6,t=_0x291a();;)try{if(317176==-parseInt(n(262,"F6D1"))+-parseInt(n(252,"7^nf"))/2*(parseInt(n(247,"D8Uj"))/3)+-parseInt(n(240,"eOh#"))/4+parseInt(n(253,"x[RF"))/5*(parseInt(n(243,"TE7Z"))/6)+parseInt(n(261,"Ro]!"))/7+-parseInt(n(258,"x[RF"))/8*(-parseInt(n(255,"s6$e"))/9)+parseInt(n(241,"v#JM"))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}})(),localStorage[_0x5ef298(246,"TE7Z")](_0x5ef298(254,"[*XO"))!=_0x5ef298(238,"F6D1"))throw window[_0x5ef298(256,"@3p0")][_0x5ef298(244,"K4v$")](_0x5ef298(259,"7^nf")),Error();document.title="硬连接和软连接的区别",document.getElementById("article").innerHTML='<div><p><strong>硬链接（Hard Link）和软链接（Soft Link，又称符号链接 Symbolic Link）的区别</strong></p>\n<p>硬链接和软链接是文件系统中用于创建文件引用的两种机制，它们在工作原理、使用场景和特性上有所不同。以下是两者的详细比较：</p>\n<hr>\n<h3><strong>1. 定义与基本概念</strong></h3>\n<ul>\n<li><strong>硬链接（Hard Link）</strong>  ：\n<ul>\n<li>硬链接是文件系统中的一种数据实体，它直接指向硬盘上的数据块。</li>\n<li>硬链接与原文件共享相同的 inode（索引节点），因此它们实际上是同一个文件的多个入口。</li>\n</ul>\n</li>\n<li><strong>软链接（Soft Link，符号链接 Symbolic Link）</strong>  ：\n<ul>\n<li>软链接是一个特殊的文件，它包含指向目标文件或目录的路径（可以是绝对路径或相对路径）。</li>\n<li>软链接类似于 Windows 系统中的快捷方式，它指向目标文件或目录，但本身并不包含文件数据。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>2. 工作原理</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：\n<ul>\n<li>硬链接与原文件共享相同的 inode，因此它们指向硬盘上的同一数据块。</li>\n<li>删除硬链接或原文件不会影响文件的实际数据，只有当所有硬链接和原文件都被删除时，文件数据才会被真正删除。</li>\n</ul>\n</li>\n<li><strong>软链接</strong>  ：\n<ul>\n<li>软链接是一个独立的文件，它包含指向目标文件或目录的路径。</li>\n<li>当访问软链接时，系统会根据链接中的路径找到目标文件或目录。</li>\n<li>如果目标文件或目录被删除，软链接将失效（称为“断链”）。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>3. 目录支持</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：\n<ul>\n<li>硬链接不能指向目录（在某些 Unix-like 系统中，创建目录的硬链接会导致文件系统错误）。</li>\n<li>硬链接只能用于常规文件。</li>\n</ul>\n</li>\n<li><strong>软链接</strong>  ：\n<ul>\n<li>软链接可以指向文件或目录。</li>\n<li>软链接常用于创建目录的快捷方式或别名。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>4. 跨文件系统</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：\n<ul>\n<li>硬链接不能跨文件系统边界（即不能在不同分区或挂载点之间创建硬链接）。</li>\n<li>硬链接必须与原文件位于同一文件系统上。</li>\n</ul>\n</li>\n<li><strong>软链接</strong>  ：\n<ul>\n<li>软链接可以跨文件系统边界，指向不同分区或挂载点上的文件或目录。</li>\n<li>软链接的灵活性更高，适用于跨文件系统的引用。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>5. 磁盘空间占用</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：\n<ul>\n<li>硬链接不会占用额外的磁盘空间，因为它只是为文件增加了一个引用。</li>\n<li>硬链接与原文件共享相同的 inode 和数据块。</li>\n</ul>\n</li>\n<li><strong>软链接</strong>  ：\n<ul>\n<li>软链接会占用少量的磁盘空间，因为它是一个独立的文件，包含指向目标文件或目录的路径。</li>\n<li>软链接的大小通常很小，取决于路径的长度。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>6. 性能</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：\n<ul>\n<li>硬链接的访问速度与原文件相同，因为它们指向相同的数据块。</li>\n<li>硬链接的创建和删除速度较快，因为它们只是增加了或减少了一个引用。</li>\n</ul>\n</li>\n<li><strong>软链接</strong>  ：\n<ul>\n<li>软链接的访问速度略慢于硬链接，因为系统需要根据链接中的路径找到目标文件或目录。</li>\n<li>软链接的创建和删除速度也很快，但访问时需要进行路径解析。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>7. 使用场景</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：\n<ul>\n<li>适用于需要多个入口访问同一文件的场景，如备份、镜像文件等。</li>\n<li>适用于需要节省磁盘空间的场景，因为硬链接不会占用额外的空间。</li>\n</ul>\n</li>\n<li><strong>软链接</strong>  ：\n<ul>\n<li>适用于需要创建文件或目录的快捷方式的场景，如指向远程文件系统上的文件、跨文件系统的引用等。</li>\n<li>适用于需要灵活管理文件或目录引用的场景，因为软链接可以指向任意文件或目录，并且可以跨文件系统边界。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>8. 示例</strong></h3>\n<ul>\n<li><strong>硬链接示例</strong>  ：<pre><code class="language-sh"><span class="hljs-comment"># 创建一个文件</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello, World!&quot;</span> &gt; original.txt\n\n<span class="hljs-comment"># 创建一个硬链接</span>\n<span class="hljs-built_in">ln</span> original.txt hardlink.txt\n\n<span class="hljs-comment"># 查看 inode（两者相同）</span>\n<span class="hljs-built_in">ls</span> -i original.txt hardlink.txt\n</code></pre>\n</li>\n<li><strong>软链接示例</strong>  ：<pre><code class="language-sh"><span class="hljs-comment"># 创建一个文件</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello, World!&quot;</span> &gt; original.txt\n\n<span class="hljs-comment"># 创建一个软链接</span>\n<span class="hljs-built_in">ln</span> -s original.txt softlink.txt\n\n<span class="hljs-comment"># 查看软链接指向的目标</span>\n<span class="hljs-built_in">ls</span> -l softlink.txt\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong>9. 优缺点总结</strong></h3>\n<table>\n<thead>\n<tr>\n<th><strong>特性</strong></th>\n<th><strong>硬链接</strong></th>\n<th><strong>软链接</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>定义</strong></td>\n<td>直接指向数据块的引用</td>\n<td>包含指向目标文件或目录路径的特殊文件</td>\n</tr>\n<tr>\n<td><strong>跨文件系统</strong></td>\n<td>不支持</td>\n<td>支持</td>\n</tr>\n<tr>\n<td><strong>目录支持</strong></td>\n<td>不支持</td>\n<td>支持</td>\n</tr>\n<tr>\n<td><strong>磁盘空间</strong></td>\n<td>不占用额外空间</td>\n<td>占用少量空间</td>\n</tr>\n<tr>\n<td><strong>性能</strong></td>\n<td>访问速度与原文件相同</td>\n<td>访问速度略慢于硬链接</td>\n</tr>\n<tr>\n<td><strong>使用场景</strong></td>\n<td>备份、镜像文件等</td>\n<td>快捷方式、跨文件系统引用等</td>\n</tr>\n<tr>\n<td><strong>失效情况</strong></td>\n<td>只有当所有硬链接和原文件都被删除时数据才丢失</td>\n<td>目标文件或目录被删除时软链接失效</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>结论</strong></h3>\n<ul>\n<li><strong>硬链接</strong>  ：适用于需要多个入口访问同一文件且位于同一文件系统的场景，节省磁盘空间，性能较高。</li>\n<li><strong>软链接</strong>  ：适用于需要创建文件或目录的快捷方式、跨文件系统引用或灵活管理文件引用的场景，使用灵活但占用少量磁盘空间。</li>\n</ul>\n<p>根据具体需求选择合适的链接类型，可以更有效地管理文件系统中的文件和目录。</p>\n</div>'</script></body></html>