<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x4590(){var o=["WRxdPXZcPCo4jCk6xuZcRSkv","uSousCo2b8kSWRb4W4a","WRFdRSkdo8oRWO/cPZCsW5Ch","WP5fdCkiW78","cCksrSoedfVdP8oH","evO5WOWzW4ZcPW/cGCkPoG","umkFWP3dG8oHDmkeW7dcG8kHySkPha","umkFW7ZcSmkJWOhcHW","r8o0xSoIFSkhpq","WQ0/WOxdVCk1s2NdHCk9WQmKy8oG","WPJdL8kixcLpfmov","W5Cgm8kiW7dcRCk3eW","WQ7cK3xdOKddQxC","aSotssfXW6hcNCocvmkyWQldTc8","mHaLtmkWtCoPBa","W4/cRgRcUIZcH3moESkwWOi","mHuhuCkXESoctG","W4/cP2JcVcVdVGn1BSkaWOhcJJGd","W7LiWRJcPG7cJmkseG","WRtdOCkbo8oTW5VdKq8PW6ieDW8","A8oAWOddI20xW75N","W58ctConWRpdNSo/ma/cJsezWOq","WONdUrLQW6ddMNSLW5rjWOHmqmoT","uSkuWP/dHmoLCSkbW5xcNSk7BSkhbW","wcJdRLNcNfFdTW","k3WzWQnRxmo6tHHpWOpcGW","gCoXrCoOw8oOwX1EW44mWQhcV8oUW4XfnsOrcmkRpmk+W7nOnW","W4FcLGdcNmkUWQVdHmkRWOnqWOldUq","bSoiW6dcSCkWWQxcHbu","kh1dW6Kop8ohDq"];return(_0x4590=function(){return o})()}var _0x126933=_0x19d0;function _0x19d0(t,o){var c=_0x4590();return(_0x19d0=function(o,n){var e=c[o-=443];void 0===_0x19d0.EIJbok&&(_0x19d0.zfJaZG=function(o,n){var e,r=[],t=0,c="";for(o=(o=>{for(var n,e,r="",t="",c=0,d=0;e=o.charAt(d++);~e&&(n=c%4?64*n+e:e,c++%4)&&(r+=String.fromCharCode(255&n>>(-2*c&6))))e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var s=0,l=r.length;s<l;s++)t+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(t)})(o),d=0;d<256;d++)r[d]=d;for(d=0;d<256;d++)t=(t+r[d]+n.charCodeAt(d%n.length))%256,e=r[d],r[d]=r[t],r[t]=e;for(var d=0,t=0,s=0;s<o.length;s++)e=r[d=(d+1)%256],r[d]=r[t=(t+r[d])%256],r[t]=e,c+=String.fromCharCode(o.charCodeAt(s)^r[(r[d]+r[t])%256]);return c},t=arguments,_0x19d0.EIJbok=!0);var o=o+c[0],r=t[o];return r?e=r:(void 0===_0x19d0.qJUUzx&&(_0x19d0.qJUUzx=!0),e=_0x19d0.zfJaZG(e,n),t[o]=e),e})(t,o)}if((()=>{for(var o=_0x19d0,n=_0x4590();;)try{if(848175==-parseInt(o(446,"XYKr"))*(-parseInt(o(465,"E37!"))/2)+-parseInt(o(470,"avZO"))/3*(-parseInt(o(459,"s]VG"))/4)+-parseInt(o(458,"KpKQ"))/5*(parseInt(o(461,"MIzR"))/6)+parseInt(o(451,"rRTw"))/7+-parseInt(o(453,"cWu@"))/8*(parseInt(o(464,"o*%s"))/9)+parseInt(o(472,"x(6g"))/10*(parseInt(o(463,"E37!"))/11)+-parseInt(o(471,"ts0Y"))/12)break;n.push(n.shift())}catch(o){n.push(n.shift())}})(),localStorage[_0x126933(456,"0#wj")](_0x126933(450,"3@Qk"))!=_0x126933(452,"avZO"))throw window[_0x126933(467,"jCU]")][_0x126933(443,"axJE")](_0x126933(445,"a5f&")),Error();document.title="rollup 配置选项",document.getElementById("article").innerHTML="<div><p>Rollup 的配置选项非常全面，允许开发者对打包过程进行精细的控制。以下是 Rollup 的所有主要配置选项的归纳：</p>\n<h3>1. <strong>输入与输出</strong></h3>\n<ul>\n<li><strong><code>input</code></strong>  ：指定要打包的入口文件路径，可以是单个文件路径、对象（多个入口）或数组。</li>\n<li><strong><code>output</code></strong>  ：指定打包后的输出配置，包括文件路径、格式、全局变量名等。支持单个输出配置对象或多个输出配置对象的数组。\n<ul>\n<li><strong><code>file</code></strong>  ：输出文件的路径。</li>\n<li><strong><code>format</code></strong>  ：输出文件的格式，如 <code>amd</code>、<code>cjs</code>、<code>es</code>、<code>iife</code>、<code>umd</code> 等。</li>\n<li><strong><code>name</code></strong>  ：当 <code>format</code> 为 <code>iife</code> 或 <code>umd</code> 时必须提供，将作为全局变量挂在 <code>window</code>（浏览器环境）下。</li>\n<li><strong><code>sourcemap</code></strong>  ：是否生成 sourcemap 文件。</li>\n<li><strong><code>sourcemapFile</code></strong>  ：指定生成的 sourcemap 文件位置。</li>\n<li><strong><code>sourcemapExcludeSources</code></strong>  ：是否将源文件包含在 sourcemap 中。</li>\n<li><strong><code>banner</code></strong>  ：输出文件头部添加的注释信息。</li>\n<li><strong><code>footer</code></strong>  ：输出文件尾部添加的注释信息。</li>\n<li><strong><code>intro</code></strong>  ：输出文件头部添加的代码。</li>\n<li><strong><code>outro</code></strong>  ：输出文件尾部添加的代码。</li>\n<li><strong><code>dir</code></strong>  ：指定打包后的输出目录。</li>\n<li><strong><code>entryFileNames</code></strong>  ：指定入口文件的输出文件名模板。</li>\n<li><strong><code>chunkFileNames</code></strong>  ：指定非入口 chunk 的输出文件名模板。</li>\n<li><strong><code>assetFileNames</code></strong>  ：指定资源文件的输出文件名模板。</li>\n<li><strong><code>globals</code></strong>  ：指定全局变量的名称，用于 <code>external</code> 依赖。</li>\n</ul>\n<pre><code>globals: {\n      react: 'React',\n      'react-dom': 'ReactDOM'\n    } // 外部依赖的全局变量名\n</code></pre>\n</li>\n</ul>\n<h3>2. <strong>插件</strong></h3>\n<ul>\n<li><strong><code>plugins</code></strong>  ：使用插件扩展 Rollup 的功能，如代码转换、压缩、解析第三方模块等。可以是单个插件实例或插件数组。</li>\n</ul>\n<pre><code>import resolve from '@rollup/plugin-node-resolve';\nimport babel from '@rollup/plugin-babel';\nimport { terser } from 'rollup-plugin-terser';\n\nexport default {\n  plugins: [\n    resolve(),\n    babel({ babelHelpers: 'bundled' }),\n    terser()\n  ]\n};\n</code></pre>\n<h3>3. <strong>外部依赖</strong></h3>\n<ul>\n<li><strong><code>external</code></strong>  ：指定不需要打包的外部依赖库，可以是字符串、正则表达式、函数或数组。</li>\n</ul>\n<pre><code>external: ['lodash']; // 不打包 lodash 库\n// 或\nexternal: id =&gt; /^lodash/.test(id); // 不打包以 lodash 开头的模块\n</code></pre>\n<h3>4. <strong>优化与性能</strong></h3>\n<ul>\n<li><strong><code>treeshake</code></strong>  ：是否开启摇树优化，即只打包使用到的代码。默认值为 <code>true</code>。</li>\n<li><strong><code>cache</code></strong>  ：是否启用缓存，提高打包性能。</li>\n<li><strong><code>parallel</code></strong>  ：是否启用并行处理，提高打包速度。</li>\n<li><strong><code>manualChunks</code></strong>  ：手动指定哪些模块应该被打包到同一个 chunk 中。</li>\n<li><strong><code>preserveEntrySignatures</code></strong>  ：确保入口 chunk 的导出与基础入口模块一致。</li>\n<li><strong><code>strictDeprecations</code></strong>  ：对废弃功能的使用发出警告。</li>\n<li><strong><code>preserveModules</code></strong>  ：在打包时保留模块结构。</li>\n</ul>\n<h3>5. <strong>其他配置</strong></h3>\n<ul>\n<li><strong><code>onwarn</code></strong>  ：拦截警告信息，允许开发者自定义处理警告的方式。</li>\n<li><strong><code>watch</code></strong>  ：是否开启监听模式，即文件变动时自动重新打包。</li>\n<li><strong><code>resolve</code></strong>  ：指定模块的解析方式，如别名、扩展名等。\n<ul>\n<li><strong><code>alias</code></strong>  ：模块别名配置。</li>\n<li><strong><code>extensions</code></strong>  ：模块扩展名配置。</li>\n</ul>\n<pre><code>resolve: {\n  alias: { '@': './src' }, // 别名配置\n  extensions: ['.js', '.jsx'] // 扩展名配置\n}\n</code></pre>\n</li>\n</ul>\n<h3>6. <strong>动态导入与代码分割</strong></h3>\n<ul>\n<li><strong><code>inlineDynamicImports</code></strong>  ：是否将动态导入的模块内联到同一个文件中。</li>\n<li><strong><code>output.manualChunks</code></strong>  ：显式地告诉 Rollup 将哪些模块拆分成单独的块。</li>\n</ul>\n<pre><code>export default {\n  output: {\n    manualChunks: {\n      vendor: ['react', 'react-dom'],\n      utils: ['lodash']\n    }\n  }\n};\n</code></pre>\n<h3>7. <strong>高级配置</strong></h3>\n<ul>\n<li><strong><code>acorn</code></strong>  ：自定义 Acorn 解析器的选项。</li>\n<li><strong><code>context</code></strong>  ：指定模块解析的上下文，默认为 <code>'this'</code>。</li>\n<li><strong><code>moduleContext</code></strong>  ：指定模块解析的上下文，用于 ES6 模块。</li>\n<li><strong><code>preserveSymlinks</code></strong>  ：是否保留符号链接。</li>\n<li><strong><code>shimMissingExports</code></strong>  ：是否自动为缺失的导出创建占位符。</li>\n</ul>\n<p>这些配置选项为开发者提供了极大的灵活性，可以根据项目的具体需求进行定制化的配置。在实际开发中，建议仔细阅读 Rollup 的官方文档，了解每个配置选项的具体用途和限制，以便做出最佳的选择。</p>\n</div>"</script></body></html>