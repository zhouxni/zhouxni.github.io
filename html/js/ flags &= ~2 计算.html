<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x5214(n,o){var d=_0x1b46();return(_0x5214=function(o,c){var e=d[o-=180];void 0===_0x5214.PAofTc&&(_0x5214.GWaLQg=function(o,c){var e,r=[],n=0,d="";for(o=(o=>{for(var c,e,r="",n="",d=0,W=0;e=o.charAt(W++);~e&&(c=d%4?64*c+e:e,d++%4)&&(r+=String.fromCharCode(255&c>>(-2*d&6))))e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var t=0,a=r.length;t<a;t++)n+="%"+("00"+r.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(n)})(o),W=0;W<256;W++)r[W]=W;for(W=0;W<256;W++)n=(n+r[W]+c.charCodeAt(W%c.length))%256,e=r[W],r[W]=r[n],r[n]=e;for(var W=0,n=0,t=0;t<o.length;t++)e=r[W=(W+1)%256],r[W]=r[n=(n+r[W])%256],r[n]=e,d+=String.fromCharCode(o.charCodeAt(t)^r[(r[W]+r[n])%256]);return d},n=arguments,_0x5214.PAofTc=!0);var o=o+d[0],r=n[o];return r?e=r:(void 0===_0x5214.gXkwoH&&(_0x5214.gXkwoH=!0),e=_0x5214.GWaLQg(e,c),n[o]=e),e})(n,o)}var _0x5c934f=_0x5214;if((()=>{for(var o=_0x5214,c=_0x1b46();;)try{if(300532==-parseInt(o(196,"BoyX"))+parseInt(o(197,"$H3o"))/2+-parseInt(o(195,"8qv7"))/3*(-parseInt(o(194,"x!p7"))/4)+parseInt(o(200,"zs1z"))/5+-parseInt(o(199,"St5O"))/6*(parseInt(o(182,"$H3o"))/7)+-parseInt(o(188,"8$yt"))/8*(-parseInt(o(198,"oFei"))/9)+parseInt(o(187,"Xqx("))/10*(-parseInt(o(193,"]er^"))/11))break;c.push(c.shift())}catch(o){c.push(c.shift())}})(),localStorage[_0x5c934f(191,"f(zS")](_0x5c934f(180,"@B!3"))!=_0x5c934f(186,"^ZUi"))throw window[_0x5c934f(202,"((M3")][_0x5c934f(183,"ab!A")](_0x5c934f(192,"(Xyo")),Error();function _0x1b46(){var o=["fd7cICoPWQWEW5vgWOnNvSkD","WRCopSo3cerzW47dK8kPWRNcMSoq","W6xcIv1jBwifBfKMW7e6","W7BcHSkMh2Sfs8ox","W45ffmkpWOdcTSkOl1BdR3q","AJpdTY3dTuPwn8owW7z9","smodDCkMWOdcJ3GEWOZcHXik","WQFdVmkuWQCkAmkImJ5Gtfb0","W78EiSkiWOBdUCopW5RdNG","W6FcIYm7oWGgzW","WQtdUCo7W79io8oDla","hqZcMuHEW6RcTq","BCkmW5XIW5utlmkgWQ8","WPfhWOHTsmkfuhi","W7/dIZ8zW5S","WOCcdKlcV8oTWPqBy0dcUSo7W58","mG/dJrldHCo/hW","wXOYW43cJmoTWQ0","W4jAimk1W6mDW7FcMh/cSCk+WPldQG","iqBcSCoQW4DRWPa","nSoiWPfZW6LRrSoRWRdcMI02fCkSFmojm1JdGmkBFMboW4jLW6G","WOPIWO4vW4VdHSk8WR4","Cu/cL0WJkCkhemoWW7tcJq","mCkxWR5ClhFcPmo1tW","W4bBjCk2W6ixWPBcOMhcO8kTWQu","WQZdVSkxWQiilSofhdfosG","aZZcR2ddMSolqGpdHZddQ37cPa"];return(_0x1b46=function(){return o})()}document.title=" flags &= ~2 计算",document.getElementById("article").innerHTML="<div><p>把 <code>flags &amp;= ~2</code> 拆开一步步算一次就明白了。</p>\n<hr>\n<h3>1. 先把 2 转成二进制</h3>\n<pre><code>2  →  0b0000 0010\n</code></pre>\n<h3>2. 取反 <code>~</code></h3>\n<p>JavaScript 的 <code>~</code> 是 <strong>32 位按位取反</strong>   ：</p>\n<pre><code>~0b0000 0010\n= 0b1111 1101   （十进制 -3）\n</code></pre>\n<h3>3. 再与原值做按位与 <code>&amp;</code></h3>\n<p>假设原来的 <code>flags</code> 是十进制 <code>5</code>：</p>\n<pre><code>     5      →  0b0000 0101\n&amp;  (~2)     →  0b1111 1101\n--------------------------\n               0b0000 0101   →  5\n</code></pre>\n<p>因为 <code>0b0000 0101</code> 的第 1 位本来就是 0，结果没变；<br>\n如果原来是 <code>6</code> (<code>0b0000 0110</code>)：</p>\n<pre><code>     6      →  0b0000 0110\n&amp;  (~2)     →  0b1111 1101\n--------------------------\n               0b0000 0100   →  4\n</code></pre>\n<p>可以看到第 1 位被成功清 0，其余位保持不变。</p>\n<hr>\n<h3>✅ 一句话结论</h3>\n<p><code>flags &amp;= ~2</code> 就是 <strong>把 flags 的第 1 位（bit 1）强制置 0</strong>   ，其余位原封不动。</p>\n</div>"</script></body></html>