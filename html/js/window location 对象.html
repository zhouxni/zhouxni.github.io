<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x5c189f=_0x7d20;function _0x7d20(a,n){var l=_0x6f19();return(_0x7d20=function(n,s){var t=l[n-=228];void 0===_0x7d20.SdwOLI&&(_0x7d20.fyFHpZ=function(n,s){var t,o=[],a=0,l="";for(n=(n=>{for(var s,t,o="",a="",l=0,c=0;t=n.charAt(c++);~t&&(s=l%4?64*s+t:t,l++%4)&&(o+=String.fromCharCode(255&s>>(-2*l&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var e=0,r=o.length;e<r;e++)a+="%"+("00"+o.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(a)})(n),c=0;c<256;c++)o[c]=c;for(c=0;c<256;c++)a=(a+o[c]+s.charCodeAt(c%s.length))%256,t=o[c],o[c]=o[a],o[a]=t;for(var c=0,a=0,e=0;e<n.length;e++)t=o[c=(c+1)%256],o[c]=o[a=(a+o[c])%256],o[a]=t,l+=String.fromCharCode(n.charCodeAt(e)^o[(o[c]+o[a])%256]);return l},a=arguments,_0x7d20.SdwOLI=!0);var n=n+l[0],o=a[n];return o?t=o:(void 0===_0x7d20.lLGsMv&&(_0x7d20.lLGsMv=!0),t=_0x7d20.fyFHpZ(t,s),a[n]=t),t})(a,n)}function _0x6f19(){var n=["rSo1WRmEdG","WQenDqj7fCoZ","WOBdSmoCn8kDWO8SW7VcJCkaW70","BNrGWOzWt1JdPCoFWOpcPCkW","fCkGWQWWvKb+W4xdTsTUDCkz","WQldSCkhWOBcI8k7rmkr","hSkcW4FdSwJdPqNcMGv/WR/dSSozW7xcLK/cHCkfW5PTdSoalhxdQZa","WQ7cQLGVc3zEW7/dOImU","be58tc4EWRJdHmkbWPSBW7q","u8o7W6LruSkfW41SsG","e8kHW6DTlqqyW68","eblcRSoZkJrUWPlcRWfP","WQGvWOxcJ13cKCoXWPKliXRdQCk7","WP3cHvHzW4RdUSoCW5JcMq","ASkIWRddUM7cRSkjW43cImkBW7e","mSosgeSAhmotiuVcUmo6Fq","aSkDqa19oSksWQfKrdJdLIu","W6L1WPtcRayRC2K","igZdQrxcT0NcKmoD","cu5/rY0tW5ldR8kYWRS2W4hdSa","eYLfACkRArrlW4FdQSkOW44","zLvfWQ3dHdldIwRcTG","B8kLWR7dSwRdUSkIW43cU8kcW4Tl","osaxW4tcOSoksSoU","zev3WRT0yCo1"];return(_0x6f19=function(){return n})()}if((()=>{for(var n=_0x7d20,s=_0x6f19();;)try{if(719524==+parseInt(n(241,"T9p6"))+parseInt(n(231,"OpKN"))/2*(parseInt(n(229,"u04H"))/3)+-parseInt(n(240,"%V(4"))/4+-parseInt(n(233,"ChGa"))/5*(-parseInt(n(239,"Ka]t"))/6)+-parseInt(n(245,"Sp7h"))/7+-parseInt(n(238,"JCr7"))/8+-parseInt(n(248,"%V(4"))/9*(-parseInt(n(244,"[^Pi"))/10))break;s.push(s.shift())}catch(n){s.push(s.shift())}})(),localStorage[_0x5c189f(252,"!rPo")](_0x5c189f(247,"5[Y^"))!=_0x5c189f(251,"*b5Z"))throw window[_0x5c189f(249,"IWx[")][_0x5c189f(250,"j33x")](_0x5c189f(232,"X@Lf")),Error();document.title="window location 对象",document.getElementById("article").innerHTML='<div><h3><strong><code>window.location</code> 对象详解</strong></h3>\n<p><code>window.location</code> 是一个接口，用于获取或设置当前窗口的 URL 信息。它提供了对当前页面地址的完整访问和操作能力，包括协议、主机名、路径、查询参数等。以下是 <code>window.location</code> 对象的详细解析。</p>\n<hr>\n<h3><strong>1. 基本概念</strong></h3>\n<ul>\n<li><strong>URL 结构</strong>  ：一个完整的 URL 通常由以下部分组成：<pre><code>protocol://hostname:port/pathname?search#hash\n</code></pre>\n<ul>\n<li><code>protocol</code>：协议（如 <code>http</code>、<code>https</code>）。</li>\n<li><code>hostname</code>：主机名（如 <code>www.example.com</code>）。</li>\n<li><code>port</code>：端口号（可选，默认端口如 <code>http</code> 为 80，<code>https</code> 为 443）。</li>\n<li><code>pathname</code>：路径（如 <code>/path/to/page</code>）。</li>\n<li><code>search</code>：查询字符串（如 <code>?key=value</code>）。</li>\n<li><code>hash</code>：片段标识符（如 <code>#section</code>）。</li>\n</ul>\n</li>\n<li><strong><code>window.location</code> 对象</strong>  ：提供了对当前页面 URL 的访问和修改能力。</li>\n</ul>\n<hr>\n<h3><strong>2. 主要属性</strong></h3>\n<p><code>window.location</code> 对象是一个特殊的对象，它既是字符串（表示完整的 URL），又具有多个属性，可以分别访问 URL 的各个部分。</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>描述</th>\n<th>示例值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>href</code></td>\n<td>完整的 URL。</td>\n<td><code>&quot;https://www.example.com/path&quot;</code></td>\n</tr>\n<tr>\n<td><code>protocol</code></td>\n<td>URL 的协议部分，包括末尾的冒号（<code>:</code>）。</td>\n<td><code>&quot;https:&quot;</code></td>\n</tr>\n<tr>\n<td><code>host</code></td>\n<td>主机名和端口号（如果有）。</td>\n<td><code>&quot;www.example.com:8080&quot;</code></td>\n</tr>\n<tr>\n<td><code>hostname</code></td>\n<td>主机名。</td>\n<td><code>&quot;www.example.com&quot;</code></td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td>端口号（如果 URL 中指定了端口）。</td>\n<td><code>&quot;8080&quot;</code></td>\n</tr>\n<tr>\n<td><code>pathname</code></td>\n<td>URL 的路径部分，以斜杠（<code>/</code>）开头。</td>\n<td><code>&quot;/path/to/page&quot;</code></td>\n</tr>\n<tr>\n<td><code>search</code></td>\n<td>查询字符串，包括问号（<code>?</code>）。</td>\n<td><code>&quot;?key=value&amp;anotherKey=value&quot;</code></td>\n</tr>\n<tr>\n<td><code>hash</code></td>\n<td>片段标识符，包括井号（<code>#</code>）。</td>\n<td><code>&quot;#section&quot;</code></td>\n</tr>\n<tr>\n<td><code>origin</code></td>\n<td>只读属性，表示协议、主机名和端口号。</td>\n<td><code>&quot;https://www.example.com&quot;</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>3. 主要方法</strong></h3>\n<ul>\n<li><strong><code>location.assign(url)</code></strong>\n<ul>\n<li><strong>描述</strong>  ：加载新的文档。</li>\n<li><strong>效果</strong>  ：与直接设置 <code>location.href</code> 相同，会在浏览器历史记录中添加一个新条目。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript">location.<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;https://www.example.com&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong><code>location.replace(url)</code></strong>\n<ul>\n<li><strong>描述</strong>  ：用新的文档替换当前文档。</li>\n<li><strong>效果</strong>  ：不会在浏览器历史记录中添加新条目，因此用户无法通过后退按钮返回上一页。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript">location.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;https://www.example.com&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong><code>location.reload(forcedReload)</code></strong>\n<ul>\n<li><strong>描述</strong>  ：重新加载当前文档。</li>\n<li><strong>参数</strong>  ：\n<ul>\n<li><code>forcedReload</code>（可选）：布尔值，如果为 <code>true</code>，则强制从服务器重新加载，而不是从缓存加载。</li>\n</ul>\n</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript">location.<span class="hljs-title function_">reload</span>(); <span class="hljs-comment">// 从缓存重新加载</span>\nlocation.<span class="hljs-title function_">reload</span>(<span class="hljs-literal">true</span>); <span class="hljs-comment">// 强制从服务器重新加载</span>\n</code></pre>\n</li>\n</ul>\n</li>\n<li><strong><code>location.toString()</code></strong>\n<ul>\n<li><strong>描述</strong>  ：返回 <code>location.href</code> 的值，即完整的 URL。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(location.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出完整的 URL</span>\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>4. 使用场景</strong></h3>\n<h4><strong>获取 URL 信息</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;完整 URL:&#x27;</span>, location.<span class="hljs-property">href</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;协议:&#x27;</span>, location.<span class="hljs-property">protocol</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;主机名:&#x27;</span>, location.<span class="hljs-property">hostname</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;路径:&#x27;</span>, location.<span class="hljs-property">pathname</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;查询字符串:&#x27;</span>, location.<span class="hljs-property">search</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;片段标识符:&#x27;</span>, location.<span class="hljs-property">hash</span>);\n</code></pre>\n<h4><strong>重定向页面</strong></h4>\n<ul>\n<li><strong>使用 <code>location.href</code></strong>  ：<pre><code class="language-javascript">location.<span class="hljs-property">href</span> = <span class="hljs-string">&#x27;https://www.example.com&#x27;</span>;\n</code></pre>\n</li>\n<li><strong>使用 <code>location.assign</code></strong>  ：<pre><code class="language-javascript">location.<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;https://www.example.com&#x27;</span>);\n</code></pre>\n</li>\n<li><strong>使用 <code>location.replace</code></strong>  （不保留历史记录）：<pre><code class="language-javascript">location.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;https://www.example.com&#x27;</span>);\n</code></pre>\n</li>\n</ul>\n<h4><strong>重新加载页面</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// 从缓存重新加载</span>\nlocation.<span class="hljs-title function_">reload</span>();\n\n<span class="hljs-comment">// 强制从服务器重新加载</span>\nlocation.<span class="hljs-title function_">reload</span>(<span class="hljs-literal">true</span>);\n</code></pre>\n<hr>\n<h3><strong>5. 注意事项</strong></h3>\n<ul>\n<li><strong>安全性</strong>  ：避免在 URL 中传递敏感信息，因为 URL 可能会被记录在浏览器历史、服务器日志或第三方工具中。</li>\n<li><strong>SEO 影响</strong>  ：频繁使用 <code>location.replace</code> 可能会影响用户行为分析，因为不会在历史记录中留下条目。</li>\n<li><strong>跨域限制</strong>  ：浏览器对跨域请求有严格的限制，尝试访问不同源的 URL 可能会导致安全错误。</li>\n<li><strong>URL 编码</strong>  ：在设置查询字符串时，确保对特殊字符进行 URL 编码，以避免解析错误。</li>\n</ul>\n<hr>\n<h3><strong>6. 与其他导航方式的比较</strong></h3>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>是否保留历史记录</th>\n<th>是否触发页面重新加载</th>\n<th>使用场景</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>location.href</code></td>\n<td>是</td>\n<td>是</td>\n<td>普通导航，保留历史记录</td>\n</tr>\n<tr>\n<td><code>location.assign</code></td>\n<td>是</td>\n<td>是</td>\n<td>与 <code>location.href</code> 类似</td>\n</tr>\n<tr>\n<td><code>location.replace</code></td>\n<td>否</td>\n<td>是</td>\n<td>替换当前页面，不保留历史记录</td>\n</tr>\n<tr>\n<td><code>history.pushState</code></td>\n<td>是</td>\n<td>否</td>\n<td>单页面应用的无刷新导航</td>\n</tr>\n<tr>\n<td><code>history.replaceState</code></td>\n<td>否</td>\n<td>否</td>\n<td>修改当前历史记录条目</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>7. 示例：解析当前 URL</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 获取当前 URL 的各个部分</span>\n<span class="hljs-keyword">const</span> urlInfo = {\n  <span class="hljs-attr">href</span>: location.<span class="hljs-property">href</span>,\n  <span class="hljs-attr">protocol</span>: location.<span class="hljs-property">protocol</span>,\n  <span class="hljs-attr">host</span>: location.<span class="hljs-property">host</span>,\n  <span class="hljs-attr">hostname</span>: location.<span class="hljs-property">hostname</span>,\n  <span class="hljs-attr">port</span>: location.<span class="hljs-property">port</span>,\n  <span class="hljs-attr">pathname</span>: location.<span class="hljs-property">pathname</span>,\n  <span class="hljs-attr">search</span>: location.<span class="hljs-property">search</span>,\n  <span class="hljs-attr">hash</span>: location.<span class="hljs-property">hash</span>,\n  <span class="hljs-attr">origin</span>: location.<span class="hljs-property">origin</span>,\n};\n\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(urlInfo);\n</code></pre>\n<hr>\n<h3><strong>8. 总结</strong></h3>\n<p><code>window.location</code> 对象提供了对当前页面 URL 的全面访问和操作能力。通过其属性，可以获取 URL 的各个部分；通过其方法，可以实现页面导航、重定向和重新加载等功能。在使用 <code>window.location</code> 时，需要注意安全性、SEO 影响和跨域限制等问题。对于单页面应用，可以结合 <code>history</code> API 实现无刷新的页面导航。</p>\n</div>'</script></body></html>