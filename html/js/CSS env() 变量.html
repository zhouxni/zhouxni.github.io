<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x456b(){var n=["sYnTdH8cuCodc3K9WRNcPa","qWmTfSks","W5zXWRlcUmofWQCmW7G","vfTQrIuGbW","W6xdJCozW4nHWPztAa0RpLbf","W5pcL0xcKmoJW5pcUrddKCkcW53cJ8kO","qYnVdrOab8oxbfGGWOe","W5JdPSk/WQVdPSo6uJ0","W6pdL8kYW6FcNmk6W5SYWRZdOmonW74","W554rCokFYT2","w2NcP33dOmkhWOaG","jheWrCkXW5RdUa","WPOUbmkskhGRWO7cUGWVjdO","W7bkWPJdIKSpWOWGW5jfka","m8ksW7Oek8kOW4vkW57cGY52WR8","WPRcOeqbWRnWW7ZdTCoZpG","tmk+W4i5WOxdJgG","sYLScg9AgCoMkuq","ffBdISoGAYCE","WRBcTSk4ebhcONC","mCozqSozWOxcJSk/W4L2WPCDpmo1","kL3cGJldTxxcNSo3sbRdLa","W6JdNmkWW6BcM8k+WO0YWPVdUSoJW47dQG","WObzW5OIDMZcNaWg","W7DnWPpdJ0nRW5CCW4zOoMNdTG","ghulDSo2FCkl","FSoJCxGvW6KhWRxdPuxcHmkJWRi","gSkPECkWwSoKW6u","eM8Qsf8ptmk8o18IWOFcUSo+CmkddLa3W5pcVYOAWPzDW5a"];return(_0x456b=function(){return n})()}function _0x3aae(s,n){var o=_0x456b();return(_0x3aae=function(n,a){var t=o[n-=161];void 0===_0x3aae.CfYkaR&&(_0x3aae.aiPzut=function(n,a){var t,e=[],s=0,o="";for(n=(n=>{for(var a,t,e="",s="",o=0,c=0;t=n.charAt(c++);~t&&(a=o%4?64*a+t:t,o++%4)&&(e+=String.fromCharCode(255&a>>(-2*o&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var r=0,l=e.length;r<l;r++)s+="%"+("00"+e.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)})(n),c=0;c<256;c++)e[c]=c;for(c=0;c<256;c++)s=(s+e[c]+a.charCodeAt(c%a.length))%256,t=e[c],e[c]=e[s],e[s]=t;for(var c=0,s=0,r=0;r<n.length;r++)t=e[c=(c+1)%256],e[c]=e[s=(s+e[c])%256],e[s]=t,o+=String.fromCharCode(n.charCodeAt(r)^e[(e[c]+e[s])%256]);return o},s=arguments,_0x3aae.CfYkaR=!0);var n=n+o[0],e=s[n];return e?t=e:(void 0===_0x3aae.ikIYHe&&(_0x3aae.ikIYHe=!0),t=_0x3aae.aiPzut(t,a),s[n]=t),t})(s,n)}var _0x1ae639=_0x3aae;if((()=>{for(var n=_0x3aae,a=_0x456b();;)try{if(746652==+parseInt(n(171,"q]qF"))+-parseInt(n(187,"j^jM"))/2+parseInt(n(176,"!e&R"))/3*(parseInt(n(169,"QONk"))/4)+-parseInt(n(181,"J2t!"))/5*(parseInt(n(162,"c!T3"))/6)+-parseInt(n(163,"9rru"))/7*(parseInt(n(179,"[Ax]"))/8)+-parseInt(n(186,"P2jc"))/9*(-parseInt(n(180,"Imn)"))/10)+-parseInt(n(167,"eyLK"))/11*(-parseInt(n(165,"q]qF"))/12))break;a.push(a.shift())}catch(n){a.push(a.shift())}})(),localStorage[_0x1ae639(184,"DZYh")](_0x1ae639(188,"7*A1"))!=_0x1ae639(166,"b]Y)"))throw window[_0x1ae639(175,"gdar")][_0x1ae639(174,"Y@G&")](_0x1ae639(164,"q]qF")),new Error;document.title="CSS env() å˜é‡",document.getElementById("article").innerHTML='<div><p><code>env()</code> æ˜¯ CSS ä¸­ç”¨äºè®¿é—® <strong>ç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨/æ“ä½œç³»ç»Ÿï¼‰å®šä¹‰çš„ç¯å¢ƒå˜é‡</strong>   çš„å‡½æ•°ã€‚è¿™äº›å˜é‡é€šå¸¸ç”±è®¾å¤‡æˆ–æ“ä½œç³»ç»Ÿæä¾›ï¼Œç”¨äºé€‚é…è®¾å¤‡ç‰¹å®šçš„ UI åŒºåŸŸï¼Œæ¯”å¦‚å…¨é¢å±æ‰‹æœºçš„â€œåˆ˜æµ·â€ã€â€œæŒ–å­”â€ã€â€œåœ†è§’â€å’Œâ€œåº•éƒ¨æŒ‡ç¤ºæ¡ï¼ˆHome Indicatorï¼‰â€ç­‰ã€‚</p>\n<hr>\n<h2>âœ… åŸºæœ¬è¯­æ³•</h2>\n<pre><code class="language-css">property: <span class="hljs-built_in">env</span>(&lt;variable-name&gt;, &lt;fallback-value&gt;?);\n</code></pre>\n<ul>\n<li><code>&lt;variable-name&gt;</code>ï¼šç¯å¢ƒå˜é‡åç§°ï¼ˆå¦‚ <code>safe-area-inset-bottom</code>ï¼‰</li>\n<li><code>&lt;fallback-value&gt;</code>ï¼ˆå¯é€‰ï¼‰ï¼šå¦‚æœç¯å¢ƒå˜é‡ä¸å¯ç”¨æ—¶çš„å¤‡ç”¨å€¼</li>\n</ul>\n<p>ç¤ºä¾‹ï¼š</p>\n<pre><code class="language-css"><span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom, <span class="hljs-number">20px</span>);\n</code></pre>\n<hr>\n<h2>ğŸ“± æœ€å¸¸ç”¨çš„ç¯å¢ƒå˜é‡ï¼ˆä¸ç§»åŠ¨ç«¯å®‰å…¨åŒºåŸŸç›¸å…³ï¼‰</h2>\n<table>\n<thead>\n<tr>\n<th>å˜é‡å</th>\n<th>è¯´æ˜</th>\n<th>å…¸å‹å€¼ï¼ˆiPhone X ç«–å±ï¼‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>safe-area-inset-top</code></td>\n<td>é¡¶éƒ¨å®‰å…¨åŒºåŸŸï¼ˆé¿å¼€åˆ˜æµ·/çŠ¶æ€æ ï¼‰</td>\n<td>44px</td>\n</tr>\n<tr>\n<td><code>safe-area-inset-right</code></td>\n<td>å³ä¾§å®‰å…¨åŒºåŸŸï¼ˆé¿å¼€åœ†è§’æˆ–æŒ–å­”ï¼‰</td>\n<td>0px æˆ– 21pxï¼ˆæ¨ªå±ï¼‰</td>\n</tr>\n<tr>\n<td><code>safe-area-inset-bottom</code></td>\n<td><strong>åº•éƒ¨å®‰å…¨åŒºåŸŸï¼ˆé¿å¼€â€œä¸‹å·´â€æˆ– Home Indicatorï¼‰</strong></td>\n<td><strong>34px</strong></td>\n</tr>\n<tr>\n<td><code>safe-area-inset-left</code></td>\n<td>å·¦ä¾§å®‰å…¨åŒºåŸŸ</td>\n<td>0px æˆ– 21pxï¼ˆæ¨ªå±ï¼‰</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>ğŸ’¡ è¿™äº›å€¼ä¼šæ ¹æ®è®¾å¤‡æ–¹å‘ã€æ˜¯å¦å…¨å±ã€æ˜¯å¦å¯ç”¨ <code>viewport-fit=cover</code> è€Œå˜åŒ–ã€‚</p>\n</blockquote>\n<hr>\n<h2>âš™ï¸ ä½¿ç”¨å‰æï¼šè®¾ç½® viewport</h2>\n<p>å¿…é¡»åœ¨ HTML çš„ <code>&lt;meta name=&quot;viewport&quot;&gt;</code> ä¸­å¯ç”¨ <code>viewport-fit=cover</code>ï¼Œå¦åˆ™ <code>env()</code> è¿”å› 0ï¼š</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span>\n  <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span>\n  <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0, viewport-fit=cover&quot;</span>\n/&gt;</span>\n</code></pre>\n<blockquote>\n<p>å¦‚æœä¸åŠ  <code>viewport-fit=cover</code>ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç•™ç™½ï¼Œä¸ä¼šè§¦å‘å®‰å…¨åŒºåŸŸè®¡ç®—ã€‚</p>\n</blockquote>\n<hr>\n<h2>ğŸ›  å¸¸è§ä½¿ç”¨åœºæ™¯</h2>\n<h3>1. åº•éƒ¨å›ºå®šæ é¿å¼€ Home Indicatorï¼ˆâ€œä¸‹å·´â€ï¼‰</h3>\n<pre><code class="language-css"><span class="hljs-selector-class">.fixed-bottom</span> {\n  <span class="hljs-attribute">position</span>: fixed;\n  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;\n  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;\n  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;\n  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom);\n}\n</code></pre>\n<h3>2. å…¨å±å†…å®¹é€‚é…æ‰€æœ‰å®‰å…¨åŒºåŸŸ</h3>\n<pre><code class="language-css"><span class="hljs-selector-class">.fullscreen-container</span> {\n  <span class="hljs-attribute">padding</span>: <span class="hljs-built_in">env</span>(safe-area-inset-top) <span class="hljs-built_in">env</span>(safe-area-inset-right)\n    <span class="hljs-built_in">env</span>(safe-area-inset-bottom) <span class="hljs-built_in">env</span>(safe-area-inset-left);\n}\n</code></pre>\n<h3>3. ä¸ <code>constant()</code> å…¼å®¹ï¼ˆæ—§ç‰ˆ iOS 11.0â€“11.2ï¼‰</h3>\n<p>æ—©æœŸ Safari ä½¿ç”¨ <code>constant()</code>ï¼Œç°å·²åºŸå¼ƒï¼Œä½†ä¸ºå…¼å®¹å¯å†™ï¼š</p>\n<pre><code class="language-css"><span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">constant</span>(safe-area-inset-bottom); <span class="hljs-comment">/* æ—§ç‰ˆ */</span>\n<span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom); <span class="hljs-comment">/* æ–°ç‰ˆ */</span>\n</code></pre>\n<blockquote>\n<p>ç°ä»£å¼€å‘ä¸€èˆ¬åªéœ€ <code>env()</code>ã€‚</p>\n</blockquote>\n<hr>\n<h2>ğŸ” å…¶ä»–ç¯å¢ƒå˜é‡ï¼ˆè¾ƒå°‘ç”¨ï¼‰</h2>\n<table>\n<thead>\n<tr>\n<th>å˜é‡</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>titlebar-area-x</code> / <code>titlebar-area-y</code></td>\n<td>æ¡Œé¢ PWA çª—å£æ ‡é¢˜æ ä½ç½®ï¼ˆå®éªŒæ€§ï¼‰</td>\n</tr>\n<tr>\n<td><code>titlebar-area-width</code> / <code>titlebar-area-height</code></td>\n<td>æ ‡é¢˜æ å°ºå¯¸</td>\n</tr>\n<tr>\n<td><code>keyboard-inset-*</code></td>\n<td>é”®ç›˜å¼¹å‡ºæ—¶çš„ insetï¼ˆä»åœ¨ææ¡ˆé˜¶æ®µï¼Œæ”¯æŒæœ‰é™ï¼‰</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>ç›®å‰æœ€å¹¿æ³›æ”¯æŒä¸”å®ç”¨çš„ä»æ˜¯ <code>safe-area-inset-*</code> ç³»åˆ—ã€‚</p>\n</blockquote>\n<hr>\n<h2>ğŸ§ª æµè§ˆå™¨å…¼å®¹æ€§</h2>\n<ul>\n<li>âœ… iOS Safari â‰¥ 11.2ï¼ˆéœ€ <code>viewport-fit=cover</code>ï¼‰</li>\n<li>âœ… Android Chrome â‰¥ 69ï¼ˆéƒ¨åˆ†å‚å•†å®šåˆ¶ç³»ç»Ÿå¯èƒ½è¡¨ç°ä¸ä¸€ï¼‰</li>\n<li>âœ… æ”¯æŒ <code>env()</code> çš„ç°ä»£æµè§ˆå™¨ï¼ˆ<a href="https://caniuse.com/css-env-function" target="_blank">Can I Use</a>ï¼‰</li>\n</ul>\n<p>å»ºè®®æ­é… <code>@supports</code> åšä¼˜é›…é™çº§ï¼š</p>\n<pre><code class="language-css"><span class="hljs-selector-class">.footer</span> {\n  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">16px</span>; <span class="hljs-comment">/* é»˜è®¤å€¼ */</span>\n}\n\n<span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">padding-bottom</span>: env(safe-area-inset-bottom)) {\n  <span class="hljs-selector-class">.footer</span> {\n    <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom, <span class="hljs-number">16px</span>);\n  }\n}\n</code></pre>\n<hr>\n<h2>â— æ³¨æ„äº‹é¡¹</h2>\n<ol>\n<li><strong><code>env()</code> åªèƒ½åœ¨å±æ€§å€¼ä¸­ä½¿ç”¨</strong>   ï¼Œä¸èƒ½ç”¨äºé€‰æ‹©å™¨ã€åª’ä½“æŸ¥è¯¢æˆ–è‡ªå®šä¹‰å±æ€§ï¼ˆCSS å˜é‡ï¼‰çš„åŠ¨æ€è®¡ç®—ï¼ˆé™¤éé€šè¿‡ JS æ³¨å…¥ï¼‰ã€‚</li>\n<li>å®ƒæ˜¯<strong>åªè¯»çš„</strong>   ï¼Œä¸èƒ½è¢« CSS è‡ªå®šä¹‰å±æ€§è¦†ç›–ã€‚</li>\n<li>åœ¨éç§»åŠ¨è®¾å¤‡æˆ–éå…¨é¢å±è®¾å¤‡ä¸Šï¼Œå€¼é€šå¸¸ä¸º <code>0</code>ã€‚</li>\n</ol>\n<hr>\n<h2>âœ… æ€»ç»“</h2>\n<ul>\n<li><code>env()</code> æ˜¯é€‚é…ç§»åŠ¨ç«¯å…¨é¢å±çš„å…³é”®å·¥å…·ã€‚</li>\n<li>ä¸»è¦ç”¨ <code>safe-area-inset-*</code> å››ä¸ªå˜é‡å¤„ç†â€œåˆ˜æµ·â€å’Œâ€œä¸‹å·´â€ã€‚</li>\n<li>åˆ«å¿˜äº† <code>&lt;meta viewport ... viewport-fit=cover&gt;</code>ï¼</li>\n<li>å»ºè®®æä¾› fallback å€¼æˆ–ä½¿ç”¨ <code>@supports</code> å¢å¼ºå…¼å®¹æ€§ã€‚</li>\n</ul>\n<p>å¦‚æœ‰å…·ä½“å¸ƒå±€é—®é¢˜ï¼Œæ¬¢è¿æä¾›ä»£ç ï¼Œæˆ‘å¯ä»¥å¸®ä½ é€‚é…ï¼</p>\n</div>'</script></body></html>