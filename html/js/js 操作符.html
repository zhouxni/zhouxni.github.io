<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x5dae(t,s){var e=_0x4f50();return(_0x5dae=function(s,n){var a=e[s-=165];void 0===_0x5dae.hRjejX&&(_0x5dae.vMIfVW=function(s,n){var a,o=[],t=0,e="";for(s=(s=>{for(var n,a,o="",t="",e=0,l=0;a=s.charAt(l++);~a&&(n=e%4?64*n+a:a,e++%4)&&(o+=String.fromCharCode(255&n>>(-2*e&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,p=o.length;c<p;c++)t+="%"+("00"+o.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),l=0;l<256;l++)o[l]=l;for(l=0;l<256;l++)t=(t+o[l]+n.charCodeAt(l%n.length))%256,a=o[l],o[l]=o[t],o[t]=a;for(var l=0,t=0,c=0;c<s.length;c++)a=o[l=(l+1)%256],o[l]=o[t=(t+o[l])%256],o[t]=a,e+=String.fromCharCode(s.charCodeAt(c)^o[(o[l]+o[t])%256]);return e},t=arguments,_0x5dae.hRjejX=!0);var s=s+e[0],o=t[s];return o?a=o:(void 0===_0x5dae.ZOYOTX&&(_0x5dae.ZOYOTX=!0),a=_0x5dae.vMIfVW(a,n),t[s]=a),a})(t,s)}function _0x4f50(){var s=["v8ktW5bxtmoAWOWYWRubW5bQW4tcRajsze1Frmk0WQldUmkIge0","ideaW7pdGCounHxdUW","nCkTWQOsvY/cKsNcR8k4WRFcLYy","W73cVmoRkY3dRgeMW5XYW4VcKmog","WPJdGIhdKWtdQLKnWRS","mrWdW5GXWQxdIuRcVSkxW4q2qa","WRSlkmoReXfHWQhdU8kL","kfXcsCkq","FK/cGCoPxt3dLSorW7nvWQ/dM2W","WRX/C8kCWOvlW7iPiSk5WRjx","W5mNWR17hmkPAh0wB3RdMq","W53dH8kqn8ovtSk3g8ogBCokW605","fbhdNmo3oGVdMvzVAq","W4L3ntlcTaG+s00dW53dGmoG","q8kFWQJdL2NdSSk7rSoG","W6ddOxVcUhL0W7zHWO87W4VcTCk3","rmkTWOXpW5xcJtG","p8o3W4lcMSoHWR5/","rt3cMSkhDglcOX4","WPJdHIZcQ37cHry8WO7dGMiwWQ8","WRJdLSo+W7j2W6VcQZ/cKq","W7PPzmoKWQraW5hcTSojW7GPh8kQ","nCkPWQDQluddNHJcMG"];return(_0x4f50=function(){return s})()}var _0xf84b71=_0x5dae;if((()=>{for(var s=_0x5dae,n=_0x4f50();;)try{if(793206==-parseInt(s(170,"hmi6"))+-parseInt(s(185,"Y7QC"))/2+-parseInt(s(186,"Cz0@"))/3*(-parseInt(s(165,"RIlw"))/4)+parseInt(s(183,"nE&2"))/5+parseInt(s(166,"XkjK"))/6+-parseInt(s(182,"Arqj"))/7+parseInt(s(173,"))Qa"))/8*(parseInt(s(179,"UiF#"))/9))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0xf84b71(168,"t8!!")](_0xf84b71(171,"12MX"))!=_0xf84b71(181,"IP^o"))throw window[_0xf84b71(169,"QCt8")][_0xf84b71(167,"fSHk")](_0xf84b71(174,"LX&b")),Error();document.title="js 操作符",document.getElementById("article").innerHTML='<div><p>你提到的 <code>?.</code> 和 <code>??</code> 是 JavaScript/TypeScript 中的两个常用操作符，分别用于 <strong>可选链（Optional Chaining）</strong>   和 <strong>空值合并（Nullish Coalescing）</strong>  。它们的主要作用是简化代码并避免运行时错误。以下是详细解释和对比：</p>\n<hr>\n<h2><strong>1. 可选链 <code>?.</code>（Optional Chaining）</strong></h2>\n<p><strong>作用</strong>  ：安全地访问嵌套对象的属性，避免因 <code>undefined</code> 或 <code>null</code> 导致的报错。<br>\n<strong>语法</strong>  ：<code>obj?.prop</code><br>\n<strong>等效于</strong>  ：<code>obj &amp;&amp; obj.prop</code></p>\n<h3><strong>示例</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> user = {\n  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Alice&quot;</span>,\n  <span class="hljs-attr">address</span>: {\n    <span class="hljs-attr">city</span>: <span class="hljs-string">&quot;New York&quot;</span>\n  }\n};\n\n<span class="hljs-comment">// 传统写法（容易报错）</span>\n<span class="hljs-keyword">const</span> city = user.<span class="hljs-property">address</span>.<span class="hljs-property">city</span>; <span class="hljs-comment">// 正常</span>\n<span class="hljs-keyword">const</span> street = user.<span class="hljs-property">address</span>.<span class="hljs-property">street</span>.<span class="hljs-property">name</span>; <span class="hljs-comment">// ❌ 报错：Cannot read property &#x27;name&#x27; of undefined</span>\n\n<span class="hljs-comment">// 使用可选链</span>\n<span class="hljs-keyword">const</span> streetSafe = user.<span class="hljs-property">address</span>?.<span class="hljs-property">street</span>?.<span class="hljs-property">name</span>; <span class="hljs-comment">// ✅ 返回 undefined，不报错</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(streetSafe); <span class="hljs-comment">// undefined</span>\n</code></pre>\n<h3><strong>适用场景</strong></h3>\n<ul>\n<li>访问可能不存在的嵌套属性（如 API 返回的数据）。</li>\n<li>替代冗长的 <code>&amp;&amp;</code> 链式判断。</li>\n</ul>\n<hr>\n<h2><strong>2. 空值合并 <code>??</code>（Nullish Coalescing）</strong></h2>\n<p><strong>作用</strong>  ：提供默认值，仅当左侧为 <code>null</code> 或 <code>undefined</code> 时返回右侧值。<br>\n<strong>语法</strong>  ：<code>value ?? defaultValue</code><br>\n<strong>对比 <code>||</code></strong>  ：<code>||</code> 会对所有假值（如 <code>0</code>、<code>&quot;&quot;</code>、<code>false</code>）生效，而 <code>??</code> 只针对 <code>null/undefined</code>。</p>\n<h3><strong>示例</strong></h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> score = <span class="hljs-number">0</span>;\n<span class="hljs-keyword">const</span> name = <span class="hljs-string">&quot;&quot;</span>;\n\n<span class="hljs-comment">// 传统写法（|| 的问题）</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(score || <span class="hljs-number">100</span>); <span class="hljs-comment">// 100（0 被误判为无效值）</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name || <span class="hljs-string">&quot;Anonymous&quot;</span>); <span class="hljs-comment">// &quot;Anonymous&quot;（空字符串被误判）</span>\n\n<span class="hljs-comment">// 使用 ??</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(score ?? <span class="hljs-number">100</span>); <span class="hljs-comment">// 0（保留 0）</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name ?? <span class="hljs-string">&quot;Anonymous&quot;</span>); <span class="hljs-comment">// &quot;&quot;（保留空字符串）</span>\n\n<span class="hljs-comment">// 仅对 null/undefined 生效</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-literal">null</span> ?? <span class="hljs-string">&quot;default&quot;</span>); <span class="hljs-comment">// &quot;default&quot;</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-literal">undefined</span> ?? <span class="hljs-string">&quot;default&quot;</span>); <span class="hljs-comment">// &quot;default&quot;</span>\n</code></pre>\n<h3><strong>适用场景</strong></h3>\n<ul>\n<li>需要区分 <code>0</code>/<code>&quot;&quot;</code>/<code>false</code> 和 <code>null/undefined</code> 的情况。</li>\n<li>设置默认值时不覆盖有效假值。</li>\n</ul>\n<hr>\n<h2><strong>3. 结合使用 <code>?.</code> 和 <code>??</code></strong></h2>\n<p>两者常一起使用，先安全访问属性，再提供默认值：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> user = { <span class="hljs-attr">settings</span>: { <span class="hljs-attr">theme</span>: <span class="hljs-literal">null</span> } };\n\n<span class="hljs-comment">// 如果 user.settings.theme 是 null/undefined，则返回 &quot;light&quot;</span>\n<span class="hljs-keyword">const</span> theme = user?.<span class="hljs-property">settings</span>?.<span class="hljs-property">theme</span> ?? <span class="hljs-string">&quot;light&quot;</span>;\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(theme); <span class="hljs-comment">// &quot;light&quot;（因为 theme 是 null）</span>\n</code></pre>\n<hr>\n<h2><strong>4. 浏览器和 TypeScript 支持</strong></h2>\n<ul>\n<li><strong><code>?.</code> 和 <code>??</code></strong>   是 ES2020 特性，现代浏览器和 Node.js 12+ 原生支持。</li>\n<li><strong>TypeScript</strong>  ：从 3.7+ 开始支持，需在 <code>tsconfig.json</code> 中启用：<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ES2020&quot;</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;strictNullChecks&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<h2><strong>总结对比</strong></h2>\n<table>\n<thead>\n<tr>\n<th>操作符</th>\n<th>名称</th>\n<th>作用</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>?.</code></td>\n<td>可选链</td>\n<td>安全访问嵌套属性</td>\n<td><code>obj?.prop</code></td>\n</tr>\n<tr>\n<td><code>??</code></td>\n<td>空值合并</td>\n<td>仅对 <code>null/undefined</code> 提供默认值</td>\n<td><code>value ?? &quot;default&quot;</code></td>\n</tr>\n</tbody>\n</table>\n<p><strong>使用建议</strong>  ：</p>\n<ul>\n<li>优先用 <code>?.</code> 替代 <code>&amp;&amp;</code> 链式判断。</li>\n<li>需要默认值时，用 <code>??</code> 替代 <code>||</code>（除非明确需要覆盖假值）。</li>\n</ul>\n</div>'</script></body></html>