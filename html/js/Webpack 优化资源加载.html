<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x365e7b=_0x44f1;function _0x44f1(p,s){var t=_0x28ce();return(_0x44f1=function(s,a){var n=t[s-=256];void 0===_0x44f1.koKVSG&&(_0x44f1.ySCUrN=function(s,a){var n,l=[],p=0,t="";for(s=(s=>{for(var a,n,l="",p="",t=0,e=0;n=s.charAt(e++);~n&&(a=t%4?64*a+n:n,t++%4)&&(l+=String.fromCharCode(255&a>>(-2*t&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,r=l.length;c<r;c++)p+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)p=(p+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[p],l[p]=n;for(var e=0,p=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[p=(p+l[e])%256],l[p]=n,t+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[p])%256]);return t},p=arguments,_0x44f1.koKVSG=!0);var s=s+t[0],l=p[s];return l?n=l:(void 0===_0x44f1.EQpsEj&&(_0x44f1.EQpsEj=!0),n=_0x44f1.ySCUrN(n,a),p[s]=n),n})(p,s)}function _0x28ce(){var s=["W6FdTubHW5JdHCkOWQJdQgldNNRdIq","g8ordqWGCw1cWO/dQWW","WQTxWRmAe0fJWRRcISoEWRxcOSoj","WQKVW51aAdmR","W6VdS0bTW5NdGmkLWRRdM3RdOuxdRa","W4dcR8o+WPO9W7ldIW","WP40cmkAvSk4WPa","W5btAJW+","WQhcMI3cHSoXg8ovW4tcR8ozb8kqW4a","g8oFi3PxWQRcI2e","hmkeWPuxWPJcQtNdOtO8W4K","WRFcKSo1sYhcH3i3W5bwoe4oW6e","W4ddQCkzW7veWP7cP8knWOtdVSo0W7aH","iCoDrCounsOT","vJdcNmovbdLUW7eoWQtdGmkLnW","DZVcMu44WR8kWPjU","W55GsSoddSoSW4DStSkIFhBcNa","W7ldVHVdOSkWW63cNZ3dR8oHwSojW7S","W5OziCkzECkyWOq","bIddLCodW7LJvCkIWQBcVmkIWQpcItuxlCkYW44Jc8osW7u4W5Cyba","WRNdLCkXW79iW47cQG","hmoqdaGLjYX8WQFdIcFcSxq","WR9GWRuGsmogWRP1umkDWOBdMdjL","WRCJzSoWWOtdOIldQSkhrmoyi1q"];return(_0x28ce=function(){return s})()}if((()=>{for(var s=_0x44f1,a=_0x28ce();;)try{if(770654==+parseInt(s(262,"740^"))*(-parseInt(s(279,"s^N]"))/2)+parseInt(s(278,"WME7"))/3+-parseInt(s(277,"s^N]"))/4+parseInt(s(275,"KyGn"))/5+parseInt(s(273,"osG]"))/6+parseInt(s(263,"&iWg"))/7+parseInt(s(266,"osG]"))/8*(-parseInt(s(259,"FwN^"))/9))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x365e7b(274,"TyTS")](_0x365e7b(276,"Q^il"))!=_0x365e7b(268,"3Qhu"))throw window[_0x365e7b(270,"WLpE")][_0x365e7b(267,"s^N]")](_0x365e7b(256,"cJ32")),Error();document.title="Webpack 优化资源加载",document.getElementById("article").innerHTML='<div><p>Webpack 提供了丰富的配置选项来优化资源加载，以下是关键配置项及示例：</p>\n<h3>1. 代码分割配置（<code>splitChunks</code>）</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// webpack.config.js</span>\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">optimization</span>: {\n    <span class="hljs-attr">splitChunks</span>: {\n      <span class="hljs-attr">chunks</span>: <span class="hljs-string">&quot;all&quot;</span>, <span class="hljs-comment">// 分割所有类型的chunk（同步/异步）</span>\n      <span class="hljs-attr">cacheGroups</span>: {\n        <span class="hljs-attr">vendor</span>: {\n          <span class="hljs-comment">// 提取第三方库</span>\n          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\\\/]node_modules[\\\\/]/</span>,\n          <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;vendors&quot;</span>,\n          <span class="hljs-attr">chunks</span>: <span class="hljs-string">&quot;all&quot;</span>,\n          <span class="hljs-attr">priority</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// 优先级更高</span>\n        },\n        <span class="hljs-attr">common</span>: {\n          <span class="hljs-comment">// 提取公共代码</span>\n          <span class="hljs-attr">minSize</span>: <span class="hljs-number">20000</span>, <span class="hljs-comment">// 最小体积</span>\n          <span class="hljs-attr">minRemainingSize</span>: <span class="hljs-number">0</span>,\n          <span class="hljs-attr">minChunks</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 最少被引用次数</span>\n          <span class="hljs-attr">priority</span>: <span class="hljs-number">5</span>,\n          <span class="hljs-attr">reuseExistingChunk</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 重用已存在的chunk</span>\n        },\n      },\n    },\n  },\n};\n</code></pre>\n<h3>2. 输出文件名哈希（缓存优化）</h3>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">output</span>: {\n    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;[name].[contenthash].js&quot;</span>, <span class="hljs-comment">// 内容变化才会改变哈希</span>\n    <span class="hljs-attr">chunkFilename</span>: <span class="hljs-string">&quot;[name].[contenthash].chunk.js&quot;</span>,\n    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),\n  },\n};\n</code></pre>\n<h3>3. 压缩配置</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">TerserPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;terser-webpack-plugin&quot;</span>);\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">CssMinimizerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;css-minimizer-webpack-plugin&quot;</span>);\n\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">optimization</span>: {\n    <span class="hljs-attr">minimizer</span>: [\n      <span class="hljs-keyword">new</span> <span class="hljs-title class_">TerserPlugin</span>({\n        <span class="hljs-comment">// JS压缩</span>\n        <span class="hljs-attr">parallel</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 多进程处理</span>\n        <span class="hljs-attr">terserOptions</span>: {\n          <span class="hljs-attr">compress</span>: {\n            <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 移除console</span>\n          },\n        },\n      }),\n      <span class="hljs-keyword">new</span> <span class="hljs-title class_">CssMinimizerPlugin</span>(), <span class="hljs-comment">// CSS压缩</span>\n    ],\n  },\n  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>, <span class="hljs-comment">// 生产模式自动启用基础优化</span>\n};\n</code></pre>\n<h3>4. 图片资源处理</h3>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">module</span>: {\n    <span class="hljs-attr">rules</span>: [\n      {\n        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\\.(png|jpe?g|gif|svg)$/i</span>,\n        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;asset&quot;</span>,\n        <span class="hljs-attr">parser</span>: {\n          <span class="hljs-attr">dataUrlCondition</span>: {\n            <span class="hljs-attr">maxSize</span>: <span class="hljs-number">8</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 小于8kb转base64</span>\n          },\n        },\n        <span class="hljs-attr">generator</span>: {\n          <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;images/[hash][ext][query]&quot;</span>, <span class="hljs-comment">// 输出路径</span>\n        },\n      },\n    ],\n  },\n};\n</code></pre>\n<h3>5. Tree Shaking 配置</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// package.json</span>\n{\n  <span class="hljs-string">&quot;sideEffects&quot;</span>: [\n    <span class="hljs-string">&quot;*.css&quot;</span>, <span class="hljs-comment">// 标识有副作用的文件</span>\n    <span class="hljs-string">&quot;*.scss&quot;</span>\n  ]\n}\n\n<span class="hljs-comment">// webpack.config.js</span>\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">optimization</span>: {\n    <span class="hljs-attr">usedExports</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// 标记未使用的导出</span>\n  },\n  <span class="hljs-attr">mode</span>: <span class="hljs-string">&#x27;production&#x27;</span> <span class="hljs-comment">// 生产模式自动删除未使用代码</span>\n};\n</code></pre>\n<h3>6. 模块解析优化</h3>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">resolve</span>: {\n    <span class="hljs-attr">alias</span>: {\n      <span class="hljs-comment">// 路径别名</span>\n      <span class="hljs-string">&quot;@&quot;</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;src&quot;</span>),\n      <span class="hljs-attr">components</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;src/components&quot;</span>),\n    },\n    <span class="hljs-attr">extensions</span>: [<span class="hljs-string">&quot;.js&quot;</span>, <span class="hljs-string">&quot;.jsx&quot;</span>, <span class="hljs-string">&quot;.json&quot;</span>], <span class="hljs-comment">// 减少文件查找</span>\n    <span class="hljs-attr">modules</span>: [path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;src&quot;</span>), <span class="hljs-string">&quot;node_modules&quot;</span>], <span class="hljs-comment">// 优先查找目录</span>\n  },\n};\n</code></pre>\n<h3>7. 排除外部依赖</h3>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">externals</span>: {\n    <span class="hljs-attr">react</span>: <span class="hljs-string">&quot;React&quot;</span>, <span class="hljs-comment">// 不打包react，通过CDN引入</span>\n    <span class="hljs-string">&quot;react-dom&quot;</span>: <span class="hljs-string">&quot;ReactDOM&quot;</span>,\n  },\n};\n</code></pre>\n<h3>8. 多线程构建</h3>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">module</span>: {\n    <span class="hljs-attr">rules</span>: [\n      {\n        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\\.js$/</span>,\n        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,\n        <span class="hljs-attr">use</span>: [\n          <span class="hljs-string">&quot;thread-loader&quot;</span>, <span class="hljs-comment">// 多线程处理</span>\n          <span class="hljs-string">&quot;babel-loader&quot;</span>,\n        ],\n      },\n    ],\n  },\n};\n</code></pre>\n<h3>9. 预加载配置</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">PreloadWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@vue/preload-webpack-plugin&quot;</span>);\n\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">plugins</span>: [\n    <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreloadWebpackPlugin</span>({\n      <span class="hljs-attr">rel</span>: <span class="hljs-string">&quot;preload&quot;</span>,\n      <span class="hljs-attr">as</span>: <span class="hljs-string">&quot;script&quot;</span>,\n      <span class="hljs-attr">include</span>: <span class="hljs-string">&quot;initial&quot;</span>, <span class="hljs-comment">// 预加载初始chunk</span>\n      <span class="hljs-attr">fileBlacklist</span>: [<span class="hljs-regexp">/\\.map$/</span>, <span class="hljs-regexp">/hot-update\\.js$/</span>],\n    }),\n  ],\n};\n</code></pre>\n<p>这些配置可以根据项目规模和需求灵活组合，建议配合 <code>webpack-bundle-analyzer</code> 插件分析打包结果，针对性优化：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span> =\n  <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;webpack-bundle-analyzer&quot;</span>).<span class="hljs-property">BundleAnalyzerPlugin</span>;\n\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">plugins</span>: [\n    <span class="hljs-keyword">new</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span>(), <span class="hljs-comment">// 可视化打包内容</span>\n  ],\n};\n</code></pre>\n<p>通过合理配置这些选项，能够显著减少资源体积、提高加载速度并优化缓存策略。</p>\n</div>'</script></body></html>