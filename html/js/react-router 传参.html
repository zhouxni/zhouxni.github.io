<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x284292=_0x4454;function _0x4454(p,s){var t=_0x2b42();return(_0x4454=function(s,a){var n=t[s-=461];void 0===_0x4454.RadvSY&&(_0x4454.SWFeMS=function(s,a){var n,l=[],p=0,t="";for(s=(s=>{for(var a,n,l="",p="",t=0,c=0;n=s.charAt(c++);~n&&(a=t%4?64*a+n:n,t++%4)&&(l+=String.fromCharCode(255&a>>(-2*t&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var r=0,e=l.length;r<e;r++)p+="%"+("00"+l.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(p)})(s),c=0;c<256;c++)l[c]=c;for(c=0;c<256;c++)p=(p+l[c]+a.charCodeAt(c%a.length))%256,n=l[c],l[c]=l[p],l[p]=n;for(var c=0,p=0,r=0;r<s.length;r++)n=l[c=(c+1)%256],l[c]=l[p=(p+l[c])%256],l[p]=n,t+=String.fromCharCode(s.charCodeAt(r)^l[(l[c]+l[p])%256]);return t},p=arguments,_0x4454.RadvSY=!0);var s=s+t[0],l=p[s];return l?n=l:(void 0===_0x4454.EmNDiW&&(_0x4454.EmNDiW=!0),n=_0x4454.SWFeMS(n,a),p[s]=n),n})(p,s)}if((()=>{for(var s=_0x4454,a=_0x2b42();;)try{if(909851==+parseInt(s(463,"SWm8"))*(parseInt(s(473,"$bd*"))/2)+parseInt(s(485,"SWm8"))/3+-parseInt(s(482,"IxZJ"))/4*(parseInt(s(462,"WqJ2"))/5)+-parseInt(s(471,"L0zN"))/6*(-parseInt(s(478,"L0zN"))/7)+parseInt(s(479,"f2pF"))/8*(-parseInt(s(483,"WqJ2"))/9)+-parseInt(s(480,"L0zN"))/10+parseInt(s(467,"#Y1u"))/11*(-parseInt(s(474,"&]^%"))/12))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x284292(464,"wGqc")](_0x284292(487,"KVp3"))!=_0x284292(481,"B(*!"))throw window[_0x284292(470,"qUwo")][_0x284292(461,"f2pF")](_0x284292(486,"wlTE")),Error();function _0x2b42(){var s=["xZBcJrSTDmkal8oiWR47","W5ldG8khWQKnWPFcSa7dTq","iKrNrfGtqYFdKq0","ymofaMBcOIqrWP1ViW/dImk0","W53dJWRcJ8k3W5BcKsW","bmkeW6FcIWToqa","W5pdJvhdQmoFWQpdPZJcIN7dI8oIWOO","WRNcQSk+WQ5B","W6VcQf/dPSoeBKpdJ8khsG5D","W4OldJTtWO59WQxdSNBdISkvaG","W6reWRCOASoBc8oDW4bclKi","W6pcN8krWRpdQqNcU8k7WOBdSHFdGq","W7ZcICkbW4zLW7ZcGxNdP8onD3VdTmoko1xcRfhdOmo3WOa/vJBcPq0","WOutWP7dNCk6WQ7cU8kpBW","WOVcMLHBWPzqW7H+yZnhBgO","W5/cGIlcRCkxW6xcUq","tSkVW7VcNGfyrG","W41bFh0qW4yQ","W63cNCkrW5pcTgNcHCk0WRS","WPGrrmkpWQtdR3G","W77dQmkUWO54WQDrWRi","WRVdPWFcTSo6WQ7dUG","WOZcNfvFW60pWQHjtbS","ugZdMrNdQCo1W4CgW6FdLtL3","WRhcKv/dT8kPWOJdUguFW7bI","WRatW6b6lmkahCoQ","W5ldGf3dR8oFWQBcRJhcJexdQCoD","W4tdVb4EWPLkWPvAW5/dMG","xNNdTHpcPSofWORcTf/cIq"];return(_0x2b42=function(){return s})()}document.title="react-router 传参",document.getElementById("article").innerHTML='<div><p>在 <code>react-router-dom</code> 中，传参主要有以下几种方式：</p>\n<h3>1. <strong>URL 参数（动态路由参数）</strong></h3>\n<ul>\n<li><strong>定义路由</strong>  ：在路由路径中使用 <code>:</code> 来定义动态参数。<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Switch</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-title class_">UserProfile</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./UserProfile&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/user/:id&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{UserProfile}</span> /&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>\n  );\n}\n</code></pre>\n</li>\n<li><strong>访问参数</strong>  ：在目标组件中，使用 <code>useParams</code> Hook 来访问动态路由参数。<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> { id } = <span class="hljs-title function_">useParams</span>();\n  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>User ID: {id}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n}\n</code></pre>\n</li>\n</ul>\n<h3>2. <strong>查询参数</strong></h3>\n<ul>\n<li><strong>定义路由</strong>  ：无需在路径中定义参数，直接使用普通路径。<pre><code class="language-jsx">&lt;<span class="hljs-title class_">Route</span> path=<span class="hljs-string">&quot;/search&quot;</span> component={<span class="hljs-title class_">SearchResults</span>} /&gt;\n</code></pre>\n</li>\n<li><strong>传递参数</strong>  ：通过 <code>Link</code> 组件或编程式导航传递查询参数。<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchForm</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = (<span class="hljs-params">query</span>) =&gt; {\n    <span class="hljs-comment">// 编程式导航传递查询参数</span>\n    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">`/search?query=<span class="hljs-subst">${query}</span>`</span>);\n  };\n\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> handleSearch(e.target.value)} /&gt;\n      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/search?query=react&quot;</span>&gt;</span>Search for React<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n  );\n}\n</code></pre>\n</li>\n<li><strong>访问参数</strong>  ：在目标组件中，使用 <code>useLocation</code> Hook 结合 <code>URLSearchParams</code> 来访问查询参数。<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { useLocation } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchResults</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();\n  <span class="hljs-keyword">const</span> searchParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(location.<span class="hljs-property">search</span>);\n  <span class="hljs-keyword">const</span> query = searchParams.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;query&#x27;</span>);\n  <span class="hljs-comment">// const [searchParams, setSearchParams] = useSearchParams();</span>\n\n  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Search Results for: {query}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n}\n</code></pre>\n</li>\n</ul>\n<h3>3. <strong>状态（state）参数</strong></h3>\n<ul>\n<li><strong>传递参数</strong>  ：通过 <code>Link</code> 组件或编程式导航传递状态参数。状态参数不会显示在 URL 中。<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span>, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();\n\n  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">&#x27;/about&#x27;</span>, { <span class="hljs-attr">state</span>: { <span class="hljs-attr">fromHome</span>: <span class="hljs-literal">true</span> } });\n  };\n\n  <span class="hljs-keyword">return</span> (\n    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">state</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">fromHome:</span> <span class="hljs-attr">true</span> }}&gt;</span>Go to About<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>Go to About Programmatically<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n  );\n}\n</code></pre>\n</li>\n<li><strong>访问参数</strong>  ：在目标组件中，使用 <code>useLocation</code> Hook 来访问状态参数。<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { useLocation } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">About</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();\n  <span class="hljs-keyword">const</span> fromHome = location.<span class="hljs-property">state</span>?.<span class="hljs-property">fromHome</span>;\n\n  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{fromHome ? &#x27;Visited from Home&#x27; : &#x27;Not from Home&#x27;}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n}\n</code></pre>\n</li>\n</ul>\n<br/>\n<h3><strong>总结</strong></h3>\n<ul>\n<li><strong>URL 参数</strong>  ：适合传递简单的、不敏感的数据，如用户 ID。</li>\n<li><strong>查询参数</strong>  ：适合传递多个参数，但数据会暴露在 URL 中。</li>\n<li><strong>状态参数</strong>  ：适合传递复杂的数据结构或敏感信息，数据不会暴露在 URL 中。</li>\n</ul>\n<p>根据具体的应用场景和安全需求，选择合适的传参方式。</p>\n</div>'</script></body></html>