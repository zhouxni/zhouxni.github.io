<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x88db(t,s){var e=_0xf656();return(_0x88db=function(s,n){var a=e[s-=485];void 0===_0x88db.XNoLPa&&(_0x88db.PptCav=function(s,n){var a,l=[],t=0,e="";for(s=(s=>{for(var n,a,l="",t="",e=0,o=0;a=s.charAt(o++);~a&&(n=e%4?64*n+a:a,e++%4)&&(l+=String.fromCharCode(255&n>>(-2*e&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,p=l.length;c<p;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),o=0;o<256;o++)l[o]=o;for(o=0;o<256;o++)t=(t+l[o]+n.charCodeAt(o%n.length))%256,a=l[o],l[o]=l[t],l[t]=a;for(var o=0,t=0,c=0;c<s.length;c++)a=l[o=(o+1)%256],l[o]=l[t=(t+l[o])%256],l[t]=a,e+=String.fromCharCode(s.charCodeAt(c)^l[(l[o]+l[t])%256]);return e},t=arguments,_0x88db.XNoLPa=!0);var s=s+e[0],l=t[s];return l?a=l:(void 0===_0x88db.zncuGR&&(_0x88db.zncuGR=!0),a=_0x88db.PptCav(a,n),t[s]=a),a})(t,s)}var _0x74f49b=_0x88db;function _0xf656(){var s=["xMHjW6BcO8oUxI/cPqJcHSow","W74wW5VdIar2yZ5wrK3cJwG","WPJcTCknW6NdVmornb80W6PyqwS","W43dGxmpz8o3W7G","cu3cIMrjFg7cH8kOEX5m","wCooWQVcLmkXWOvIdsVcU8ojBe4","W4qjWQhdQmoCvJxdS03cQCoEW7KW","W5feW4xcMCk0","DCoDW5xcSCoLWRL0zW","W5NcRSk3A1hdSHbJca","W4j6wCk9WOKSkW","o8kyWQPwWQvuDh0jm8kpjq","lXPvFKexW6igW4PlvYbn","deVcJ2DoFsVcN8kIEXHroq","lGuJcH/cLKZdGbhdQtldHmkW","D8kRF8k2EXOm","WOz7xCk6W6X8WOxcPGddGheig8kfc8kGWRTgW4xcPI7cJSk6BXqK","kSo5W5bdWQxdKCkECIxcKfa6FW","W4ejWQldR8oyudFdKwZcKCoPW58v","WOmVgmoGW51/imkQWQRcPapcSq","kNaNmsLsWOe","xgbmW67cPCoUaJNcOGJcNmo8fW"];return(_0xf656=function(){return s})()}if((()=>{for(var s=_0x88db,n=_0xf656();;)try{if(903676==+parseInt(s(488,")yfC"))+-parseInt(s(486,"AbI9"))/2+-parseInt(s(499,"X&#Y"))/3*(-parseInt(s(489,"t^pI"))/4)+-parseInt(s(506,"uFO6"))/5+-parseInt(s(505,"uFO6"))/6+parseInt(s(501,"RI1j"))/7+parseInt(s(497,")yfC"))/8)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x74f49b(487,"XLc^")](_0x74f49b(493,"&drw"))!=_0x74f49b(491,"Rpf6"))throw window[_0x74f49b(492,"NdlV")][_0x74f49b(494,"xEkO")](_0x74f49b(500,"I]Jy")),Error();document.title="事件绑定 addEventListener",document.getElementById("article").innerHTML='<div><p><code>addEventListener</code> 是 JavaScript 中用于向指定的事件目标（如 HTML 元素、<code>document</code>、<code>window</code> 等）注册事件监听器的方法。通过 <code>addEventListener</code>，你可以监听特定事件（如点击、键盘输入、鼠标移动等）的发生，并在事件触发时执行相应的回调函数。</p>\n<hr>\n<h3><strong>基本语法</strong></h3>\n<pre><code class="language-javascript">target.<span class="hljs-title function_">addEventListener</span>(type, listener, options);\n</code></pre>\n<ul>\n<li><strong><code>target</code></strong>  ：事件目标，即你希望监听事件的元素或对象。</li>\n<li><strong><code>type</code></strong>  ：事件类型，是一个字符串，表示要监听的事件名称（如 <code>&quot;click&quot;</code>、<code>&quot;keydown&quot;</code>、<code>&quot;mouseover&quot;</code> 等）。</li>\n<li><strong><code>listener</code></strong>  ：事件处理函数，即当事件触发时要执行的函数。</li>\n<li><strong><code>options</code></strong>  （可选）：一个对象或布尔值，用于指定事件监听的选项。</li>\n</ul>\n<hr>\n<h3><strong>参数详解</strong></h3>\n<ol>\n<li><strong><code>type</code>（事件类型）</strong>\n<ul>\n<li>常见事件类型包括：\n<ul>\n<li><strong>鼠标事件</strong>  ：<code>&quot;click&quot;</code>、<code>&quot;dblclick&quot;</code>、<code>&quot;mousedown&quot;</code>、<code>&quot;mouseup&quot;</code>、<code>&quot;mousemove&quot;</code>、<code>&quot;mouseover&quot;</code>、<code>&quot;mouseout&quot;</code> 等。</li>\n<li><strong>键盘事件</strong>  ：<code>&quot;keydown&quot;</code>、<code>&quot;keyup&quot;</code>、<code>&quot;keypress&quot;</code> 等。</li>\n<li><strong>表单事件</strong>  ：<code>&quot;submit&quot;</code>、<code>&quot;focus&quot;</code>、<code>&quot;blur&quot;</code>、<code>&quot;change&quot;</code>、<code>&quot;input&quot;</code> 等。</li>\n<li><strong>其他事件</strong>  ：<code>&quot;load&quot;</code>、<code>&quot;unload&quot;</code>、<code>&quot;resize&quot;</code>、<code>&quot;scroll&quot;</code> 等。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong><code>listener</code>（事件处理函数）</strong>\n<ul>\n<li>当指定的事件类型在目标元素上触发时，会调用该函数。</li>\n<li>函数接收一个事件对象作为参数，该对象包含了事件的相关信息。</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params">event</span>) {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Element clicked!&#x27;</span>);\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event); <span class="hljs-comment">// 输出事件对象</span>\n}\n</code></pre>\n</li>\n<li><strong><code>options</code>（可选参数）</strong>\n<ul>\n<li>可以是一个布尔值或对象：\n<ul>\n<li><strong>布尔值</strong>  ：如果为 <code>true</code>，则表示在捕获阶段调用监听器；如果为 <code>false</code>（默认值），则在冒泡阶段调用。</li>\n<li><strong>对象</strong>  ：可以包含以下属性：\n<ul>\n<li><strong><code>capture</code></strong>  ：布尔值，指定是否在捕获阶段触发监听器。</li>\n<li><strong><code>once</code></strong>  ：布尔值，指定监听器是否只触发一次，然后自动移除。</li>\n<li><strong><code>passive</code></strong>  ：布尔值，指定监听器不会调用 <code>preventDefault()</code>，有助于提升滚动性能。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code class="language-javascript">element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, handleClick, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> }); <span class="hljs-comment">// 只触发一次</span>\n</code></pre>\n</li>\n</ol>\n<hr>\n<h3><strong>使用示例</strong></h3>\n<h4><strong>1. 基本用法</strong></h4>\n<pre><code class="language-html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>addEventListener 示例<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myButton&quot;</span>&gt;</span>点击我<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n\n  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n    <span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;myButton&#x27;</span>);\n\n    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>) {\n      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;按钮被点击了！&#x27;</span>);\n    }\n\n    button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, handleClick);\n  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>\n</code></pre>\n<h4><strong>2. 使用事件对象</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`鼠标点击位置：(<span class="hljs-subst">${event.clientX}</span>, <span class="hljs-subst">${event.clientY}</span>)`</span>);\n});\n</code></pre>\n<h4><strong>3. 移除事件监听器</strong></h4>\n<ul>\n<li>使用 <code>removeEventListener</code> 方法可以移除之前添加的事件监听器。</li>\n<li><strong>注意</strong>  ：移除监听器时，传入的函数引用必须与添加时相同。</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;按钮被点击了！&#x27;</span>);\n}\n\n<span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;myButton&#x27;</span>);\nbutton.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, handleClick);\n\n<span class="hljs-comment">// 稍后移除监听器</span>\nbutton.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, handleClick);\n</code></pre>\n<h4><strong>4. 使用 <code>once</code> 选项</strong></h4>\n<pre><code class="language-javascript">button.<span class="hljs-title function_">addEventListener</span>(\n  <span class="hljs-string">&#x27;click&#x27;</span>,\n  <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;这个提示只会显示一次！&#x27;</span>);\n  },\n  { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> }\n);\n</code></pre>\n<hr>\n<h3><strong>注意事项</strong></h3>\n<ol>\n<li><strong>事件冒泡与捕获</strong>\n<ul>\n<li><strong>冒泡阶段</strong>  ：事件从目标元素开始，逐级向上传播到 <code>document</code> 对象。</li>\n<li><strong>捕获阶段</strong>  ：事件从 <code>document</code> 对象开始，逐级向下传播到目标元素。</li>\n<li>默认情况下，<code>addEventListener</code> 在冒泡阶段触发监听器。</li>\n</ul>\n</li>\n<li><strong>事件委托</strong>\n<ul>\n<li>利用事件冒泡，可以在父元素上监听子元素的事件，减少事件监听器的数量。</li>\n<li>适用于动态添加或删除的子元素。</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#parentElement&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {\n  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">target</span>.<span class="hljs-title function_">matches</span>(<span class="hljs-string">&#x27;.childElement&#x27;</span>)) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;子元素被点击了！&#x27;</span>);\n  }\n});\n</code></pre>\n</li>\n<li><strong>内存管理</strong>\n<ul>\n<li>当不再需要事件监听器时，应及时移除，以防止内存泄漏。</li>\n<li>特别是在单页应用中，组件销毁时应清理事件监听器。</li>\n</ul>\n</li>\n<li><strong><code>this</code> 的指向</strong>\n<ul>\n<li>在事件处理函数中，<code>this</code> 默认指向当前绑定事件的元素。</li>\n<li>如果使用箭头函数，<code>this</code> 的指向将遵循词法作用域规则，可能指向外部作用域的 <code>this</code>。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3><strong>常见问题</strong></h3>\n<ol>\n<li><strong>如何为同一个元素的同一个事件添加多个监听器？</strong>\n<ul>\n<li>可以多次调用 <code>addEventListener</code>，每个监听器都会独立触发。</li>\n</ul>\n</li>\n<li><strong>如何防止事件默认行为？</strong>\n<ul>\n<li>在事件处理函数中调用 <code>event.preventDefault()</code>。</li>\n</ul>\n</li>\n<li><strong>如何停止事件传播？</strong>\n<ul>\n<li>调用 <code>event.stopPropagation()</code> 停止冒泡或捕获。</li>\n<li>调用 <code>event.stopImmediatePropagation()</code> 阻止当前元素上剩余监听器的执行，并停止冒泡或捕获。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3><strong>总结</strong></h3>\n<ul>\n<li><strong><code>addEventListener</code></strong>   是 JavaScript 中注册事件监听器的标准方法，提供了灵活的事件处理方式。</li>\n<li><strong>关键参数</strong>  ：事件类型、处理函数、选项（如捕获阶段、一次性触发等）。</li>\n<li><strong>注意事项</strong>  ：事件冒泡与捕获、事件委托、内存管理、<code>this</code> 的指向。</li>\n<li><strong>最佳实践</strong>  ：合理使用事件委托，及时移除不再需要的事件监听器，防止内存泄漏。</li>\n</ul>\n</div>'</script></body></html>