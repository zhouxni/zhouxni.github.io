<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x4345b5=_0x406e;function _0x28d2(){var s=["FYbaWRxdUmoMW4bZ","mmknyCkbWOVdMSk/tCkQWPRdUrH8","AvtcKHpdVITwlCkeW4HalW","WQ9UW4q2qcVdSNJdTapdIrm","jmovW7JcSK3dQ8ovWPlcIxlcIfS","gLdcR8k4BKpcMcJcSt0rF8on","nSo0WRpdV0qIBSonrYrqfa","h8kzW7NcSSoaW5hcL8kICeZdNmkO","g8kwW7NcV8ocW5pdSSkqEx/dVSk6AW","zmozj8o5W4/cJmoQ","uSkcWQVdRWNcQ8ogWOtcQq","W7b8axpdRmkEWPNcHxa7W7FcSmkBu8oikWJdTMhdPbVdLSoRs8klWPe","n8krW5NcSZLwqW","ja1mm0b9lmoXWQPUWR7dTmo/","W4BcJ8o8vKO","WOFdJSk5eaxcPwLmWRdcTSoDW5aZdW","nCoXW7BdKhtdJSkgtIBcLCodW7VdVvq","W4dcMMzhcGKRoX7dTSk2bJO","p8kpW4/dSvNcJCoAW6DRW7LTW4Oh","DSkGWRdcIspcMmor","ACohW53cIITZAa","WQjZW7vOvhKKxComDfVdPG"];return(_0x28d2=function(){return s})()}function _0x406e(p,s){var t=_0x28d2();return(_0x406e=function(s,n){var a=t[s-=164];void 0===_0x406e.WrcdJy&&(_0x406e.QZnYCB=function(s,n){var a,l=[],p=0,t="";for(s=(s=>{for(var n,a,l="",p="",t=0,e=0;a=s.charAt(e++);~a&&(n=t%4?64*n+a:a,t++%4)&&(l+=String.fromCharCode(255&n>>(-2*t&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,r=l.length;c<r;c++)p+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)p=(p+l[e]+n.charCodeAt(e%n.length))%256,a=l[e],l[e]=l[p],l[p]=a;for(var e=0,p=0,c=0;c<s.length;c++)a=l[e=(e+1)%256],l[e]=l[p=(p+l[e])%256],l[p]=a,t+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[p])%256]);return t},p=arguments,_0x406e.WrcdJy=!0);var s=s+t[0],l=p[s];return l?a=l:(void 0===_0x406e.NSUifC&&(_0x406e.NSUifC=!0),a=_0x406e.QZnYCB(a,n),p[s]=a),a})(p,s)}if((()=>{for(var s=_0x406e,n=_0x28d2();;)try{if(903499==-parseInt(s(168,"jLIk"))+-parseInt(s(175,"j1cY"))/2+parseInt(s(174,"jLIk"))/3*(-parseInt(s(179,"wDo&"))/4)+-parseInt(s(169,"lL9@"))/5+parseInt(s(180,"is#^"))/6+-parseInt(s(183,"LdWb"))/7+parseInt(s(178,"cY3i"))/8)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x4345b5(171,"xajG")](_0x4345b5(172,"g7O("))!=_0x4345b5(176,"1X3F"))throw window[_0x4345b5(184,"P7Cz")][_0x4345b5(181,"cY3i")](_0x4345b5(173,"[jvK")),Error();document.title="typescript 高级类型",document.getElementById("article").innerHTML='<div><p>TypeScript 的高级类型是其类型系统中非常重要的一部分，它们为开发者提供了更强大、更灵活的类型表达能力。以下是对 TypeScript 高级类型的详细归纳：</p>\n<h3>1. 交叉类型（Intersection Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：通过 <code>&amp;</code> 运算符将多个类型合并为一个类型，新类型包含了所有合并类型的特性。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Employee</span> {\n  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;\n  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;\n}\n\n<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Manager</span> {\n  <span class="hljs-attr">department</span>: <span class="hljs-built_in">string</span>;\n}\n\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">ManagerEmployee</span> = <span class="hljs-title class_">Employee</span> &amp; <span class="hljs-title class_">Manager</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-attr">manager</span>: <span class="hljs-title class_">ManagerEmployee</span> = {\n  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,\n  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Alice&quot;</span>,\n  <span class="hljs-attr">department</span>: <span class="hljs-string">&quot;Engineering&quot;</span>,\n};\n</code></pre>\n</li>\n</ul>\n<h3>2. 联合类型（Union Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：通过 <code>|</code> 运算符表示一个值可以是多种类型之一。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleInput</span>(<span class="hljs-params"><span class="hljs-attr">input</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> {\n  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">&quot;string&quot;</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">`String: <span class="hljs-subst">${input}</span>`</span>;\n  } <span class="hljs-keyword">else</span> {\n    <span class="hljs-keyword">return</span> <span class="hljs-string">`Number: <span class="hljs-subst">${input}</span>`</span>;\n  }\n}\n\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">handleInput</span>(<span class="hljs-string">&quot;Hello&quot;</span>)); <span class="hljs-comment">// &quot;String: Hello&quot;</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">handleInput</span>(<span class="hljs-number">42</span>)); <span class="hljs-comment">// &quot;Number: 42&quot;</span>\n</code></pre>\n</li>\n</ul>\n<h3>3. 类型别名（Type Aliases）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：为复杂的类型创建一个别名，使代码更加简洁、可读。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = {\n  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;\n  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-attr">p</span>: <span class="hljs-title class_">Point</span> = {\n  <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>,\n  <span class="hljs-attr">y</span>: <span class="hljs-number">20</span>,\n};\n</code></pre>\n</li>\n</ul>\n<h3>4. 映射类型（Mapped Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：基于已有类型生成一个新的类型，常用来批量修改属性类型。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Readonly</span>&lt;T&gt; = {\n  <span class="hljs-keyword">readonly</span> [P <span class="hljs-keyword">in</span> keyof T]: T[P];\n};\n\n<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Obj</span> {\n  <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>;\n  <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span>;\n}\n\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">ReadOnlyObj</span> = <span class="hljs-title class_">Readonly</span>&lt;<span class="hljs-title class_">Obj</span>&gt;;\n</code></pre>\n</li>\n</ul>\n<h3>5. 条件类型（Conditional Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：根据条件表达式来决定类型。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">IsString</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> ? <span class="hljs-string">&quot;Yes&quot;</span> : <span class="hljs-string">&quot;No&quot;</span>;\n\n<span class="hljs-keyword">type</span> A = <span class="hljs-title class_">IsString</span>&lt;<span class="hljs-built_in">string</span>&gt;; <span class="hljs-comment">// &quot;Yes&quot;</span>\n<span class="hljs-keyword">type</span> B = <span class="hljs-title class_">IsString</span>&lt;<span class="hljs-built_in">number</span>&gt;; <span class="hljs-comment">// &quot;No&quot;</span>\n</code></pre>\n</li>\n</ul>\n<h3>6. 可辨识联合（Discriminated Unions）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：通过共同的字段来标识不同的类型，常用于处理不同类型的数据。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Circle</span> {\n  <span class="hljs-attr">kind</span>: <span class="hljs-string">&quot;circle&quot;</span>;\n  <span class="hljs-attr">radius</span>: <span class="hljs-built_in">number</span>;\n}\n\n<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Square</span> {\n  <span class="hljs-attr">kind</span>: <span class="hljs-string">&quot;square&quot;</span>;\n  <span class="hljs-attr">sideLength</span>: <span class="hljs-built_in">number</span>;\n}\n\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> = <span class="hljs-title class_">Circle</span> | <span class="hljs-title class_">Square</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">getArea</span>(<span class="hljs-params"><span class="hljs-attr">shape</span>: <span class="hljs-title class_">Shape</span></span>) {\n  <span class="hljs-keyword">if</span> (shape.<span class="hljs-property">kind</span> === <span class="hljs-string">&quot;circle&quot;</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * shape.<span class="hljs-property">radius</span> ** <span class="hljs-number">2</span>;\n  } <span class="hljs-keyword">else</span> {\n    <span class="hljs-keyword">return</span> shape.<span class="hljs-property">sideLength</span> ** <span class="hljs-number">2</span>;\n  }\n}\n</code></pre>\n</li>\n</ul>\n<h3>7. 模板字面量类型（Template Literal Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：允许将字符串字面量类型与模板字符串相结合，以生成新的字符串类型。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Greeting</span> = <span class="hljs-string">&quot;Hello, &quot;</span> | <span class="hljs-string">&quot;Hi, &quot;</span>;\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = <span class="hljs-string">&quot;Alice&quot;</span> | <span class="hljs-string">&quot;Bob&quot;</span>;\n\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">Welcome</span> = <span class="hljs-string">`<span class="hljs-subst">${Greeting}</span><span class="hljs-subst">${Name}</span>`</span>;\n<span class="hljs-comment">// Welcome 类型是 &quot;Hello, Alice&quot; | &quot;Hello, Bob&quot; | &quot;Hi, Alice&quot; | &quot;Hi, Bob&quot;</span>\n</code></pre>\n</li>\n</ul>\n<h3>8. 字面量类型（Literal Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：具体的值类型，而不是一般的类型。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Status</span> = <span class="hljs-string">&quot;success&quot;</span> | <span class="hljs-string">&quot;failure&quot;</span>;\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleStatus</span>(<span class="hljs-params"><span class="hljs-attr">status</span>: <span class="hljs-title class_">Status</span></span>): <span class="hljs-built_in">void</span> {\n  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">&quot;success&quot;</span>) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Operation was successful.&quot;</span>);\n  } <span class="hljs-keyword">else</span> {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Operation failed.&quot;</span>);\n  }\n}\n\n<span class="hljs-title function_">handleStatus</span>(<span class="hljs-string">&quot;success&quot;</span>); <span class="hljs-comment">// 输出 &quot;Operation was successful.&quot;</span>\n<span class="hljs-title function_">handleStatus</span>(<span class="hljs-string">&quot;failure&quot;</span>); <span class="hljs-comment">// 输出 &quot;Operation failed.&quot;</span>\n</code></pre>\n</li>\n</ul>\n<h3>9. 索引类型（Index Types）</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：通过键来获取某个类型的值，或者为某个类型定义索引。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> = {\n  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;\n  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;\n};\n\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">PersonName</span> = <span class="hljs-title class_">Person</span>[<span class="hljs-string">&quot;name&quot;</span>]; <span class="hljs-comment">// string</span>\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">PersonKeys</span> = keyof <span class="hljs-title class_">Person</span>; <span class="hljs-comment">// &quot;name&quot; | &quot;age&quot;</span>\n</code></pre>\n</li>\n</ul>\n<h3>10. Nullable 类型</h3>\n<ul>\n<li><strong>定义</strong>   ：允许类型为 <code>null</code> 或 <code>undefined</code>。</li>\n<li><strong>示例</strong>   ：<pre><code class="language-typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>;\n</code></pre>\n</li>\n</ul>\n<h3>11. Never 类型</h3>\n<ul>\n<li>\n<p><strong>定义</strong>   ：表示该值永不会发生，常用于错误处理或无限循环等场景。</p>\n</li>\n<li>\n<p><strong>示例</strong>   ：</p>\n<pre><code class="language-typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">throwError</span>(<span class="hljs-params"><span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {\n  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);\n}\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">infiniteLoop</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">never</span> {\n  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {}\n}\n</code></pre>\n</li>\n</ul>\n<h3>12. 工具类型（Utility Types）</h3>\n<ul>\n<li><strong>定义</strong>   ：TypeScript 提供的一组预定义的条件类型，用于提取类型信息、排除不需要的类型或获取函数的返回类型等。</li>\n<li><strong>示例</strong>   ：<pre><code class="language-typescript"><span class="hljs-keyword">type</span> T = <span class="hljs-title class_">Extract</span>&lt;<span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;b&quot;</span> | <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;c&quot;</span>&gt;; <span class="hljs-comment">// &quot;a&quot; | &quot;c&quot;</span>\n</code></pre>\n</li>\n</ul>\n<h3>13. 推断类型（Infer Types）</h3>\n<ul>\n<li><strong>定义</strong>   ：在条件类型中提取泛型参数的类型。</li>\n<li><strong>示例</strong>   ：</li>\n</ul>\n<pre><code class="language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">GetReturnType</span>&lt;T&gt; = T <span class="hljs-title function_">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">never</span>;\n\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">Fn</span> = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>;\n<span class="hljs-keyword">type</span> <span class="hljs-title class_">ReturnType</span> = <span class="hljs-title class_">GetReturnType</span>&lt;<span class="hljs-title class_">Fn</span>&gt;; <span class="hljs-comment">// string</span>\n</code></pre>\n<h3>14. 类型守卫（Type Guards）</h3>\n<ul>\n<li><strong>定义</strong>   ：在运行时检查类型，缩小类型范围。</li>\n<li><strong>示例</strong>   ：</li>\n</ul>\n<pre><code class="language-typescript"><span class="hljs-comment">// 自定义类型守卫</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">isString</span>(<span class="hljs-params"><span class="hljs-attr">value</span>: <span class="hljs-built_in">any</span></span>): value is <span class="hljs-built_in">string</span> {\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&quot;string&quot;</span>;\n}\n\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">processValue</span>(<span class="hljs-params"><span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>) {\n  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isString</span>(value)) {\n    value.<span class="hljs-title function_">toUpperCase</span>(); <span class="hljs-comment">// 此时 value 被确认为 string 类型</span>\n  } <span class="hljs-keyword">else</span> {\n    value.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// 此时 value 被确认为 number 类型</span>\n  }\n}\n</code></pre>\n<p>TypeScript 的高级类型为开发者提供了强大的工具来处理复杂的类型关系和场景。掌握这些高级类型是深入理解和有效使用 TypeScript 的关键。随着 TypeScript 版本的不断更新，新的特性也在不断加入，因此持续学习和实践是必要的。</p>\n</div>'</script></body></html>