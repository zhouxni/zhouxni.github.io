<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x3446(p,s){var t=_0x1f77();return(_0x3446=function(s,a){var n=t[s-=158];void 0===_0x3446.ysrGRy&&(_0x3446.DbCusl=function(s,a){var n,l=[],p=0,t="";for(s=(s=>{for(var a,n,l="",p="",t=0,c=0;n=s.charAt(c++);~n&&(a=t%4?64*a+n:n,t++%4)&&(l+=String.fromCharCode(255&a>>(-2*t&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var r=0,e=l.length;r<e;r++)p+="%"+("00"+l.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(p)})(s),c=0;c<256;c++)l[c]=c;for(c=0;c<256;c++)p=(p+l[c]+a.charCodeAt(c%a.length))%256,n=l[c],l[c]=l[p],l[p]=n;for(var c=0,p=0,r=0;r<s.length;r++)n=l[c=(c+1)%256],l[c]=l[p=(p+l[c])%256],l[p]=n,t+=String.fromCharCode(s.charCodeAt(r)^l[(l[c]+l[p])%256]);return t},p=arguments,_0x3446.ysrGRy=!0);var s=s+t[0],l=p[s];return l?n=l:(void 0===_0x3446.SOPKku&&(_0x3446.SOPKku=!0),n=_0x3446.DbCusl(n,a),p[s]=n),n})(p,s)}var _0x1c3a2a=_0x3446;if((()=>{for(var s=_0x3446,a=_0x1f77();;)try{if(381480==+parseInt(s(158,"tF*z"))*(-parseInt(s(167,"2nLM"))/2)+-parseInt(s(160,"AS)J"))/3+parseInt(s(171,"*^fz"))/4*(-parseInt(s(164,"Kh]j"))/5)+-parseInt(s(174,"OmDJ"))/6+parseInt(s(180,"^g72"))/7+-parseInt(s(165,"1u[w"))/8*(-parseInt(s(159,"Sqja"))/9)+parseInt(s(182,"KT4B"))/10)break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x1c3a2a(177,"zQ7D")](_0x1c3a2a(179,"azAt"))!=_0x1c3a2a(163,"AzC%"))throw window[_0x1c3a2a(170,"83GG")][_0x1c3a2a(166,"PUZQ")](_0x1c3a2a(162,"njm#")),Error();function _0x1f77(){var s=["W48HFCouEcn9i2egDvLQ","WO48fG46fuzBsH/dU8kMgmoutYJdGMuVW6ZdSmobaConxWK","WObsWOxcHYS","W5tcSSovora7WQK7W6TP","W7pcPCoJmqXfW5ZdRW","WO9UW6tdUSoKW53cRG","DuFcLbfYWPZcP8koW4iSsSkk","tmoUWPH1tSktiZ3dOIZcNsa","W4v8W4NdUCoUad/dJSkXba","WP8MWP3cQSoTjrJdHW","hG8UzmoCuCkNWOnVtq","W4f/W4NdUCkHEepdRSkQkmkgW4rO","W4e6WQVcHmoFdqm","e8o0ndZdHrvaWPG5W4xcSCofoG","W4T6W4/dUmkUFuFdS8krnmkGW6jS","WPBdQmkupSkFWR1uuCkcWPK","zszamCkYW4Kn","xgSivmkWywyxWOegW6HvpW","WPiaDL5DWPJdPYNcNq","cd5pW5RcMLLdxSkyD8kpkmor","FZVcTZ/dQ0ldJGlcGCkPW4LAtG","W6GDW73cNSoMhmkBWOpcVCoeW4mhhG","xraQW5NdLtah","FSkBswnXgSoCWPugW4pdKCkMWQe","ASoUW4Divx8WaKqJr8kFWRK"];return(_0x1f77=function(){return s})()}document.title="微信小程序实现直播功能",document.getElementById("article").innerHTML='<div><p>微信小程序实现直播功能需要使用微信官方提供的直播组件和相关 API。以下是实现直播功能的基本步骤和代码示例：</p>\n<h3>实现步骤</h3>\n<ol>\n<li>首先需要在微信公众平台开通直播权限</li>\n<li>使用小程序直播组件 <code>live-player</code> 和 <code>live-pusher</code></li>\n<li>集成相关的直播管理 API</li>\n</ol>\n<h3>代码实现</h3>\n<p>下面是一个基础的直播页面示例，包含直播推流和播放功能：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// live.js</span>\n<span class="hljs-title class_">Page</span>({\n  <span class="hljs-attr">data</span>: {\n    <span class="hljs-comment">// 直播地址 (实际项目中需要从服务器获取)</span>\n    <span class="hljs-attr">liveUrl</span>: <span class="hljs-string">&quot;&quot;</span>,\n    <span class="hljs-attr">pushUrl</span>: <span class="hljs-string">&quot;&quot;</span>,\n    <span class="hljs-comment">// 是否正在直播</span>\n    <span class="hljs-attr">isLiving</span>: <span class="hljs-literal">false</span>,\n    <span class="hljs-comment">// 是否静音</span>\n    <span class="hljs-attr">isMuted</span>: <span class="hljs-literal">false</span>,\n    <span class="hljs-comment">// 是否为主播</span>\n    <span class="hljs-attr">isAnchor</span>: <span class="hljs-literal">false</span>,\n    <span class="hljs-comment">// 组件实例</span>\n    <span class="hljs-attr">pusherContext</span>: <span class="hljs-literal">null</span>,\n    <span class="hljs-attr">playerContext</span>: <span class="hljs-literal">null</span>,\n  },\n\n  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) {\n    <span class="hljs-comment">// 初始化上下文</span>\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pusherContext</span> = wx.<span class="hljs-title function_">createLivePusherContext</span>(<span class="hljs-string">&quot;livePusher&quot;</span>, <span class="hljs-variable language_">this</span>);\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">playerContext</span> = wx.<span class="hljs-title function_">createLivePlayerContext</span>(<span class="hljs-string">&quot;livePlayer&quot;</span>, <span class="hljs-variable language_">this</span>);\n\n    <span class="hljs-comment">// 判断是否为主播 (实际项目中根据登录状态判断)</span>\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({\n      <span class="hljs-attr">isAnchor</span>: options.<span class="hljs-property">isAnchor</span> === <span class="hljs-string">&quot;true&quot;</span>,\n    });\n\n    <span class="hljs-comment">// 获取直播地址 (实际项目中从服务器获取)</span>\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLiveUrl</span>();\n  },\n\n  <span class="hljs-comment">// 获取直播推流和播放地址</span>\n  <span class="hljs-title function_">getLiveUrl</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-comment">// 模拟从服务器获取直播地址</span>\n    <span class="hljs-comment">// 实际项目中，这里应该是调用后端接口获取RTMP或FLV地址</span>\n    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({\n        <span class="hljs-comment">// 示例地址，实际使用时替换为真实地址</span>\n        <span class="hljs-attr">pushUrl</span>: <span class="hljs-string">&quot;rtmp://example.push.com/live/stream&quot;</span>,\n        <span class="hljs-attr">liveUrl</span>: <span class="hljs-string">&quot;https://example.play.com/live/stream.flv&quot;</span>,\n      });\n    }, <span class="hljs-number">1000</span>);\n  },\n\n  <span class="hljs-comment">// 开始直播</span>\n  <span class="hljs-title function_">startLive</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isAnchor</span>) <span class="hljs-keyword">return</span>;\n\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pusherContext</span>.<span class="hljs-title function_">start</span>({\n      <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;开始推流&quot;</span>, res);\n        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">isLiving</span>: <span class="hljs-literal">true</span> });\n        <span class="hljs-comment">// 同时开始播放自己的直播</span>\n        <span class="hljs-variable language_">this</span>.<span class="hljs-property">playerContext</span>.<span class="hljs-title function_">play</span>();\n      },\n      <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;推流失败&quot;</span>, res);\n        wx.<span class="hljs-title function_">showToast</span>({\n          <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;直播开启失败&quot;</span>,\n          <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;none&quot;</span>,\n        });\n      },\n    });\n  },\n\n  <span class="hljs-comment">// 结束直播</span>\n  <span class="hljs-title function_">stopLive</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isAnchor</span>) {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pusherContext</span>.<span class="hljs-title function_">stop</span>({\n        <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;停止推流&quot;</span>, res);\n        },\n      });\n    }\n\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">playerContext</span>.<span class="hljs-title function_">stop</span>();\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">isLiving</span>: <span class="hljs-literal">false</span> });\n  },\n\n  <span class="hljs-comment">// 切换摄像头</span>\n  <span class="hljs-title function_">switchCamera</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isAnchor</span>) <span class="hljs-keyword">return</span>;\n\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pusherContext</span>.<span class="hljs-title function_">switchCamera</span>({\n      <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;切换摄像头成功&quot;</span>, res);\n      },\n    });\n  },\n\n  <span class="hljs-comment">// 静音切换</span>\n  <span class="hljs-title function_">muteAudio</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({\n      <span class="hljs-attr">isMuted</span>: !<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isMuted</span>,\n    });\n\n    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isAnchor</span>) {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pusherContext</span>.<span class="hljs-title function_">muteAudio</span>({\n        <span class="hljs-attr">muted</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isMuted</span>,\n      });\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-property">playerContext</span>.<span class="hljs-title function_">mute</span>({\n        <span class="hljs-attr">muted</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">isMuted</span>,\n      });\n    }\n  },\n\n  <span class="hljs-comment">// 播放器状态变化</span>\n  <span class="hljs-title function_">onStateChange</span>(<span class="hljs-params">e</span>) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;播放器状态变化:&quot;</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">code</span>);\n  },\n\n  <span class="hljs-comment">// 播放器错误</span>\n  <span class="hljs-title function_">onError</span>(<span class="hljs-params">e</span>) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;播放器错误:&quot;</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">errMsg</span>);\n    wx.<span class="hljs-title function_">showToast</span>({\n      <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;播放出错: &quot;</span> + e.<span class="hljs-property">detail</span>.<span class="hljs-property">errMsg</span>,\n      <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;none&quot;</span>,\n    });\n  },\n\n  <span class="hljs-comment">// 推流器状态变化</span>\n  <span class="hljs-title function_">onPusherStateChange</span>(<span class="hljs-params">e</span>) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;推流器状态变化:&quot;</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">code</span>);\n  },\n\n  <span class="hljs-comment">// 推流器错误</span>\n  <span class="hljs-title function_">onPusherError</span>(<span class="hljs-params">e</span>) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;推流器错误:&quot;</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">errMsg</span>);\n    wx.<span class="hljs-title function_">showToast</span>({\n      <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;推流出错: &quot;</span> + e.<span class="hljs-property">detail</span>.<span class="hljs-property">errMsg</span>,\n      <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;none&quot;</span>,\n    });\n  },\n});\n</code></pre>\n<pre><code class="language-javascript"><span class="hljs-comment">// live.json</span>\n{\n  <span class="hljs-string">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;直播&quot;</span>,\n  <span class="hljs-string">&quot;usingComponents&quot;</span>: {\n    <span class="hljs-string">&quot;live-player&quot;</span>: <span class="hljs-string">&quot;/components/live-player/live-player&quot;</span>,\n    <span class="hljs-string">&quot;live-pusher&quot;</span>: <span class="hljs-string">&quot;/components/live-pusher/live-pusher&quot;</span>\n  }\n}\n\n</code></pre>\n<pre><code class="language-javascript"><span class="hljs-comment">//live.wxml</span>\n&lt;view <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;live-container&quot;</span>&gt;\n  &lt;!-- 直播播放器 --&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">live-player</span>\n    <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;livePlayer&quot;</span>\n    <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;{{liveUrl}}&quot;</span>\n    <span class="hljs-attr">mode</span>=<span class="hljs-string">&quot;live&quot;</span>\n    <span class="hljs-attr">autoplay</span>=<span class="hljs-string">&quot;{{true}}&quot;</span>\n    <span class="hljs-attr">muted</span>=<span class="hljs-string">&quot;{{false}}&quot;</span>\n    <span class="hljs-attr">orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>\n    <span class="hljs-attr">object-fit</span>=<span class="hljs-string">&quot;contain&quot;</span>\n    <span class="hljs-attr">bindstatechange</span>=<span class="hljs-string">&quot;onStateChange&quot;</span>\n    <span class="hljs-attr">binderror</span>=<span class="hljs-string">&quot;onError&quot;</span>\n    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;live-player&quot;</span>\n  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">live-player</span>&gt;</span></span>\n\n  &lt;!-- 直播控制区域 --&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;live-controls&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;startLive&quot;</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;{{!isLiving}}&quot;</span>&gt;</span>开始直播<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;stopLive&quot;</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;{{isLiving}}&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;warn&quot;</span>&gt;</span>结束直播<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;switchCamera&quot;</span>&gt;</span>切换摄像头<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">&quot;muteAudio&quot;</span>&gt;</span>\n      {{isMuted ? &#x27;开启声音&#x27; : &#x27;关闭声音&#x27;}}\n    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>\n\n  &lt;!-- 直播推流区域 (主播端) --&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;live-pusher-container&quot;</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;{{isAnchor}}&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">live-pusher</span>\n      <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;livePusher&quot;</span>\n      <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;{{pushUrl}}&quot;</span>\n      <span class="hljs-attr">mode</span>=<span class="hljs-string">&quot;RTMP&quot;</span>\n      <span class="hljs-attr">autopush</span>=<span class="hljs-string">&quot;{{false}}&quot;</span>\n      <span class="hljs-attr">muted</span>=<span class="hljs-string">&quot;{{false}}&quot;</span>\n      <span class="hljs-attr">enable-camera</span>=<span class="hljs-string">&quot;{{true}}&quot;</span>\n      <span class="hljs-attr">orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>\n      <span class="hljs-attr">object-fit</span>=<span class="hljs-string">&quot;contain&quot;</span>\n      <span class="hljs-attr">beauty</span>=<span class="hljs-string">&quot;9&quot;</span>\n      <span class="hljs-attr">whiteness</span>=<span class="hljs-string">&quot;9&quot;</span>\n      <span class="hljs-attr">bindstatechange</span>=<span class="hljs-string">&quot;onPusherStateChange&quot;</span>\n      <span class="hljs-attr">binderror</span>=<span class="hljs-string">&quot;onPusherError&quot;</span>\n      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;live-pusher&quot;</span>\n    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">live-pusher</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>\n&lt;/view&gt;\n\n</code></pre>\n<pre><code class="language-javascript"><span class="hljs-comment">// live.wxss</span>\n.<span class="hljs-property">live</span>-container {\n  <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>%;\n  <span class="hljs-attr">height</span>: 100vh;\n  background-<span class="hljs-attr">color</span>: #<span class="hljs-number">000</span>;\n  <span class="hljs-attr">display</span>: flex;\n  flex-<span class="hljs-attr">direction</span>: column;\n}\n\n.<span class="hljs-property">live</span>-player {\n  <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>%;\n  <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>;\n}\n\n.<span class="hljs-property">live</span>-controls {\n  <span class="hljs-attr">display</span>: flex;\n  justify-<span class="hljs-attr">content</span>: space-around;\n  <span class="hljs-attr">padding</span>: 15rpx;\n  background-<span class="hljs-attr">color</span>: #1a1a1a;\n}\n\n.<span class="hljs-property">live</span>-controls button {\n  <span class="hljs-attr">color</span>: white;\n  background-<span class="hljs-attr">color</span>: #<span class="hljs-number">333</span>;\n  border-<span class="hljs-attr">radius</span>: 50rpx;\n  <span class="hljs-attr">padding</span>: 15rpx 30rpx;\n  font-<span class="hljs-attr">size</span>: 28rpx;\n}\n\n.<span class="hljs-property">live</span>-pusher-container {\n  <span class="hljs-attr">position</span>: fixed;\n  <span class="hljs-attr">right</span>: 20rpx;\n  <span class="hljs-attr">bottom</span>: 150rpx;\n  <span class="hljs-attr">width</span>: 250rpx;\n  <span class="hljs-attr">height</span>: 350rpx;\n  z-<span class="hljs-attr">index</span>: <span class="hljs-number">10</span>;\n}\n\n.<span class="hljs-property">live</span>-pusher {\n  <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>%;\n  <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>%;\n  border-<span class="hljs-attr">radius</span>: 20rpx;\n}\n\n\n</code></pre>\n<h3>实现说明</h3>\n<ol>\n<li>\n<p><strong>直播权限</strong>   ：需要在微信公众平台开通直播权限，个人小程序无法使用直播功能</p>\n</li>\n<li>\n<p><strong>直播地址</strong>   ：</p>\n<ul>\n<li>实际项目中，直播地址需要从后端服务获取</li>\n<li>推流地址(rtmp)用于主播端推流</li>\n<li>播放地址(flv或hls)用于观众端观看</li>\n</ul>\n</li>\n<li>\n<p><strong>核心组件</strong>   ：</p>\n<ul>\n<li><code>live-pusher</code>：用于主播推流</li>\n<li><code>live-player</code>：用于观众观看直播</li>\n</ul>\n</li>\n<li>\n<p><strong>主要功能</strong>   ：</p>\n<ul>\n<li>开始/结束直播</li>\n<li>切换摄像头</li>\n<li>声音控制</li>\n<li>状态监听和错误处理</li>\n</ul>\n</li>\n</ol>\n<h3>注意事项</h3>\n<ol>\n<li>直播功能需要 HTTPS 支持</li>\n<li>实际部署时需要使用正式的直播流服务</li>\n<li>可以结合小程序的实时互动能力，添加弹幕、点赞等功能</li>\n<li>直播内容需要遵守微信小程序的内容规范</li>\n</ol>\n<p>要实现完整的直播系统，还需要后端服务配合，处理直播流的创建、管理、权限控制等功能。</p>\n</div>'</script></body></html>