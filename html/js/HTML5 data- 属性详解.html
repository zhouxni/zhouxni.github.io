<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x4744(t,s){var p=_0x4218();return(_0x4744=function(s,a){var n=p[s-=392];void 0===_0x4744.nORhqv&&(_0x4744.qiVvOz=function(s,a){var n,l=[],t=0,p="";for(s=(s=>{for(var a,n,l="",t="",p=0,e=0;n=s.charAt(e++);~n&&(a=p%4?64*a+n:n,p++%4)&&(l+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,r=l.length;c<r;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)t=(t+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[t],l[t]=n;for(var e=0,t=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[t=(t+l[e])%256],l[t]=n,p+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[t])%256]);return p},t=arguments,_0x4744.nORhqv=!0);var s=s+p[0],l=t[s];return l?n=l:(void 0===_0x4744.HrdDNb&&(_0x4744.HrdDNb=!0),n=_0x4744.qiVvOz(n,a),t[s]=n),n})(t,s)}var _0x4beb8c=_0x4744;if((()=>{for(var s=_0x4744,a=_0x4218();;)try{if(143195==-parseInt(s(412,"66Ka"))+parseInt(s(397,"dOM6"))/2*(parseInt(s(401,"hvG@"))/3)+parseInt(s(393,"w0py"))/4+-parseInt(s(402,"w0py"))/5*(parseInt(s(394,"66Ka"))/6)+-parseInt(s(392,"HbFK"))/7+-parseInt(s(404,"(bvf"))/8+parseInt(s(413,"&m^["))/9)break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x4beb8c(403,"5[a7")](_0x4beb8c(396,"E2d%"))!=_0x4beb8c(398,"Hf5L"))throw window[_0x4beb8c(400,"BE$F")][_0x4beb8c(408,"ZmZH")](_0x4beb8c(399,"h]QA")),Error();function _0x4218(){var s=["WPNcGCkMWRNcHX9AwIGOW6qx","e0GLhaWbD8oNWQ5Gftu","BrjVwmomWQhdMSkpWOZcItldUG","ECoGWPZdSaxdTGddM8kGW50vW7i","deDCWOjuW7n9WOG0m8k7sa","kSkMWQX5WOxdSmoOWRrWWRRcN0/dQq","WRNdGSovjd/dQuSHxG","W5ldVSonyvtdRmoB","WQldThqHwa","W6ucE3ijah/dHwm+uXvNwI8nW4/cOCk6W7mFW4/dMSoWbCkh","p8oFsHLTWQFdUwS","bmkxefxdShhcPCk5rmkiDXu","E8oKW6JcM3tcPcJdQa","ECkLacZdVmkhga","l8oIW7vEWQFdPGPmWOHOWPe/WP8","ECoMWPRdSaJdSYxdQCk9W5m6W7e","W70QWQmdpZ4HifZcTmkaASoe","lCo0q1dcVCosd8krbd0NWPe","W5VdJ13dV8o2W4W4","W6ZcI1T8W6nGWQvQWO/dQCkfWPW","k8kyWQFdMrexWOe","WPGJWOZdR8kcW4ldS8oF","d0bzWOrrW7rgWQe2dmk8uq","W6RcG1P+W6vMW4HWWR/dQ8kmWQtcLG"];return(_0x4218=function(){return s})()}document.title="HTML5 data- 属性详解",document.getElementById("article").innerHTML='<div><p><code>data-*</code> 属性是HTML5引入的自定义数据属性规范，它允许开发者在HTML元素上存储额外的私有数据，而不会与标准属性冲突。</p>\n<h2>一、基本语法</h2>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- 基本使用 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">div</span>\n  <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span>\n  <span class="hljs-attr">data-user-id</span>=<span class="hljs-string">&quot;12345&quot;</span>\n  <span class="hljs-attr">data-role</span>=<span class="hljs-string">&quot;admin&quot;</span>\n  <span class="hljs-attr">data-registration-date</span>=<span class="hljs-string">&quot;2023-01-15&quot;</span>\n&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n</code></pre>\n<h3>命名规则：</h3>\n<ul>\n<li>必须以 <code>data-</code> 开头</li>\n<li>名称中不能包含大写字母（会转换为小写）</li>\n<li>推荐使用中划线命名法（kebab-case）</li>\n</ul>\n<h2>二、JavaScript 访问方式</h2>\n<h3>1. dataset 属性</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> userDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;user&quot;</span>);\n\n<span class="hljs-comment">// 读取属性</span>\n<span class="hljs-keyword">const</span> userId = userDiv.<span class="hljs-property">dataset</span>.<span class="hljs-property">userId</span>; <span class="hljs-comment">// &quot;12345&quot;</span>\n<span class="hljs-keyword">const</span> role = userDiv.<span class="hljs-property">dataset</span>.<span class="hljs-property">role</span>; <span class="hljs-comment">// &quot;admin&quot;</span>\n\n<span class="hljs-comment">// 修改属性</span>\nuserDiv.<span class="hljs-property">dataset</span>.<span class="hljs-property">registrationDate</span> = <span class="hljs-string">&quot;2023-02-20&quot;</span>;\n\n<span class="hljs-comment">// 添加新属性</span>\nuserDiv.<span class="hljs-property">dataset</span>.<span class="hljs-property">lastLogin</span> = <span class="hljs-string">&quot;2023-03-10&quot;</span>;\n</code></pre>\n<h3>2. 属性名转换规则</h3>\n<p>HTML属性 → JavaScript属性：</p>\n<pre><code class="language-javascript">data-user-id      → dataset.<span class="hljs-property">userId</span>\ndata-first-name   → dataset.<span class="hljs-property">firstName</span>\ndata-is-verified  → dataset.<span class="hljs-property">isVerified</span>\n</code></pre>\n<h2>三、CSS 访问方式</h2>\n<h3>1. 属性选择器</h3>\n<pre><code class="language-css"><span class="hljs-comment">/* 匹配特定data属性 */</span>\n<span class="hljs-selector-attr">[data-role=<span class="hljs-string">&quot;admin&quot;</span>]</span> {\n  <span class="hljs-attribute">background-color</span>: gold;\n}\n\n<span class="hljs-comment">/* 匹配存在某data属性的元素 */</span>\n<span class="hljs-selector-attr">[data-user-id]</span> {\n  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;\n}\n\n<span class="hljs-comment">/* 部分匹配 */</span>\n<span class="hljs-selector-attr">[data-tags~=<span class="hljs-string">&quot;urgent&quot;</span>]</span> {\n  <span class="hljs-attribute">color</span>: red;\n}\n</code></pre>\n<h3>2. 使用 attr() 函数</h3>\n<pre><code class="language-css"><span class="hljs-selector-class">.tooltip</span><span class="hljs-selector-pseudo">::after</span> {\n  <span class="hljs-attribute">content</span>: <span class="hljs-built_in">attr</span>(data-tooltip);\n  <span class="hljs-comment">/* 其他样式 */</span>\n}\n</code></pre>\n<h2>四、实际应用场景</h2>\n<h3>1. 存储组件状态</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">data-loading</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">data-action</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>提交<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n</code></pre>\n<h3>2. 动态内容配置</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>\n  <span class="hljs-attr">data-carousel</span>=<span class="hljs-string">&#x27;{\n  &quot;autoplay&quot;: true,\n  &quot;interval&quot;: 3000,\n  &quot;slides&quot;: [&quot;img1.jpg&quot;, &quot;img2.jpg&quot;]\n}&#x27;</span>\n&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n</code></pre>\n<h3>3. 性能优化（替代DOM查询）</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-product-id</span>=<span class="hljs-string">&quot;101&quot;</span> <span class="hljs-attr">data-price</span>=<span class="hljs-string">&quot;29.99&quot;</span>&gt;</span>商品A<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">data-product-id</span>=<span class="hljs-string">&quot;102&quot;</span> <span class="hljs-attr">data-price</span>=<span class="hljs-string">&quot;39.99&quot;</span>&gt;</span>商品B<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>\n</code></pre>\n<h2>五、数据类型处理</h2>\n<h3>1. JSON数据</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// HTML: &lt;div data-user=&#x27;{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30}&#x27;&gt;&lt;/div&gt;</span>\n<span class="hljs-keyword">const</span> user = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(element.<span class="hljs-property">dataset</span>.<span class="hljs-property">user</span>);\n</code></pre>\n<h3>2. 数组数据</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-tags</span>=<span class="hljs-string">&quot;vue,react,angular&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n</code></pre>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> tags = element.<span class="hljs-property">dataset</span>.<span class="hljs-property">tags</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>);\n</code></pre>\n<h3>3. 布尔值处理</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">data-active</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>按钮<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n</code></pre>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> isActive = element.<span class="hljs-property">dataset</span>.<span class="hljs-property">active</span> === <span class="hljs-string">&quot;true&quot;</span>;\n</code></pre>\n<h2>六、最佳实践</h2>\n<ol>\n<li>\n<p><strong>命名规范</strong>   ：</p>\n<ul>\n<li>保持命名一致性（团队统一）</li>\n<li>避免与标准属性冲突</li>\n</ul>\n</li>\n<li>\n<p><strong>数据量控制</strong>   ：</p>\n<ul>\n<li>不适合存储大量数据（考虑使用<code>data-json</code>）</li>\n<li>复杂数据建议使用JSON格式</li>\n</ul>\n</li>\n<li>\n<p><strong>性能考虑</strong>   ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 好：一次性读取</span>\n<span class="hljs-keyword">const</span> data = element.<span class="hljs-property">dataset</span>;\n\n<span class="hljs-comment">// 不好：多次访问</span>\n<span class="hljs-keyword">const</span> val1 = element.<span class="hljs-property">dataset</span>.<span class="hljs-property">value1</span>;\n<span class="hljs-keyword">const</span> val2 = element.<span class="hljs-property">dataset</span>.<span class="hljs-property">value2</span>;\n</code></pre>\n</li>\n<li>\n<p><strong>框架集成</strong>   ：</p>\n</li>\n</ol>\n<h3>React 中使用</h3>\n<pre><code class="language-jsx">&lt;div data-testid=<span class="hljs-string">&quot;user-profile&quot;</span> data-cy=<span class="hljs-string">&quot;user-profile&quot;</span>&gt;\n  {<span class="hljs-comment">/* 内容 */</span>}\n&lt;/div&gt;\n</code></pre>\n<h3>Vue 中使用</h3>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:data-user-id</span>=<span class="hljs-string">&quot;userId&quot;</span> <span class="hljs-attr">data-test</span>=<span class="hljs-string">&quot;user-card&quot;</span>&gt;</span>{{ userName }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n</code></pre>\n<h2>七、注意事项</h2>\n<ol>\n<li>\n<p><strong>SEO影响</strong>   ：</p>\n<ul>\n<li>搜索引擎通常会忽略<code>data-*</code>属性</li>\n<li>重要内容不应只存在data属性中</li>\n</ul>\n</li>\n<li>\n<p><strong>安全性</strong>   ：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 不安全：直接注入未处理的数据</span>\nelement.<span class="hljs-property">dataset</span>.<span class="hljs-property">content</span> = userInput;\n\n<span class="hljs-comment">// 安全：转义处理</span>\nelement.<span class="hljs-property">dataset</span>.<span class="hljs-property">content</span> = <span class="hljs-title function_">escapeHtml</span>(userInput);\n</code></pre>\n</li>\n<li>\n<p><strong>浏览器支持</strong>   ：</p>\n<ul>\n<li>所有现代浏览器都支持</li>\n<li>IE11+ 完全支持<code>dataset</code> API</li>\n</ul>\n</li>\n</ol>\n<h2>八、调试技巧</h2>\n<h3>1. 控制台查看</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 查看元素的所有data属性</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(element.<span class="hljs-property">dataset</span>);\n</code></pre>\n<h3>2. Chrome开发者工具</h3>\n<ul>\n<li>在Elements面板中直接查看和编辑</li>\n<li>在Console中使用<code>$0.dataset</code>（<code>$0</code>代表当前选中的元素）</li>\n</ul>\n<h3>3. 性能分析</h3>\n<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">&quot;dataset&quot;</span>);\n<span class="hljs-keyword">const</span> value = element.<span class="hljs-property">dataset</span>.<span class="hljs-property">someValue</span>;\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">&quot;dataset&quot;</span>);\n</code></pre>\n<h2>总结</h2>\n<p><code>data-*</code> 属性提供了：</p>\n<ul>\n<li>标准化的自定义数据存储方案</li>\n<li>良好的JavaScript/CSS集成</li>\n<li>框架无关的通用解决方案</li>\n<li>语义化的数据存储方式</li>\n</ul>\n<p>适用于：配置参数、状态标记、测试标识等场景，是现代Web开发中不可或缺的工具。</p>\n</div>'</script></body></html>