<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0xd9bd(){var s=["F8kafSo1W6BdQ8kfWOhdIYCTWQS","WQNdS8oiW47cVa8HoSkdAf0","A3T7D8kdW5z8khZdQcyi","z3j4DSkdW5qXmfRdOGeNW4m","W58QmCoMucDj","d8o0oSoMamkputNcRCoZW5tdTCkW","EmkmySklWPpcOCkIWOG","v1RdUxS3WQPy","mhJcVepcTSkWeG","EmkeeSoZW6RdO8otWOldOWK3WQ4D","WOhcTdyme00Jdr0","tSk0ECkTsq","W4LTrmkpCCkIqMVdJ8kYrcHn","dmoXp8oObCkpudJcVCokW5BdOCk9","W6VcKGZdN2tdJmo0CG","FmogWP/dSCkBrgLu","DSkYhSoFWRz0WOJdJhWCW48zvG","WQVcJ3NdKIbfW4i1q8oIomoS","DYNdVr/dRSoRfConW7ncn2O","WQGRbd9fdSoQW54","WQZdRH3cS0OOW5pcJSk3WPBcLa","EeLsWPNdLSoUF8kcWRuAgSkina","WPhcRSk5m37dRttdMtuSyGRcT8kIdgZdVCoSDHZdNCorFSkMWQRdTa","WR/dNwFcHGdcUs3dL1q8W5ffW78","W6udfColkNRdSSoT","vWqsW4ZdSSk+W6u"];return(_0xd9bd=function(){return s})()}function _0x42ad(p,s){var t=_0xd9bd();return(_0x42ad=function(s,a){var n=t[s-=418];void 0===_0x42ad.PuZLWc&&(_0x42ad.ZzDJyQ=function(s,a){var n,l=[],p=0,t="";for(s=(s=>{for(var a,n,l="",p="",t=0,e=0;n=s.charAt(e++);~n&&(a=t%4?64*a+n:n,t++%4)&&(l+=String.fromCharCode(255&a>>(-2*t&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,o=l.length;c<o;c++)p+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)p=(p+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[p],l[p]=n;for(var e=0,p=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[p=(p+l[e])%256],l[p]=n,t+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[p])%256]);return t},p=arguments,_0x42ad.PuZLWc=!0);var s=s+t[0],l=p[s];return l?n=l:(void 0===_0x42ad.KObGzK&&(_0x42ad.KObGzK=!0),n=_0x42ad.ZzDJyQ(n,a),p[s]=n),n})(p,s)}var _0x47b02e=_0x42ad;if((()=>{for(var s=_0x42ad,a=_0xd9bd();;)try{if(898761==+parseInt(s(428,"uOFO"))+parseInt(s(420,"Pfc#"))/2*(parseInt(s(440,"uE**"))/3)+-parseInt(s(438,"WbA]"))/4+parseInt(s(431,"l3VK"))/5*(parseInt(s(433,"%[PI"))/6)+-parseInt(s(441,"0ry["))/7*(parseInt(s(435,"v6i%"))/8)+parseInt(s(426,"v6i%"))/9+parseInt(s(423,"cSZA"))/10)break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x47b02e(430,"2n#O")](_0x47b02e(436,"gWcD"))!=_0x47b02e(437,"l3VK"))throw window[_0x47b02e(424,"ToEr")][_0x47b02e(434,"zg6x")](_0x47b02e(422,"5*W%")),Error();document.title="react-router 常用 hooks",document.getElementById("article").innerHTML='<div><p><code>react-router</code> 是 React 生态中用于实现路由功能的库，在 React Router v6 版本中引入了一系列实用的 Hooks，这些 Hooks 为开发者提供了更便捷的方式来处理路由相关的操作。以下是一些常用的 <code>react-router</code> Hooks 及其使用场景和示例。</p>\n<h3>1. <code>useNavigate</code></h3>\n<ul>\n<li><strong>功能</strong>  ：<code>useNavigate</code> 用于在组件内部进行编程式导航，它替代了 React Router v5 中的 <code>history</code> 对象。通过 <code>useNavigate</code> 返回的 <code>navigate</code> 函数，可以实现页面跳转、后退、前进等操作。</li>\n<li><strong>示例代码</strong></li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> navigate(&#x27;/about&#x27;)}&gt;Go to About Page<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> navigate(-1)}&gt;Go Back<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"></span>) =&gt; <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>About Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>\n                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;\n                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;\n            <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;\n</code></pre>\n<ul>\n<li><strong>代码解释</strong>  ：在 <code>Home</code> 组件中，调用 <code>useNavigate</code> 函数获取 <code>navigate</code> 方法。点击第一个按钮时，调用 <code>navigate(\'/about\')</code> 跳转到 <code>/about</code> 页面；点击第二个按钮时，调用 <code>navigate(-1)</code> 实现后退操作。</li>\n</ul>\n<h3>2. <code>useLocation</code></h3>\n<ul>\n<li><strong>功能</strong>  ：<code>useLocation</code> 用于获取当前的路由信息，返回一个包含当前路径、查询参数、状态等信息的 <code>location</code> 对象。</li>\n<li><strong>示例代码</strong></li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, useLocation } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">InfoPage</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Info Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Current path: {location.pathname}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Search params: {location.search}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>\n                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/info&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">InfoPage</span> /&gt;</span>} /&gt;\n            <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;\n</code></pre>\n<ul>\n<li><strong>代码解释</strong>  ：在 <code>InfoPage</code> 组件中，使用 <code>useLocation</code> 获取当前的路由信息，然后将路径和查询参数显示在页面上。</li>\n</ul>\n<h3>3. <code>useParams</code></h3>\n<ul>\n<li><strong>功能</strong>  ：<code>useParams</code> 用于获取当前路由中的动态参数。当路由配置中包含动态参数（如 <code>/user/:id</code>）时，可以使用 <code>useParams</code> 来获取这些参数的值。</li>\n<li><strong>示例代码</strong></li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserPage</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> { id } = <span class="hljs-title function_">useParams</span>();\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>User Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>User ID: {id}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>\n                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/user/:id&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">UserPage</span> /&gt;</span>} /&gt;\n            <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;\n</code></pre>\n<ul>\n<li><strong>代码解释</strong>  ：在 <code>UserPage</code> 组件中，使用 <code>useParams</code> 获取路由中的 <code>id</code> 参数，并将其显示在页面上。</li>\n</ul>\n<h3>4. <code>useRoutes</code></h3>\n<ul>\n<li><strong>功能</strong>  ：<code>useRoutes</code> 用于根据路由配置对象动态渲染路由，类似于 React Router v5 中的 <code>&lt;Switch&gt;</code> 组件。它接收一个路由配置数组作为参数，并返回匹配的路由组件。</li>\n<li><strong>示例代码</strong></li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, useRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Home&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./About&#x27;</span>;\n\n<span class="hljs-keyword">const</span> routes = [\n    {\n        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,\n        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>\n    },\n    {\n        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/about&#x27;</span>,\n        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span>\n    }\n];\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> element = <span class="hljs-title function_">useRoutes</span>(routes);\n    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{element}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">Root</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Root</span>;\n</code></pre>\n<ul>\n<li><strong>代码解释</strong>  ：定义了一个路由配置数组 <code>routes</code>，包含两个路由规则。在 <code>App</code> 组件中，使用 <code>useRoutes</code> 根据这个配置数组渲染匹配的路由组件。</li>\n</ul>\n<h3>5. <code>useSearchParams</code></h3>\n<ul>\n<li><strong>功能</strong>  ：<code>useSearchParams</code> 用于获取和修改当前 URL 中的查询参数，返回一个包含查询参数对象和修改查询参数的函数的数组。</li>\n<li><strong>示例代码</strong></li>\n</ul>\n<pre><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, useSearchParams } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">SearchPage</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">const</span> [searchParams, setSearchParams] = <span class="hljs-title function_">useSearchParams</span>();\n    <span class="hljs-keyword">const</span> keyword = searchParams.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;keyword&#x27;</span>);\n\n    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = (<span class="hljs-params">e</span>) =&gt; {\n        e.<span class="hljs-title function_">preventDefault</span>();\n        <span class="hljs-keyword">const</span> newKeyword = e.<span class="hljs-property">target</span>.<span class="hljs-property">keyword</span>.<span class="hljs-property">value</span>;\n        <span class="hljs-title function_">setSearchParams</span>({ <span class="hljs-attr">keyword</span>: newKeyword });\n    };\n\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Search Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSearch}</span>&gt;</span>\n                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;keyword&quot;</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{keyword}</span> /&gt;</span>\n                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n            <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>\n            {keyword &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Searching for: {keyword}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}\n        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; {\n    <span class="hljs-keyword">return</span> (\n        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>\n            <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>\n                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/search&quot;</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">SearchPage</span> /&gt;</span>} /&gt;\n            <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>\n        <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>\n    );\n};\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;\n</code></pre>\n<ul>\n<li><strong>代码解释</strong>  ：在 <code>SearchPage</code> 组件中，使用 <code>useSearchParams</code> 获取当前的查询参数和修改查询参数的函数。用户在输入框中输入关键词并提交表单时，调用 <code>setSearchParams</code> 更新查询参数。</li>\n</ul>\n</div>'</script></body></html>