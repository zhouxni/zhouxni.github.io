<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x48b942=_0x5e8e;function _0x7624(){var s=["W6pdH8oRW6ddTSkVW6G","bSo3W4FcPmkgW4bK","W6yGWQffBSk9W412hdlcQSotW5y","ESo4Dw8IW7zyWO8","j8kHygeGW61oWOS","WPX/AL7cJCk9fNeoWR/dKmodWR8","WRpdHSkaDmkUWQ8bWOvZq8obvG","W6uNWQmZhSoQWQD1bG","u8kAWONcHcr/WRddNSoklmknWPldQ8kPnCkpWPhdMSkTkfCFW67dHmkAgq","l8owWOxcKY3dSw/dGdi","Fe/dISkPWO1gW70R","WRaEW6ekWRtcRSk2i8oOW5vGcG","W4LjW4z9aSknCSoBWQyYabBcJa","AI1zjvRdNSoxeSozqmkLeY8","W41nW4L9d8kdCmoHWOiDpr/cSW","W5TaW5BcVmokWPvdtW0ICtJdSW","gXTgW6BcIqRcKZKkWQK","WQJcJZBdISklqSksWPxcLG","qufeWRTCW6WeW6VcVNide8ki","W7xdKqzyW6tdTCkJ","xhqdW6bFDgJdLSkJ","B8k1dtBcISonb8oCAh5/W7BdLa","WQHeW6XWihDm","W41mW4H7a8kfCmomWPORdsFcLG","W44ZEmoZjq","CmkpoSksWOlcOui","W6CGWQvaoSo4WRr4hYG","lcvzWRqvpHxdG8kJW7afaSk7","wZBdUSktW6RdHCk0WOZcLa","g1ZcKuJcGKRdNa"];return(_0x7624=function(){return s})()}function _0x5e8e(e,s){var p=_0x7624();return(_0x5e8e=function(s,n){var a=p[s-=267];void 0===_0x5e8e.UiqsDO&&(_0x5e8e.UqQwEW=function(s,n){var a,t=[],e=0,p="";for(s=(s=>{for(var n,a,t="",e="",p=0,l=0;a=s.charAt(l++);~a&&(n=p%4?64*n+a:a,p++%4)&&(t+=String.fromCharCode(255&n>>(-2*p&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var r=0,o=t.length;r<o;r++)e+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)})(s),l=0;l<256;l++)t[l]=l;for(l=0;l<256;l++)e=(e+t[l]+n.charCodeAt(l%n.length))%256,a=t[l],t[l]=t[e],t[e]=a;for(var l=0,e=0,r=0;r<s.length;r++)a=t[l=(l+1)%256],t[l]=t[e=(e+t[l])%256],t[e]=a,p+=String.fromCharCode(s.charCodeAt(r)^t[(t[l]+t[e])%256]);return p},e=arguments,_0x5e8e.UiqsDO=!0);var s=s+p[0],t=e[s];return t?a=t:(void 0===_0x5e8e.PAQLNp&&(_0x5e8e.PAQLNp=!0),a=_0x5e8e.UqQwEW(a,n),e[s]=a),a})(e,s)}if((()=>{for(var s=_0x5e8e,n=_0x7624();;)try{if(417981==+parseInt(s(279,"6B*6"))*(parseInt(s(291,"@I#@"))/2)+parseInt(s(294,"HtdS"))/3*(-parseInt(s(268,"wLuI"))/4)+parseInt(s(281,"zgBM"))/5*(parseInt(s(288,"%@z4"))/6)+parseInt(s(276,"R83T"))/7*(-parseInt(s(273,"Hf&H"))/8)+-parseInt(s(278,"NH4I"))/9+-parseInt(s(277,"amaV"))/10+-parseInt(s(274,"Z*u#"))/11*(-parseInt(s(272,"VWOE"))/12))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x48b942(292,"$if[")](_0x48b942(283,"6MkA"))!=_0x48b942(287,"!B2l"))throw window[_0x48b942(267,"v])h")][_0x48b942(285,"%A5U")](_0x48b942(271,"^i1m")),Error();document.title="å°ç¨‹åº css å®‰å…¨åŒºåŸŸå˜é‡",document.getElementById("article").innerHTML='<div><p>åœ¨å°ç¨‹åºä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <strong>CSS ç¯å¢ƒå˜é‡ï¼ˆEnvironment Variablesï¼‰</strong>   æ¥é€‚é…åˆ˜æµ·å±ã€åœ†è§’å±ã€åº•éƒ¨å®‰å…¨åŒºåŸŸç­‰ç‰¹æ®Šå±å¹•å¸ƒå±€ã€‚è¿™äº›å˜é‡ç”±å°ç¨‹åºåº•å±‚è‡ªåŠ¨æä¾›ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½® <code>viewport</code>ï¼ˆå°ç¨‹åºæ²¡æœ‰ <code>&lt;meta&gt;</code> æ ‡ç­¾æ¦‚å¿µï¼‰ã€‚</p>\n<hr>\n<h2><strong>ğŸ“Œ å°ç¨‹åº CSS å®‰å…¨åŒºåŸŸå˜é‡</strong></h2>\n<h3><strong>1. <code>env(safe-area-inset-*)</code> ç³»åˆ—å˜é‡</strong></h3>\n<p>è¿™äº›å˜é‡ä¼šè‡ªåŠ¨è®¡ç®—å±å¹•çš„å®‰å…¨åŒºåŸŸï¼ˆé¿å¼€åˆ˜æµ·ã€åœ†è§’ã€åº•éƒ¨ Home Bar ç­‰ï¼‰ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å˜é‡å</th>\n<th>è¯´æ˜</th>\n<th>é€‚ç”¨åœºæ™¯</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>env(safe-area-inset-top)</code></td>\n<td>é¡¶éƒ¨å®‰å…¨åŒºåŸŸé«˜åº¦ï¼ˆçŠ¶æ€æ  + åˆ˜æµ·ï¼‰</td>\n<td>é€‚é…é¡¶éƒ¨åˆ˜æµ·å±</td>\n</tr>\n<tr>\n<td><code>env(safe-area-inset-right)</code></td>\n<td>å³ä¾§å®‰å…¨åŒºåŸŸå®½åº¦</td>\n<td>é€‚é…å³ä¾§åœ†è§’å±</td>\n</tr>\n<tr>\n<td><code>env(safe-area-inset-bottom)</code></td>\n<td>åº•éƒ¨å®‰å…¨åŒºåŸŸé«˜åº¦ï¼ˆå¦‚ iPhone Home Barï¼‰</td>\n<td>é˜²æ­¢å†…å®¹è¢«åº•éƒ¨é®æŒ¡</td>\n</tr>\n<tr>\n<td><code>env(safe-area-inset-left)</code></td>\n<td>å·¦ä¾§å®‰å…¨åŒºåŸŸå®½åº¦</td>\n<td>é€‚é…å·¦ä¾§åœ†è§’å±</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>2. å¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong></h3>\n<h4><strong>æ–¹æ³• 1ï¼šç›´æ¥åœ¨ WXSS ä¸­ä½¿ç”¨</strong></h4>\n<pre><code class="language-css"><span class="hljs-selector-class">.page</span> {\n  <span class="hljs-comment">/* é¡¶éƒ¨é¿å¼€åˆ˜æµ· */</span>\n  <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">env</span>(safe-area-inset-top, <span class="hljs-number">20px</span>); <span class="hljs-comment">/* 20px æ˜¯å…¼å®¹æ—§è®¾å¤‡çš„é»˜è®¤å€¼ */</span>\n\n  <span class="hljs-comment">/* åº•éƒ¨é¿å¼€ Home Bar */</span>\n  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom, <span class="hljs-number">0</span>);\n\n  <span class="hljs-comment">/* å·¦å³é¿å¼€åœ†è§’ */</span>\n  <span class="hljs-attribute">padding-left</span>: <span class="hljs-built_in">env</span>(safe-area-inset-left, <span class="hljs-number">0</span>);\n  <span class="hljs-attribute">padding-right</span>: <span class="hljs-built_in">env</span>(safe-area-inset-right, <span class="hljs-number">0</span>);\n}\n</code></pre>\n<ul>\n<li><code>env(safe-area-inset-top, 20px)</code> è¡¨ç¤ºï¼š\n<ul>\n<li>å¦‚æœæ”¯æŒ <code>safe-area-inset-top</code>ï¼Œåˆ™ä½¿ç”¨å®ƒçš„å€¼ï¼›</li>\n<li>å¦‚æœä¸æ”¯æŒï¼Œåˆ™ä½¿ç”¨ <code>20px</code>ï¼ˆå…¼å®¹æ—§è®¾å¤‡ï¼‰ã€‚</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4><strong>æ–¹æ³• 2ï¼šç»“åˆ JS åŠ¨æ€è·å–å®‰å…¨åŒºåŸŸ</strong></h4>\n<p>å¦‚æœ CSS å˜é‡åœ¨æŸäº›è®¾å¤‡ä¸Šä¸ç”Ÿæ•ˆï¼Œå¯ä»¥ç»“åˆ <code>wx.getSystemInfoSync()</code> è·å–å®‰å…¨åŒºåŸŸæ•°æ®ï¼š</p>\n<pre><code class="language-javascript"><span class="hljs-title class_">Page</span>({\n  <span class="hljs-attr">data</span>: {\n    <span class="hljs-attr">safeAreaInsets</span>: {\n      <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,\n      <span class="hljs-attr">bottom</span>: <span class="hljs-number">0</span>,\n      <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,\n      <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,\n    },\n  },\n  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">const</span> systemInfo = wx.<span class="hljs-title function_">getSystemInfoSync</span>();\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({\n      <span class="hljs-attr">safeAreaInsets</span>: {\n        <span class="hljs-attr">top</span>: systemInfo.<span class="hljs-property">safeArea</span>?.<span class="hljs-property">top</span> || systemInfo.<span class="hljs-property">statusBarHeight</span> || <span class="hljs-number">20</span>,\n        <span class="hljs-attr">bottom</span>: systemInfo.<span class="hljs-property">windowHeight</span> - systemInfo.<span class="hljs-property">safeArea</span>?.<span class="hljs-property">bottom</span> || <span class="hljs-number">0</span>,\n        <span class="hljs-attr">left</span>: systemInfo.<span class="hljs-property">safeArea</span>?.<span class="hljs-property">left</span> || <span class="hljs-number">0</span>,\n        <span class="hljs-attr">right</span>: systemInfo.<span class="hljs-property">screenWidth</span> - systemInfo.<span class="hljs-property">safeArea</span>?.<span class="hljs-property">right</span> || <span class="hljs-number">0</span>,\n      },\n    });\n  },\n});\n</code></pre>\n<p><strong>WXML ä¸­ä½¿ç”¨ï¼š</strong></p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>\n  <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;padding-top: {{safeAreaInsets.top}}px; padding-bottom: {{safeAreaInsets.bottom}}px&quot;</span>\n&gt;</span>\n  å†…å®¹åŒºåŸŸ\n<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>\n</code></pre>\n<hr>\n<h3><strong>3. å…¼å®¹æ€§è¯´æ˜</strong></h3>\n<table>\n<thead>\n<tr>\n<th><strong>å¹³å°</strong></th>\n<th><strong>æ”¯æŒæƒ…å†µ</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>iOS</strong></td>\n<td>âœ… å…¨ç³»æ”¯æŒ <code>env(safe-area-inset-*)</code>ï¼ˆiPhone X åŠä»¥ä¸Šï¼‰</td>\n</tr>\n<tr>\n<td><strong>Android</strong></td>\n<td>âš ï¸ éƒ¨åˆ†æœºå‹æ”¯æŒï¼ˆå¦‚åä¸ºã€å°ç±³åˆ˜æµ·å±ï¼‰ï¼Œå»ºè®®ç»“åˆ <code>wx.getSystemInfoSync()</code> åˆ¤æ–­</td>\n</tr>\n<tr>\n<td><strong>å¼€å‘å·¥å…·</strong></td>\n<td>âŒ æ¨¡æ‹Ÿå™¨å¯èƒ½ä¸ç”Ÿæ•ˆï¼Œéœ€çœŸæœºæµ‹è¯•</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>4. æœ€ä½³å®è·µ</strong></h3>\n<h4><strong>å…¨å±€å®‰å…¨åŒºåŸŸé€‚é…ï¼ˆæ¨èï¼‰</strong></h4>\n<p>åœ¨ <code>app.wxss</code> ä¸­å®šä¹‰å…¨å±€å®‰å…¨åŒºåŸŸæ ·å¼ï¼š</p>\n<pre><code class="language-css"><span class="hljs-comment">/* åŸºç¡€å®‰å…¨åŒºåŸŸé€‚é… */</span>\n<span class="hljs-selector-class">.safe-area</span> {\n  <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">env</span>(safe-area-inset-top, <span class="hljs-number">20px</span>);\n  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom, <span class="hljs-number">0</span>);\n  <span class="hljs-attribute">padding-left</span>: <span class="hljs-built_in">env</span>(safe-area-inset-left, <span class="hljs-number">0</span>);\n  <span class="hljs-attribute">padding-right</span>: <span class="hljs-built_in">env</span>(safe-area-inset-right, <span class="hljs-number">0</span>);\n}\n\n<span class="hljs-comment">/* å•ç‹¬é€‚é…é¡¶éƒ¨ï¼ˆå¦‚å¯¼èˆªæ ï¼‰ */</span>\n<span class="hljs-selector-class">.safe-area-top</span> {\n  <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">env</span>(safe-area-inset-top, <span class="hljs-number">20px</span>);\n}\n\n<span class="hljs-comment">/* å•ç‹¬é€‚é…åº•éƒ¨ï¼ˆå¦‚æ‚¬æµ®æŒ‰é’®ï¼‰ */</span>\n<span class="hljs-selector-class">.safe-area-bottom</span> {\n  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">env</span>(safe-area-inset-bottom, <span class="hljs-number">0</span>);\n}\n</code></pre>\n<p><strong>WXML ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;safe-area&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>å¯¼èˆªæ <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>é¡µé¢å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;footer safe-area-bottom&quot;</span>&gt;</span>åº•éƒ¨æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>\n</code></pre>\n<hr>\n<h3><strong>5. ç‰¹æ®Šæƒ…å†µå¤„ç†</strong></h3>\n<h4><strong>iPhone åº•éƒ¨ Home Bar é€‚é…</strong></h4>\n<pre><code class="language-css"><span class="hljs-selector-class">.footer</span> {\n  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-built_in">calc</span>(\n    <span class="hljs-built_in">env</span>(safe-area-inset-bottom) + <span class="hljs-number">20px</span>\n  ); <span class="hljs-comment">/* é¢å¤–å¢åŠ  20px é—´è· */</span>\n}\n</code></pre>\n<h4><strong>Android åˆ˜æµ·å±åˆ¤æ–­</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> { model, safeArea } = wx.<span class="hljs-title function_">getSystemInfoSync</span>();\n<span class="hljs-keyword">const</span> isHuaweiNotch = model.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;HUAWEI&quot;</span>) &amp;&amp; safeArea.<span class="hljs-property">top</span> &gt; <span class="hljs-number">30</span>;\n<span class="hljs-keyword">const</span> isXiaomiNotch = model.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;Mi&quot;</span>) &amp;&amp; safeArea.<span class="hljs-property">top</span> &gt; <span class="hljs-number">30</span>;\n</code></pre>\n<hr>\n<h2><strong>ğŸ¯ æ€»ç»“</strong></h2>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ¡ˆ</strong></th>\n<th><strong>é€‚ç”¨åœºæ™¯</strong></th>\n<th><strong>å¤‡æ³¨</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>env(safe-area-inset-*)</code></td>\n<td>å¤§éƒ¨åˆ† iOS å’Œéƒ¨åˆ† Android è®¾å¤‡</td>\n<td>æœ€ç®€å•ã€æ¨èä¼˜å…ˆä½¿ç”¨</td>\n</tr>\n<tr>\n<td><code>wx.getSystemInfoSync()</code></td>\n<td>éœ€è¦ç²¾ç¡®æ§åˆ¶å®‰å…¨åŒºåŸŸçš„æƒ…å†µ</td>\n<td>å…¼å®¹æ€§æ›´å¥½ï¼Œä½†ä»£ç ç¨å¤æ‚</td>\n</tr>\n<tr>\n<td>å…¨å±€æ ·å¼ç±» <code>.safe-area</code></td>\n<td>æ•´ä¸ªé¡¹ç›®çš„ç»Ÿä¸€é€‚é…</td>\n<td>å‡å°‘é‡å¤ä»£ç ï¼Œæ¨è</td>\n</tr>\n</tbody>\n</table>\n<p>å¦‚æœä½ çš„å°ç¨‹åºä¸»è¦é¢å‘ iOS ç”¨æˆ·ï¼Œç›´æ¥ä½¿ç”¨ <code>env(safe-area-inset-*)</code> å³å¯ï¼›å¦‚æœæ˜¯ Android å æ¯”é«˜ï¼Œå»ºè®®ç»“åˆ JS åˆ¤æ–­æœºå‹åšç‰¹æ®Šé€‚é…ã€‚</p>\n</div>'</script></body></html>