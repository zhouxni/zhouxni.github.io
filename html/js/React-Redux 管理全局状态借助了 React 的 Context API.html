<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x1c1b65=_0xdbd3;function _0xdbd3(r,t){var c=_0x303f();return(_0xdbd3=function(t,e){var n=c[t-=193];void 0===_0xdbd3.yjMsmi&&(_0xdbd3.miRqRy=function(t,e){var n,o=[],r=0,c="";for(t=(t=>{for(var e,n,o="",r="",c=0,d=0;n=t.charAt(d++);~n&&(e=c%4?64*e+n:n,c++%4)&&(o+=String.fromCharCode(255&e>>(-2*c&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var s=0,a=o.length;s<a;s++)r+="%"+("00"+o.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(r)})(t),d=0;d<256;d++)o[d]=d;for(d=0;d<256;d++)r=(r+o[d]+e.charCodeAt(d%e.length))%256,n=o[d],o[d]=o[r],o[r]=n;for(var d=0,r=0,s=0;s<t.length;s++)n=o[d=(d+1)%256],o[d]=o[r=(r+o[d])%256],o[r]=n,c+=String.fromCharCode(t.charCodeAt(s)^o[(o[d]+o[r])%256]);return c},r=arguments,_0xdbd3.yjMsmi=!0);var t=t+c[0],o=r[t];return o?n=o:(void 0===_0xdbd3.AAhNfr&&(_0xdbd3.AAhNfr=!0),n=_0xdbd3.miRqRy(n,e),r[t]=n),n})(r,t)}if((()=>{for(var t=_0xdbd3,e=_0x303f();;)try{if(486132==+parseInt(t(219,"7k)t"))*(-parseInt(t(217,"513F"))/2)+-parseInt(t(210,"hbTO"))/3+parseInt(t(200,"7k)t"))/4*(-parseInt(t(206,"(DdV"))/5)+-parseInt(t(193,"Ygn]"))/6*(-parseInt(t(214,"Nh!("))/7)+-parseInt(t(199,"z@G6"))/8+-parseInt(t(204,"QcsK"))/9+parseInt(t(211,"!dyr"))/10*(parseInt(t(198,"[Q(c"))/11))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(),localStorage[_0x1c1b65(213,"rS8n")](_0x1c1b65(201,"]x&j"))!=_0x1c1b65(216,"oFI9"))throw window[_0x1c1b65(205,"TcN(")][_0x1c1b65(208,"H9Y5")](_0x1c1b65(207,"]e4^")),Error();function _0x303f(){var t=["WOSseZVdKmkHumk/j8oZga","WPhdR8kiwNyWWQpcSCkHrmo+W6O","i3ddJSknxc0Vmmo3BfOXW4ZdSG","uXRdGSk7W6HihYu","WOudgX01lGu","W7lcNNxcLw/cJvhdGCoVW5ZcLsu","W75qW6hcNX52bW","ymk5uvZdMq","WRhcQCkEA8kflgNdQW","W68hqMNcNgX3tCo1A8kRWOq","nutdS8krWRFdKdldGtnaoa","W7noW6W4zSoKW7X4tZ7dLXPU","W79aWQjIgCk2WRbo","W7CLn0KqW5qGwaZcKt42","y1BdS8ktjCo3kxBdM8kUWR3cMCk8","W7rTW7ddKSkeW5FcL0S/a8o+W73dH8ky","W4tcSSo/mCoeWR8bWRRdNCowDsa","WOWBqulcVCkICmkK","WPHmWRChW5/cVgpdK0WedmomCG","oXhcK8otW6NdOsq","pcZcKWFcJw7cQvv5","W57cU3yozCklkNi","thVcTWhcH3VcQfS","W5GuWPWyxdafWQRcVv5LmX8","lW0KWRJcJr0wbW","W7yTnu0FW5ueFX3cVXGJ","W7DzkmoowqiafHlcGCksWOFcGmk2W4ZdQ8osf1rQWPKbWPddKCk5WPq","W6hdNxqnW5JdRKC"];return(_0x303f=function(){return t})()}document.title="React-Redux ç®¡ç†å…¨å±€çŠ¶æ€å€ŸåŠ©äº† React çš„ Context API",document.getElementById("article").innerHTML='<div><p>æ˜¯çš„ï¼ŒReact-Redux ç®¡ç†å…¨å±€çŠ¶æ€<strong>ç¡®å®å€ŸåŠ©äº† React çš„ Context API</strong>   ï¼Œä½†ä¸ä»…ä»…æ˜¯ç®€å•åœ°â€œç”¨äº†ä¸€ä¸‹â€ï¼Œè€Œæ˜¯åšäº†<strong>æ›´å¤æ‚ã€æ›´é«˜æ•ˆçš„å°è£…å’Œä¼˜åŒ–</strong>   ã€‚</p>\n<hr>\n<h3>âœ… ç®€è¦å›ç­”ï¼š</h3>\n<blockquote>\n<p><strong>React-Redux ä½¿ç”¨ Context API æ¥â€œä¼ é€’â€ Redux storeï¼Œä½†ä¸ç›´æ¥ç”¨ Context æ¥ä¼ é€’çŠ¶æ€å€¼ã€‚</strong></p>\n</blockquote>\n<hr>\n<h3>ğŸ” æ·±å…¥è§£é‡Šï¼š</h3>\n<h4>1. <strong>Context API çš„ä½œç”¨ï¼šä¼ é€’ storeï¼Œè€Œä¸æ˜¯çŠ¶æ€</strong></h4>\n<p>React-Redux å†…éƒ¨ä½¿ç”¨ <code>React.createContext()</code> åˆ›å»ºä¸€ä¸ª <strong>store context</strong>   ï¼Œç”¨æ¥æŠŠ Redux store æœ¬èº«ï¼ˆä¸æ˜¯çŠ¶æ€ï¼‰ä¼ é€’ç»™ç»„ä»¶æ ‘ï¼š</p>\n<pre><code class="language-js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">StoreContext</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createContext</span>(<span class="hljs-literal">null</span>);\n</code></pre>\n<p>è¿™ä¸ª context çš„å€¼æ˜¯ Redux çš„ <code>store</code>ï¼Œè€Œä¸æ˜¯ <code>store.getState()</code> çš„ç»“æœã€‚</p>\n<hr>\n<h4>2. <strong>çŠ¶æ€è®¢é˜…æœºåˆ¶ï¼šç”¨è‡ªå®šä¹‰è®¢é˜…ç³»ç»Ÿï¼Œè€Œä¸æ˜¯ç›´æ¥ä¾èµ– Context æ›´æ–°</strong></h4>\n<p>React-Reduxï¼ˆv7+ï¼‰å¹¶æ²¡æœ‰ç”¨ Context çš„ <code>.Provider</code> æ¥è§¦å‘ç»„ä»¶æ›´æ–°ï¼Œè€Œæ˜¯ï¼š</p>\n<ul>\n<li>æ¯ä¸ª <code>connect()</code> æˆ– <code>useSelector()</code> çš„ç»„ä»¶ï¼Œéƒ½ä¼š<strong>ç›´æ¥è®¢é˜… Redux store çš„å˜åŒ–</strong>   ï¼›</li>\n<li>å½“ store çŠ¶æ€å˜åŒ–æ—¶ï¼ŒReact-Redux ä¼š<strong>æ‰‹åŠ¨è§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“</strong>   ï¼›</li>\n<li>è¿™æ ·å¯ä»¥é¿å… Context å¸¦æ¥çš„<strong>æ€§èƒ½é—®é¢˜ï¼ˆå¦‚ä¸å¿…è¦çš„å­æ ‘é‡æ¸²æŸ“ï¼‰</strong>   ã€‚</li>\n</ul>\n<blockquote>\n<p>æ¢å¥è¯è¯´ï¼šContext åªæ˜¯â€œä¼  storeâ€ï¼ŒçŠ¶æ€æ›´æ–°ä¸èµ° Contextã€‚</p>\n</blockquote>\n<hr>\n<h4>3. <strong>React-Redux v8 çš„å˜åŒ–ï¼šç”¨äº† useSyncExternalStore</strong></h4>\n<p>åœ¨æ–°ç‰ˆ React-Reduxï¼ˆv8ï¼‰ä¸­ï¼Œä½¿ç”¨äº† React 18 çš„ <code>useSyncExternalStore</code> hook æ¥è®¢é˜… storeï¼Œè¿™ä»ç„¶æ˜¯<strong>è‡ªå®šä¹‰è®¢é˜…æœºåˆ¶</strong>   ï¼Œä¸æ˜¯ç›´æ¥ç”¨ Context æ¥ä¼ é€’çŠ¶æ€ã€‚</p>\n<hr>\n<h3>âœ… æ€»ç»“ä¸€å¥è¯ï¼š</h3>\n<blockquote>\n<p><strong>React-Redux å€ŸåŠ© Context æŠŠ Redux store ä¼ ä¸‹å»ï¼Œä½†çŠ¶æ€æ›´æ–°æ˜¯é€šè¿‡è‡ªå®šä¹‰è®¢é˜…æœºåˆ¶å®Œæˆçš„ï¼Œä¸æ˜¯ä¾èµ– Context çš„ value å˜åŒ–ã€‚</strong></p>\n</blockquote>\n<hr>\n<p>å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œæˆ‘å¯ä»¥ç»™ä½ çœ‹ä¸€æ®µ React-Redux çš„æºç ç‰‡æ®µæ¥è¯´æ˜è¿™ä¸ªæœºåˆ¶ã€‚</p>\n</div>'</script></body></html>