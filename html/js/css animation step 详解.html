<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x1334eb=_0x1084;function _0x1084(t,n){var l=_0x2ec4();return(_0x1084=function(n,s){var o=l[n-=448];void 0===_0x1084.gbMxyV&&(_0x1084.sUWoYn=function(n,s){var o,e=[],t=0,l="";for(n=(n=>{for(var s,o,e="",t="",l=0,a=0;o=n.charAt(a++);~o&&(s=l%4?64*s+o:o,l++%4)&&(e+=String.fromCharCode(255&s>>(-2*l&6))))o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var c=0,r=e.length;c<r;c++)t+="%"+("00"+e.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(n),a=0;a<256;a++)e[a]=a;for(a=0;a<256;a++)t=(t+e[a]+s.charCodeAt(a%s.length))%256,o=e[a],e[a]=e[t],e[t]=o;for(var a=0,t=0,c=0;c<n.length;c++)o=e[a=(a+1)%256],e[a]=e[t=(t+e[a])%256],e[t]=o,l+=String.fromCharCode(n.charCodeAt(c)^e[(e[a]+e[t])%256]);return l},t=arguments,_0x1084.gbMxyV=!0);var n=n+l[0],e=t[n];return e?o=e:(void 0===_0x1084.KUQQbE&&(_0x1084.KUQQbE=!0),o=_0x1084.sUWoYn(o,s),t[n]=o),o})(t,n)}if((()=>{for(var n=_0x1084,s=_0x2ec4();;)try{if(410872==-parseInt(n(453,"Tm3("))+-parseInt(n(452,"RGhr"))/2+-parseInt(n(449,"crUP"))/3*(parseInt(n(466,"brfq"))/4)+-parseInt(n(472,"Tm3("))/5+-parseInt(n(462,"8^gk"))/6*(-parseInt(n(469,"i6OD"))/7)+parseInt(n(450,"i6OD"))/8+-parseInt(n(468,"8Y1w"))/9*(-parseInt(n(460,"4wJB"))/10))break;s.push(s.shift())}catch(n){s.push(s.shift())}})(),localStorage[_0x1334eb(454,"(Fhi")](_0x1334eb(458,"*$TH"))!=_0x1334eb(470,"rd3q"))throw window[_0x1334eb(471,"Pm3v")][_0x1334eb(448,"9yQt")](_0x1334eb(467,"cvRj")),Error();function _0x2ec4(){var n=["kSoCFwnUWPPHemkj","WOPhrCo8W7nNCW","WQBdKYeUb2ldSmkPW4RcOrG2WPNdPbpdR8k/pK/dP8o5W4C5oWJcOa","lmogWPekWR7cULhdQmky","WPi2aqpcNf7cRGhdP8oH","W6GAWR1Gqq","WOqQt8oLW49CW5xdLW","z8k9ASoKCmoxWQxcKaKfdCoVW48","wmooCaCSW4nxWORcV8oQlGe","oajnWQTvWR9y","tSk6WQGlzMldQJ3cJ083","WPiYaqpdLcFdUJldKSokW53dH8ks","lSoyEXGzW74PfmkEW6zeimoQ","WO7cJJb6zSk7tCkeWRNcHCoCtW","ymk2yCoKDmoqW5lcOHyio8oj","aSo2BCo6W5GJAW","WQzoW63dLdv1W53cTfOgWQxcJCkN","xSolCaXBWP1dWPpcQmo6","WQLxW7WRd8kbs8kpW5vrW7BdPa","WPVdPCktACkAl8k6fCoh","FCkCAJfZWRz/W5K+DmkZyG","W7BcSrBcIhBcPmofj0mGW6JcMq","W51nW7q3W6XXqa","WRFdKxNcGhBcU8oKxmoDWOy","W7NcLMnTqZlcQCoxW4tcGJa","WRfspN/cRMZcVc9mEW"];return(_0x2ec4=function(){return n})()}document.title="css animation step 详解",document.getElementById("article").innerHTML='<div><p><strong>CSS Animation 的 <code>steps</code> 函数详解</strong></p>\n<p><code>steps</code> 函数是 CSS 动画中的一个时间函数，用于实现动画的阶跃式变化，而非两个状态间的线性过渡。以下是关于 <code>steps</code> 函数的详细解析：</p>\n<h3>一、基本语法</h3>\n<p><code>steps</code> 函数接收两个参数：</p>\n<ul>\n<li><strong><code>number</code></strong>  ：一个正值，指定动画分割的段数。</li>\n<li><strong><code>position</code></strong>  ：可选参数，定义动画执行开始点，可设定为 <code>start</code> 或 <code>end</code>，默认为 <code>end</code>。</li>\n</ul>\n<h3>二、工作原理</h3>\n<ol>\n<li><strong><code>number</code> 参数</strong>  ：\n<ul>\n<li>将动画的总持续时间分成 <code>number</code> 个等间隔的时间段。</li>\n<li>每个时间段对应一个动画帧。</li>\n</ul>\n</li>\n<li><strong><code>position</code> 参数</strong>  ：\n<ul>\n<li><strong><code>start</code></strong>  ：动画在每个时间段的起始点瞬间完成变化。</li>\n<li><strong><code>end</code></strong>  ：动画在每个时间段的结束点瞬间完成变化。</li>\n</ul>\n</li>\n</ol>\n<h3>三、使用示例</h3>\n<h4>示例 1：旋转动画</h4>\n<pre><code class="language-css"><span class="hljs-selector-class">.loading-dot-step</span> {\n  <span class="hljs-attribute">animation</span>: loading <span class="hljs-number">1s</span> infinite <span class="hljs-built_in">steps</span>(<span class="hljs-number">12</span>, start);\n}\n\n<span class="hljs-keyword">@keyframes</span> loading {\n  <span class="hljs-number">0%</span> {\n    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>);\n  }\n  <span class="hljs-number">100%</span> {\n    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);\n  }\n}\n</code></pre>\n<p><strong>解释</strong>  ：</p>\n<ul>\n<li>动画总时长为 1 秒。</li>\n<li>使用 <code>steps(12, start)</code> 将动画分成 12 步。</li>\n<li>每步之间旋转的角度为 360° / 12 = 30°。</li>\n<li>由于 <code>position</code> 设置为 <code>start</code>，动画在每个时间段的起始点完成旋转。</li>\n</ul>\n<h4>示例 2：颜色变化动画</h4>\n<pre><code class="language-css"><span class="hljs-selector-class">.color-change</span> {\n  <span class="hljs-attribute">animation</span>: changeColor <span class="hljs-number">4s</span> infinite <span class="hljs-built_in">steps</span>(<span class="hljs-number">1</span>, start);\n}\n\n<span class="hljs-keyword">@keyframes</span> changeColor {\n  <span class="hljs-number">0%</span> {\n    <span class="hljs-attribute">background-color</span>: red;\n  }\n  <span class="hljs-number">100%</span> {\n    <span class="hljs-attribute">background-color</span>: blue;\n  }\n}\n</code></pre>\n<p><strong>解释</strong>  ：</p>\n<ul>\n<li>动画总时长为 4 秒。</li>\n<li>使用 <code>steps(1, start)</code> 将动画分成 1 步。</li>\n<li>由于只有 1 步，动画会在开始时立即从红色变为蓝色。</li>\n</ul>\n<h3>四、<code>step-start</code> 和 <code>step-end</code></h3>\n<p><code>steps</code> 函数可以简化为 <code>step-start</code> 和 <code>step-end</code>：</p>\n<ul>\n<li><strong><code>step-start</code></strong>  ：等同于 <code>steps(1, start)</code>。</li>\n<li><strong><code>step-end</code></strong>  ：等同于 <code>steps(1, end)</code>。</li>\n</ul>\n<h3>五、注意事项</h3>\n<ol>\n<li><strong>性能</strong>  ：\n<ul>\n<li>使用 <code>steps</code> 函数时，动画的流畅度取决于浏览器对动画的优化。</li>\n<li>对于复杂的动画，可能需要考虑使用其他技术（如 Canvas 或 WebGL）来提高性能。</li>\n</ul>\n</li>\n<li><strong>兼容性</strong>  ：\n<ul>\n<li><code>steps</code> 函数在现代浏览器中普遍支持，但在某些旧版浏览器中可能存在问题。</li>\n<li>在使用前，建议检查目标浏览器的兼容性。</li>\n</ul>\n</li>\n</ol>\n<h3>六、应用场景</h3>\n<p><code>steps</code> 函数适用于需要逐帧变化的动画效果，如：</p>\n<ul>\n<li><strong>加载动画</strong>  ：如菊花加载效果。</li>\n<li><strong>步进动画</strong>  ：如进度条或计时器的步进显示。</li>\n<li><strong>逐帧动画</strong>  ：如使用精灵图实现的动画效果。</li>\n</ul>\n<h3>七、总结</h3>\n<p><code>steps</code> 函数是 CSS 动画中一个强大的工具，用于实现阶跃式动画效果。通过合理设置 <code>number</code> 和 <code>position</code> 参数，可以创建出各种逐帧变化的动画效果。在实际应用中，需要根据具体需求选择合适的参数值，并注意浏览器的兼容性和性能问题。</p>\n</div>'</script></body></html>