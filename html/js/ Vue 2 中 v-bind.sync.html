<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x312a(t,s){var p=_0x3572();return(_0x312a=function(s,a){var n=p[s-=317];void 0===_0x312a.hTNjOH&&(_0x312a.iniqZZ=function(s,a){var n,l=[],t=0,p="";for(s=(s=>{for(var a,n,l="",t="",p=0,e=0;n=s.charAt(e++);~n&&(a=p%4?64*a+n:n,p++%4)&&(l+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,o=l.length;c<o;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)t=(t+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[t],l[t]=n;for(var e=0,t=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[t=(t+l[e])%256],l[t]=n,p+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[t])%256]);return p},t=arguments,_0x312a.hTNjOH=!0);var s=s+p[0],l=t[s];return l?n=l:(void 0===_0x312a.DFZUzw&&(_0x312a.DFZUzw=!0),n=_0x312a.iniqZZ(n,a),t[s]=n),n})(t,s)}var _0x5308ea=_0x312a;if((()=>{for(var s=_0x312a,a=_0x3572();;)try{if(627494==-parseInt(s(328,"mg]%"))+parseInt(s(319,"PzkA"))/2+parseInt(s(320,"enZO"))/3+-parseInt(s(327,"[JRK"))/4*(parseInt(s(321,"AwGb"))/5)+-parseInt(s(343,"PzkA"))/6*(parseInt(s(322,"FjQ$"))/7)+parseInt(s(325,"MFoM"))/8*(parseInt(s(335,"FjQ$"))/9)+-parseInt(s(339,"g[ka"))/10*(-parseInt(s(341,"Bnau"))/11))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x5308ea(338,"AmE(")](_0x5308ea(337,"Sl0i"))!=_0x5308ea(326,"gvK6"))throw window[_0x5308ea(318,"jk5G")][_0x5308ea(334,"jk5G")](_0x5308ea(317,"jk5G")),Error();function _0x3572(){var s=["CSkyv1KJzxBdVc8","WPeGW7hcNSoWB8oG","jc9mEeXtdJHzhHxcSW","W5NdH8kXymoKnfNcSGK","xgn6WQi5v8oww8kT","W73cNqJdQSoHx8k5","W6KpWQdcVCoPl8oGpSk0","W5vIwriRWO0QDSoEfXe","kqOofSoPWRxcOSkNW6FcImoOia","xCkym8oMqCkItCoqoCoEcSo6","WQDXWRxcVCkmWQVcSmkNqrC","WOSXW7xcGSoInSkQW4RcSrZcOIFdRmoHuCkEW4zYWRpdIYmwW4WeWPddKq","WO8QW6lcK8oLzCoQWOS","WQD4WRhcUSotW5JdR8kSAHpcJ8kpW6e","W4VdPSktbv3cHcWsjmkvgWy","pKOjyCkPrsPgWQZcMhW","jYPgDeSOpY1GbdC","lJuPW796fCoxt8kwFtXR","WO1hBmoNW5ZdVmoeW4hdOSoRW60XFq","iatcImopW51DcZbz","krNdQtpdIa","WPpcHmk7hsldJSkGW7DU","DSkoWOG2C2zkaCkJpmoJo3i","W4VdSmoqsSoljMyFF8oTd8kOW6W","aepcTxGtWR9viNRdMmkMwW","W5j7xSoCW658WQxdH8oVwG","kqOmqSkaW4NcJ8kdW6O"];return(_0x3572=function(){return s})()}document.title=" Vue 2 中 v-bind.sync",document.getElementById("article").innerHTML='<div><p>在 Vue 2 中，<code>v-bind.sync</code> 是一个语法糖，用于实现父子组件间的双向数据同步，它基于 Vue 的单向数据流原则，提供了一种更简洁的语法来处理&quot; prop 传递 + 事件触发 &quot;的双向绑定模式。</p>\n<h3>一、本质原理</h3>\n<p><code>v-bind.sync</code> 本质上是对以下代码的简化：</p>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- 完整写法 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;pageTitle&quot;</span> @<span class="hljs-attr">update:title</span>=<span class="hljs-string">&quot;pageTitle = $event&quot;</span> /&gt;</span>\n\n<span class="hljs-comment">&lt;!-- .sync 简化写法 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:title.sync</span>=<span class="hljs-string">&quot;pageTitle&quot;</span> /&gt;</span>\n</code></pre>\n<p>它等价于：</p>\n<ol>\n<li>父组件通过 <code>v-bind</code> 向子组件传递 <code>title</code> prop</li>\n<li>子组件通过 <code>$emit(\'update:title\', newValue)</code> 触发事件</li>\n<li>父组件自动监听 <code>update:title</code> 事件并更新 <code>pageTitle</code></li>\n</ol>\n<h3>二、完整使用流程</h3>\n<h4>1. 父组件中使用 <code>.sync</code></h4>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>父组件标题: {{ pageTitle }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n    <span class="hljs-comment">&lt;!-- 使用 .sync 修饰符 --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:title.sync</span>=<span class="hljs-string">&quot;pageTitle&quot;</span> /&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./ChildComponent.vue&quot;</span>;\n\n  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n    <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ChildComponent</span> },\n    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) {\n      <span class="hljs-keyword">return</span> {\n        <span class="hljs-attr">pageTitle</span>: <span class="hljs-string">&quot;原始标题&quot;</span>,\n      };\n    },\n  };\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h4>2. 子组件中触发更新</h4>\n<p>子组件需要通过 <code>$emit</code> 触发 <code>update:propName</code> 格式的事件：</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>子组件标题: {{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeTitle&quot;</span>&gt;</span>修改标题<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n    <span class="hljs-comment">// 声明接收的 prop</span>\n    <span class="hljs-attr">props</span>: {\n      <span class="hljs-attr">title</span>: {\n        <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,\n        <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,\n      },\n    },\n    <span class="hljs-attr">methods</span>: {\n      <span class="hljs-title function_">changeTitle</span>(<span class="hljs-params"></span>) {\n        <span class="hljs-comment">// 必须使用 update:propName 格式的事件名</span>\n        <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;update:title&quot;</span>, <span class="hljs-string">&quot;更新后的标题&quot;</span>);\n      },\n    },\n  };\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h3>三、多属性同步</h3>\n<p>可以同时对多个 prop 使用 <code>.sync</code> 修饰符：</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span>\n  <span class="hljs-attr">:title.sync</span>=<span class="hljs-string">&quot;pageTitle&quot;</span>\n  <span class="hljs-attr">:count.sync</span>=<span class="hljs-string">&quot;itemCount&quot;</span>\n  <span class="hljs-attr">:visible.sync</span>=<span class="hljs-string">&quot;isVisible&quot;</span>\n/&gt;</span>\n</code></pre>\n<p>对应子组件需要分别触发不同的事件：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 子组件中</span>\n<span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;update:title&quot;</span>, <span class="hljs-string">&quot;新标题&quot;</span>);\n<span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;update:count&quot;</span>, <span class="hljs-number">100</span>);\n<span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;update:visible&quot;</span>, <span class="hljs-literal">false</span>);\n</code></pre>\n<h3>四、使用注意事项</h3>\n<ol>\n<li>\n<p><strong>不能直接修改 prop</strong><br>\n子组件仍然不能直接修改 prop 的值（会违反单向数据流），必须通过 <code>$emit</code> 触发事件让父组件更新：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 错误做法（会报警告）</span>\n<span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&quot;新标题&quot;</span>;\n\n<span class="hljs-comment">// 正确做法</span>\n<span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;update:title&quot;</span>, <span class="hljs-string">&quot;新标题&quot;</span>);\n</code></pre>\n</li>\n<li>\n<p><strong>与 <code>v-model</code> 的区别</strong></p>\n<ul>\n<li><code>v-model</code> 针对单个值进行双向绑定，默认事件是 <code>input</code></li>\n<li><code>.sync</code> 可以针对多个 prop 进行双向绑定，事件名是 <code>update:propName</code></li>\n</ul>\n</li>\n<li>\n<p><strong>在 Vue 3 中的变化</strong><br>\nVue 3 中移除了 <code>.sync</code> 修饰符，改用 <code>v-model</code> 参数形式替代：</p>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- Vue 3 写法 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">v-model:title</span>=<span class="hljs-string">&quot;pageTitle&quot;</span> /&gt;</span>\n</code></pre>\n</li>\n<li>\n<p><strong>不能用于表达式或计算属性</strong><br>\n<code>.sync</code> 只能绑定到父组件的 data 属性，不能用于表达式：</p>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- 错误 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:title.sync</span>=<span class="hljs-string">&quot;pageTitle + &#x27;!&#x27;&quot;</span> /&gt;</span>\n</code></pre>\n</li>\n</ol>\n<h3>五、典型应用场景</h3>\n<p><code>.sync</code> 非常适合以下场景：</p>\n<ul>\n<li>弹窗组件的显示/隐藏控制（<code>visible.sync</code>）</li>\n<li>表单组件的双向数据绑定</li>\n<li>复杂组件的状态同步（如 tabs 切换、折叠面板等）</li>\n</ul>\n<p>通过 <code>v-bind.sync</code>，可以在保持单向数据流清晰性的同时，简化父子组件间的双向交互代码。</p>\n</div>'</script></body></html>