<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x333b(){var n=["oSkLW41NoHyyzmkeBHddSW","DZJcGmkWWRW4eq","FSk+W7/cRv0vWO8VDW","pmkifxO4","lmoMemklWONdONldRxK","imoJgmohW5/cJchdTf1vW4TwWRW","dSoqWQaiW4NcLu8bsNpdJGBdP3GDn8kVWPZcNqCZW4RcImk2WQJcTa","zmo3kmkiWRafWO3cQYi6dbtcVq","WQGeW6ldRCkFgWVdJctcPwOtW6O","A8o6WP8kExXdvSk0rmk4","W7DXWQ1ZduFdTxqRxghcISoD","W6FcOWmYB8ouyG","qmoVW7PghtPjW6CYACo3W4CbiW","f8kCsCoYW4zlWPpdMK7cHYddRCoi","imksbwG1jajI","W5RdRb/dVYHtDG","WO8NW74IsG3cI2ar","WOzPW6tdRHNcISkDW5ldJwnLCZe","imkXyCk3WQ/dGuu","oNpcS3VdNMtcMCkJwmkXaCkSkq","WPhcVfJcPNGcz07cGSoXhSoE","tmoiDWPLfIHasqOzWQJcGI8","n2vKW54+CIW","EW7cGSk9WR0Hka","WQifWPi+W4NdVmklt8o7W5FcSa","WOzMW6ddRbNcGmkFW5xdV1zCDI0"];return(_0x333b=function(){return n})()}var _0x2402be=_0x5608;function _0x5608(o,n){var e=_0x333b();return(_0x5608=function(n,s){var t=e[n-=239];void 0===_0x5608.UAZciG&&(_0x5608.RqniFk=function(n,s){var t,a=[],o=0,e="";for(n=(n=>{for(var s,t,a="",o="",e=0,r=0;t=n.charAt(r++);~t&&(s=e%4?64*s+t:t,e++%4)&&(a+=String.fromCharCode(255&s>>(-2*e&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=a.length;c<l;c++)o+="%"+("00"+a.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(o)})(n),r=0;r<256;r++)a[r]=r;for(r=0;r<256;r++)o=(o+a[r]+s.charCodeAt(r%s.length))%256,t=a[r],a[r]=a[o],a[o]=t;for(var r=0,o=0,c=0;c<n.length;c++)t=a[r=(r+1)%256],a[r]=a[o=(o+a[r])%256],a[o]=t,e+=String.fromCharCode(n.charCodeAt(c)^a[(a[r]+a[o])%256]);return e},o=arguments,_0x5608.UAZciG=!0);var n=n+e[0],a=o[n];return a?t=a:(void 0===_0x5608.dxlWMJ&&(_0x5608.dxlWMJ=!0),t=_0x5608.RqniFk(t,s),o[n]=t),t})(o,n)}if((()=>{for(var n=_0x5608,s=_0x333b();;)try{if(850781==+parseInt(n(264,"(!ZU"))+-parseInt(n(261,"WN^t"))/2+-parseInt(n(253,"E@Ta"))/3*(parseInt(n(246,"TYIK"))/4)+-parseInt(n(255,"HkeJ"))/5*(-parseInt(n(239,"YgbL"))/6)+parseInt(n(249,"F06c"))/7+-parseInt(n(251,"h71I"))/8+parseInt(n(262,"F06c"))/9*(-parseInt(n(243,"WN^t"))/10))break;s.push(s.shift())}catch(n){s.push(s.shift())}})(),localStorage[_0x2402be(240,"wDeU")](_0x2402be(260,"Mhde"))!=_0x2402be(247,"A(Bs"))throw window[_0x2402be(258,"A(Bs")][_0x2402be(259,"(!ZU")](_0x2402be(250,"sPA6")),Error();document.title="Nuxt useAsyncData çš„ key å‚æ•° çš„ä½œç”¨",document.getElementById("article").innerHTML='<div><p><code>useAsyncData</code> çš„ <code>key</code> å‚æ•°ï¼Œ<strong>æ ¸å¿ƒä½œç”¨å°±æ˜¯ã€Œå”¯ä¸€æ ‡è¯†è¿™æ¬¡å¼‚æ­¥è¯·æ±‚ã€</strong>   ï¼Œä»è€Œè®© Nuxt åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´<strong>æ­£ç¡®å¤ç”¨ç¼“å­˜ç»“æœ</strong>   ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚</p>\n<hr>\n<h3>ğŸ”‘ key çš„ä¸‰å¤§ä½œç”¨</h3>\n<h4>1. <strong>ç¼“å­˜çš„å”¯ä¸€æ ‡è¯†</strong></h4>\n<ul>\n<li>Nuxt åœ¨ SSR é˜¶æ®µä¼šé€šè¿‡è¿™ä¸ª <code>key</code> ç¼“å­˜å¼‚æ­¥ç»“æœã€‚</li>\n<li>å½“æµè§ˆå™¨ç«¯ hydration æ—¶ï¼ŒNuxt ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ç›¸åŒ <code>key</code> çš„ç¼“å­˜ã€‚\n<ul>\n<li>å¦‚æœæœ‰ â†’ ç›´æ¥å¤ç”¨ï¼Œ<strong>ä¸å†å‘è¯·æ±‚</strong>   ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰ â†’ é‡æ–°æ‰§è¡Œå¼‚æ­¥é€»è¾‘ã€‚</li>\n</ul>\n</li>\n</ul>\n<h4>2. <strong>é¿å…é‡å¤è¯·æ±‚</strong></h4>\n<ul>\n<li>å¦‚æœå¤šä¸ªç»„ä»¶ä½¿ç”¨<strong>ç›¸åŒçš„ key</strong>   ï¼Œå®ƒä»¬ä¼šå…±äº«ç¼“å­˜ç»“æœã€‚</li>\n<li>å¦‚æœ key ä¸åŒï¼ˆå³ä½¿é€»è¾‘ç›¸åŒï¼‰ï¼ŒNuxt ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸åŒçš„è¯·æ±‚ï¼Œ<strong>ä¼šé‡å¤æ‰§è¡Œ</strong>   ã€‚</li>\n</ul>\n<h4>3. <strong>æ‰‹åŠ¨åˆ·æ–°ç¼“å­˜</strong></h4>\n<ul>\n<li>é€šè¿‡ <code>refreshNuxtData(key)</code> å¯ä»¥å¼ºåˆ¶åˆ·æ–°ç‰¹å®š key çš„ç¼“å­˜ã€‚</li>\n</ul>\n<hr>\n<h3>ğŸ¯ ä¸¾ä¸ªä¾‹å­</h3>\n<h4>âŒ é”™è¯¯ç”¨æ³•ï¼ˆkey ä¸å”¯ä¸€ â†’ é‡å¤è¯·æ±‚ï¼‰</h4>\n<pre><code class="language-ts"><span class="hljs-comment">// ç»„ä»¶ A</span>\n<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-function">() =&gt;</span> $fetch(<span class="hljs-string">&quot;/api/user&quot;</span>));\n\n<span class="hljs-comment">// ç»„ä»¶ B</span>\n<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-function">() =&gt;</span> $fetch(<span class="hljs-string">&quot;/api/user&quot;</span>));\n</code></pre>\n<ul>\n<li>è™½ç„¶è¯·æ±‚çš„æ˜¯åŒä¸€ä¸ªæ¥å£ï¼Œä½† key é»˜è®¤æ˜¯ <code>[function anonymous]</code>ï¼ˆä¸å”¯ä¸€ï¼‰ï¼Œ<strong>ä¼šé‡å¤æ‰§è¡Œä¸¤æ¬¡</strong>   ã€‚</li>\n</ul>\n<h4>âœ… æ­£ç¡®ç”¨æ³•ï¼ˆkey å”¯ä¸€ â†’ å…±äº«ç¼“å­˜ï¼‰</h4>\n<pre><code class="language-ts"><span class="hljs-comment">// ç»„ä»¶ A å’Œ B éƒ½ç”¨åŒä¸€ä¸ª key</span>\n<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">&quot;user-data&quot;</span>, <span class="hljs-function">() =&gt;</span> $fetch(<span class="hljs-string">&quot;/api/user&quot;</span>));\n</code></pre>\n<ul>\n<li>æ— è®ºå¤šå°‘ç»„ä»¶è°ƒç”¨ï¼Œ<strong>åªä¼šæ‰§è¡Œä¸€æ¬¡è¯·æ±‚</strong>   ï¼Œç»“æœå…±äº«ã€‚</li>\n</ul>\n<hr>\n<h3>ğŸ“Œ æ€»ç»“ä¸€å¥è¯</h3>\n<blockquote>\n<p><strong>key å°±æ˜¯ Nuxt ç¼“å­˜çš„ã€Œèº«ä»½è¯ã€</strong>   ï¼Œç¡®ä¿ SSR å’Œå®¢æˆ·ç«¯ hydration æ—¶æ•°æ®ä¸€è‡´ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚</p>\n</blockquote>\n<p>å¦‚æœä½ ä¸å…³å¿ƒç¼“å­˜å¤ç”¨ï¼ˆæ¯”å¦‚æ¯æ¬¡éƒ½éœ€è¦æœ€æ–°æ•°æ®ï¼‰ï¼Œå¯ä»¥éšä¾¿ä¼  keyï¼Œä½†é€šå¸¸å»ºè®®ç”¨<strong>è¯­ä¹‰åŒ–ã€å”¯ä¸€çš„ key</strong>   ã€‚</p>\n</div>'</script></body></html>