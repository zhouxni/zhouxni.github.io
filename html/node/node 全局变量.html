<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x29f3(e,s){var l=_0x28f5();return(_0x29f3=function(s,n){var o=l[s-=118];void 0===_0x29f3.uLeRGc&&(_0x29f3.mxSqLu=function(s,n){var o,a=[],e=0,l="";for(s=(s=>{for(var n,o,a="",e="",l=0,c=0;o=s.charAt(c++);~o&&(n=l%4?64*n+o:o,l++%4)&&(a+=String.fromCharCode(255&n>>(-2*l&6))))o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var r=0,t=a.length;r<t;r++)e+="%"+("00"+a.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)})(s),c=0;c<256;c++)a[c]=c;for(c=0;c<256;c++)e=(e+a[c]+n.charCodeAt(c%n.length))%256,o=a[c],a[c]=a[e],a[e]=o;for(var c=0,e=0,r=0;r<s.length;r++)o=a[c=(c+1)%256],a[c]=a[e=(e+a[c])%256],a[e]=o,l+=String.fromCharCode(s.charCodeAt(r)^a[(a[c]+a[e])%256]);return l},e=arguments,_0x29f3.uLeRGc=!0);var s=s+l[0],a=e[s];return a?o=a:(void 0===_0x29f3.AiNLmB&&(_0x29f3.AiNLmB=!0),o=_0x29f3.mxSqLu(o,n),e[s]=o),o})(e,s)}function _0x28f5(){var s=["WPvYWQ7cMCo5sSoIx8kfmCkwCCo9","W4hdU8oXWPqi","W5fwbmk0W6yYBCovCKroW6hdP8ov","WPxcLGpcQmkPrCk0W45TxLjkW6y","WR7dUConAmkexmkodhZdSKBcKq","WRFdG05UWQ3dMcy","Amo4g2O4W6RcKmk7","WPLuW6LnkhqjyCoDr8o5qSoN","n8kIgwW4W6lcH8kz","oCo6WQFdHMlcL8koFNqnwwb0","WQqxW79Um2VdTbFdL1JdRCktWOi","WQ8sW7HKnMRdSxddMNZdVSkfWOj0","WP/dKbZcHSkTd8kiwSoqW7TmWQddNCkr","W4dcTuxdN2aLWP8","kmkIWOrxWQzRp3v/WP7cR3tcHIO","cCkkb8kdWQHKWPC","jv1CWP/cNmo4m8ouW6WTr8k0W54","W5LAcmk4W68YcSkeqgzOW7u","WQldG0PlWRJdNI4","WPiOWRpcHSohW7GqvW","W61FWR46afpdGYreasRdVCkJeaddHCkCyMxdGe0LWQPKbbe","WQ8xW7rKmwZdTbpdN03dISkEWRy","W4qWf8oTmSk+W6CJWQC","FCoNW7ZdP8o1W4qEkmkJW4FcR33cTG"];return(_0x28f5=function(){return s})()}var _0x36bc11=_0x29f3;if((()=>{for(var s=_0x29f3,n=_0x28f5();;)try{if(998403==-parseInt(s(127,"(5Ud"))+parseInt(s(132,"mkYe"))/2+parseInt(s(125,"lCeg"))/3*(parseInt(s(141,"sFem"))/4)+parseInt(s(138,"lCeg"))/5+parseInt(s(120,"%s1G"))/6*(parseInt(s(136,"lUAo"))/7)+parseInt(s(118,"@]6y"))/8+-parseInt(s(140,"7BCl"))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x36bc11(122,"CS7W")](_0x36bc11(126,"UxbQ"))!=_0x36bc11(129,"I7&!"))throw window[_0x36bc11(134,"lUAo")][_0x36bc11(133,"CS7W")](_0x36bc11(124,"6p^J")),Error();document.title="node 全局变量",document.getElementById("article").innerHTML='<div><p>在 Node.js 中，<strong>全局变量</strong>   是可以在任何模块中直接访问的变量，无需通过 <code>require</code> 导入。它们由 Node.js 运行时环境自动提供，用于访问系统信息、模块功能或控制执行环境。以下是 Node.js 的主要全局变量及其用途：</p>\n<hr>\n<h2><strong>1. 常用全局变量</strong></h2>\n<h3><strong><code>__dirname</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：返回当前模块所在的<strong>目录绝对路径</strong>  （不包含文件名）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(__dirname); <span class="hljs-comment">// 输出：/Users/yourname/project</span>\n</code></pre>\n</li>\n</ul>\n<h3><strong><code>__filename</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：返回当前模块的<strong>文件绝对路径</strong>  （包含文件名）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(__filename); <span class="hljs-comment">// 输出：/Users/yourname/project/app.js</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong><code>process</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：提供与当前 Node.js <strong>进程</strong>  相关的信息和控制。</li>\n<li><strong>常用属性/方法</strong>  ：\n<ul>\n<li><code>process.argv</code>：获取命令行参数（数组形式）。</li>\n<li><code>process.env</code>：访问环境变量（如 <code>process.env.NODE_ENV</code>）。</li>\n<li><code>process.cwd()</code>：返回当前工作目录（可能与 <code>__dirname</code> 不同）。</li>\n<li><code>process.exit(code)</code>：退出进程（<code>code=0</code> 表示成功）。</li>\n<li><code>process.on(\'exit\', callback)</code>：监听进程退出事件。</li>\n</ul>\n</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(process.<span class="hljs-property">argv</span>); <span class="hljs-comment">// 输出命令行参数</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">PATH</span>); <span class="hljs-comment">// 输出系统环境变量 PATH</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong><code>require()</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：加载模块（文件、核心模块或 <code>node_modules</code> 中的包）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>); <span class="hljs-comment">// 加载内置模块</span>\n<span class="hljs-keyword">const</span> lodash = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;lodash&#x27;</span>); <span class="hljs-comment">// 加载第三方包</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong><code>module</code> 和 <code>exports</code></strong></h3>\n<ul>\n<li><strong><code>module</code></strong><br>\n表示当前模块的元信息（如 <code>module.exports</code> 定义导出内容）。</li>\n<li><strong><code>exports</code></strong><br>\n是 <code>module.exports</code> 的引用（简化导出语法）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-comment">// 导出对象</span>\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Node.js&#x27;</span> };\n\n<span class="hljs-comment">// 等效写法（exports 是 module.exports 的引用）</span>\n<span class="hljs-built_in">exports</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;Node.js&#x27;</span>;\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong><code>Buffer</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：处理二进制数据（如文件、网络流）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>); <span class="hljs-comment">// 创建 Buffer</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// 输出: Hello</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong><code>setTimeout</code> / <code>setInterval</code> / <code>clearTimeout</code> / <code>clearInterval</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：与浏览器中的定时器功能相同（但属于 Node.js 全局作用域）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;1秒后执行&#x27;</span>), <span class="hljs-number">1000</span>);\n</code></pre>\n</li>\n</ul>\n<hr>\n<h3><strong><code>console</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：提供标准输出/错误打印（如 <code>console.log()</code>、<code>console.error()</code>）。</li>\n</ul>\n<hr>\n<h2><strong>2. 其他全局变量</strong></h2>\n<h3><strong><code>global</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：Node.js 的<strong>全局命名空间对象</strong>  （类似浏览器中的 <code>window</code>）。</li>\n<li><strong>注意</strong>  ：在模块中定义的变量默认不是全局的，需显式挂载到 <code>global</code>：<pre><code class="language-javascript"><span class="hljs-variable language_">global</span>.<span class="hljs-property">myVar</span> = <span class="hljs-string">&#x27;全局变量&#x27;</span>; <span class="hljs-comment">// 不推荐（易造成污染）</span>\n</code></pre>\n</li>\n</ul>\n<h3><strong><code>URL</code> 和 <code>URLSearchParams</code></strong></h3>\n<ul>\n<li><strong>作用</strong>  ：解析和操作 URL（无需 <code>require(\'url\')</code>，Node.js 10+ 全局可用）。</li>\n<li><strong>示例</strong>  ：<pre><code class="language-javascript"><span class="hljs-keyword">const</span> myUrl = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">&#x27;https://example.com?name=Node&#x27;</span>);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myUrl.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;name&#x27;</span>)); <span class="hljs-comment">// 输出: Node</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<h2><strong>3. 与浏览器全局变量的区别</strong></h2>\n<table>\n<thead>\n<tr>\n<th>Node.js 全局变量</th>\n<th>浏览器全局变量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>__dirname</code>, <code>__filename</code></td>\n<td>无</td>\n</tr>\n<tr>\n<td><code>process</code></td>\n<td>无</td>\n</tr>\n<tr>\n<td><code>require</code></td>\n<td>无</td>\n</tr>\n<tr>\n<td><code>module</code> / <code>exports</code></td>\n<td>无</td>\n</tr>\n<tr>\n<td><code>Buffer</code></td>\n<td>无（需 polyfill）</td>\n</tr>\n<tr>\n<td><code>global</code></td>\n<td><code>window</code></td>\n</tr>\n<tr>\n<td><code>setTimeout</code></td>\n<td><code>window.setTimeout</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2><strong>4. 注意事项</strong></h2>\n<ol>\n<li><strong>避免滥用全局变量</strong><br>\n使用 <code>global</code> 可能导致命名冲突和难以维护的代码（推荐模块化导出）。</li>\n<li><strong><code>process.env</code> 用于配置</strong><br>\n常用于区分开发/生产环境（如 <code>NODE_ENV=production</code>）。</li>\n<li><strong><code>Buffer</code> 的安全性问题</strong><br>\n处理二进制数据时需注意内存分配和编码（如 <code>Buffer.alloc()</code> 比 <code>Buffer.from()</code> 更安全）。</li>\n</ol>\n<hr>\n<h2><strong>示例：综合使用全局变量</strong></h2>\n<pre><code class="language-javascript"><span class="hljs-comment">// 获取当前文件路径和命令行参数</span>\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;文件路径:&#x27;</span>, __filename);\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;命令行参数:&#x27;</span>, process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>));\n\n<span class="hljs-comment">// 使用定时器</span>\n<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;3秒后执行&#x27;</span>);\n}, <span class="hljs-number">3000</span>);\n\n<span class="hljs-comment">// 导出模块</span>\n<span class="hljs-built_in">exports</span>.<span class="hljs-property">version</span> = <span class="hljs-string">&#x27;1.0&#x27;</span>;\n</code></pre>\n<hr>\n<p>掌握这些全局变量能帮助你更高效地开发 Node.js 应用！</p>\n</div>'</script></body></html>