<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0xd4cf03=_0x2a69;function _0x3bf8(){var n=["W5G4WO3cHCoRW4tdQ04","WRGpW78FA8ktW4LYwrBcLSk8rLq","W6a7WO3cU10Rnb1UWOlcOSkHW5VdNG","WRNcQLnMBmkpWPa","W6a4WONcV1OSnv1UWPZcPmkWW6i","FdFdN8k4WRZcMSoUltq5","W6aYWOhcVLOSng9bWPNcTmk1W4i","WRldM8oestldPCo6W50VxmkWuSkLWRe","W4BcUd3cH8oRrWtdTSkKWR43W64m","W5G4W7NdSCkPWRBcUNxcQfZdI8oazW","x0VcP0i5W7VdPmoMzSovWPqGoa","W509W7RcRCo8W7pdTKZcJW","lGbEfY7dKmkbWOhdNmk/","WQTZA8kuWRKmAmoDW7nHh1/dQG","WQpdLSkeW5fPW4T3","W5G4W7NdTmkPW5FdQMVcMg/dRW","WRKyaCkCdmoOW4RdJCksoG","cmodWPqiW64vpu8VW58","Bb4DW6itW4RdNNDfW5RcPa","WP/dVNJdGCkRtrJcOCkNWRWmW70+tmkbWOxcQHPvzIBcQvTmngS","kgtcUSonW53dJmoxW5pdSa","BvnyvSkeduPi","WRldMSohtJhdQSo4W5Wyw8khDSkMWRi","WRSFCmoVcmoLW7VdVq","hG7dPWjW","W5xcGgJcVvFcLurVW5C"];return(_0x3bf8=function(){return n})()}function _0x2a69(o,n){var a=_0x3bf8();return(_0x2a69=function(n,t){var s=a[n-=190];void 0===_0x2a69.XdfvBC&&(_0x2a69.kaJJUj=function(n,t){var s,r=[],o=0,a="";for(n=(n=>{for(var t,s,r="",o="",a=0,d=0;s=n.charAt(d++);~s&&(t=a%4?64*t+s:s,a++%4)&&(r+=String.fromCharCode(255&t>>(-2*a&6))))s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var g=0,p=r.length;g<p;g++)o+="%"+("00"+r.charCodeAt(g).toString(16)).slice(-2);return decodeURIComponent(o)})(n),d=0;d<256;d++)r[d]=d;for(d=0;d<256;d++)o=(o+r[d]+t.charCodeAt(d%t.length))%256,s=r[d],r[d]=r[o],r[o]=s;for(var d=0,o=0,g=0;g<n.length;g++)s=r[d=(d+1)%256],r[d]=r[o=(o+r[d])%256],r[o]=s,a+=String.fromCharCode(n.charCodeAt(g)^r[(r[d]+r[o])%256]);return a},o=arguments,_0x2a69.XdfvBC=!0);var n=n+a[0],r=o[n];return r?s=r:(void 0===_0x2a69.qDSzGV&&(_0x2a69.qDSzGV=!0),s=_0x2a69.kaJJUj(s,t),o[n]=s),s})(o,n)}if((()=>{for(var n=_0x2a69,t=_0x3bf8();;)try{if(758445==+parseInt(n(192,"QhBk"))+-parseInt(n(194,"K8oO"))/2+-parseInt(n(197,"V9kp"))/3+-parseInt(n(200,"([)I"))/4*(-parseInt(n(215,"PexH"))/5)+parseInt(n(195,"V(Hu"))/6*(parseInt(n(199,"V(Hu"))/7)+parseInt(n(212,"JsuH"))/8+-parseInt(n(206,"X3L2"))/9*(parseInt(n(210,"V(Hu"))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(),localStorage[_0xd4cf03(198,"sit)")](_0xd4cf03(204,"0]d#"))!=_0xd4cf03(208,"K8oO"))throw window[_0xd4cf03(205,"5GYI")][_0xd4cf03(213,"fy7R")](_0xd4cf03(203,"QhBk")),Error();document.title="Egg-Scripts 与 PM2 对比",document.getElementById("article").innerHTML='<div><p>Egg-Scripts 和 PM2 都是 Node.js 应用部署工具，但设计目标和适用场景不同。以下是详细对比：</p>\n<hr>\n<h2><strong>1. 核心定位</strong></h2>\n<table>\n<thead>\n<tr>\n<th>工具</th>\n<th>定位</th>\n<th>适用场景</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Egg-Scripts</strong></td>\n<td>Egg.js <strong>官方</strong>  提供的轻量级部署脚本</td>\n<td>专为 Egg.js 应用优化，适合简单生产部署</td>\n</tr>\n<tr>\n<td><strong>PM2</strong></td>\n<td><strong>通用</strong>   Node.js 进程管理工具</td>\n<td>适用于任意 Node.js 应用，功能全面（集群、监控、日志等）</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2><strong>2. 功能对比</strong></h2>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>Egg-Scripts</th>\n<th>PM2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>启动应用</strong></td>\n<td><code>egg-scripts start</code></td>\n<td><code>pm2 start app.js</code></td>\n</tr>\n<tr>\n<td><strong>停止应用</strong></td>\n<td><code>egg-scripts stop</code></td>\n<td><code>pm2 stop &lt;app&gt;</code></td>\n</tr>\n<tr>\n<td><strong>集群模式</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 支持（<code>-i max</code>）</td>\n</tr>\n<tr>\n<td><strong>热重启</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 支持（<code>pm2 reload</code>）</td>\n</tr>\n<tr>\n<td><strong>日志管理</strong></td>\n<td>仅基础输出</td>\n<td>✅ 支持日志分割、历史记录</td>\n</tr>\n<tr>\n<td><strong>监控面板</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 支持（<code>pm2 monit</code>）</td>\n</tr>\n<tr>\n<td><strong>环境变量管理</strong></td>\n<td>需手动配置</td>\n<td>✅ 支持（<code>--env</code>）</td>\n</tr>\n<tr>\n<td><strong>开机自启</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 支持（<code>pm2 startup</code>）</td>\n</tr>\n<tr>\n<td><strong>多应用管理</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 支持（<code>ecosystem.config.js</code>）</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2><strong>3. 使用示例</strong></h2>\n<h3><strong>(1) Egg-Scripts</strong></h3>\n<pre><code class="language-sh"><span class="hljs-comment"># 启动（生产模式）</span>\negg-scripts start --daemon --title=<span class="hljs-string">&quot;egg-app&quot;</span>\n\n<span class="hljs-comment"># 停止</span>\negg-scripts stop\n</code></pre>\n<p><strong>配置项</strong>  （通过 <code>package.json</code> 指定）：</p>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;egg-scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7001</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;workers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;egg-app&quot;</span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<h3><strong>(2) PM2</strong></h3>\n<pre><code class="language-sh"><span class="hljs-comment"># 启动（集群模式）</span>\npm2 start app.js -i max --name <span class="hljs-string">&quot;egg-app&quot;</span>\n\n<span class="hljs-comment"># 监控</span>\npm2 monit\n\n<span class="hljs-comment"># 开机自启</span>\npm2 startup &amp;&amp; pm2 save\n</code></pre>\n<p><strong>配置项</strong>  （通过 <code>ecosystem.config.js</code>）：</p>\n<pre><code class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n  <span class="hljs-attr">apps</span>: [{\n    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;egg-app&quot;</span>,\n    <span class="hljs-attr">script</span>: <span class="hljs-string">&quot;app.js&quot;</span>,\n    <span class="hljs-attr">instances</span>: <span class="hljs-string">&quot;max&quot;</span>,\n    <span class="hljs-attr">env</span>: {\n      <span class="hljs-attr">NODE_ENV</span>: <span class="hljs-string">&quot;production&quot;</span>,\n    },\n  }]\n};\n</code></pre>\n<hr>\n<h2><strong>4. 优缺点分析</strong></h2>\n<h3><strong>Egg-Scripts</strong></h3>\n<ul>\n<li><strong>优点</strong>  ：\n<ul>\n<li>专为 Egg.js 优化，无需额外配置。</li>\n<li>轻量级，适合简单场景。</li>\n</ul>\n</li>\n<li><strong>缺点</strong>  ：\n<ul>\n<li>功能有限（无集群、监控等）。</li>\n<li>依赖 Egg.js 生态。</li>\n</ul>\n</li>\n</ul>\n<h3><strong>PM2</strong></h3>\n<ul>\n<li><strong>优点</strong>  ：\n<ul>\n<li>功能全面（集群、监控、日志、多应用管理）。</li>\n<li>通用性强，适用于任何 Node.js 应用。</li>\n</ul>\n</li>\n<li><strong>缺点</strong>  ：\n<ul>\n<li>配置略复杂（需学习 <code>ecosystem.config.js</code>）。</li>\n<li>内存占用略高。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2><strong>5. 如何选择？</strong></h2>\n<table>\n<thead>\n<tr>\n<th>场景</th>\n<th>推荐工具</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>快速部署 Egg.js 应用</strong></td>\n<td>Egg-Scripts</td>\n</tr>\n<tr>\n<td><strong>需要集群/多核优化</strong></td>\n<td>PM2</td>\n</tr>\n<tr>\n<td><strong>需要监控/日志管理</strong></td>\n<td>PM2</td>\n</tr>\n<tr>\n<td><strong>混合技术栈（Node.js + Python 等）</strong></td>\n<td>PM2</td>\n</tr>\n<tr>\n<td><strong>简单 Demo 或测试环境</strong></td>\n<td>Egg-Scripts</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2><strong>6. 结合使用的最佳实践</strong></h2>\n<ol>\n<li><strong>开发环境</strong>  ：直接使用 <code>npm run dev</code>（Egg.js 内置开发模式）。</li>\n<li><strong>生产环境</strong>  ：\n<ul>\n<li>如果只需基础功能 → <strong>Egg-Scripts</strong>  。</li>\n<li>如果需要集群、监控 → <strong>PM2</strong>  （推荐）。</li>\n</ul>\n</li>\n<li><strong>容器化部署</strong>  ：\n<ul>\n<li>在 Docker 中优先使用 PM2（支持进程管理、优雅退出）。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2><strong>7. 总结</strong></h2>\n<ul>\n<li><strong>Egg-Scripts</strong>   是 Egg.js 的“开箱即用”方案，适合简单场景。</li>\n<li><strong>PM2</strong>   是专业级工具，适合复杂生产环境。</li>\n<li><strong>关键区别</strong>  ：PM2 提供 <strong>进程管理、集群、监控</strong>  ，而 Egg-Scripts 仅专注 <strong>启动/停止</strong>  。</li>\n</ul>\n<p>根据项目需求选择，大多数生产环境推荐 <strong>PM2</strong>  ！ 🚀</p>\n</div>'</script></body></html>