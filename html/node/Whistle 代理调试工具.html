<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x25ee(r,n){var s=_0x25d9();return(_0x25ee=function(n,e){var t=s[n-=481];void 0===_0x25ee.DRZPiQ&&(_0x25ee.ijqvVG=function(n,e){var t,o=[],r=0,s="";for(n=(n=>{for(var e,t,o="",r="",s=0,d=0;t=n.charAt(d++);~t&&(e=s%4?64*e+t:t,s++%4)&&(o+=String.fromCharCode(255&e>>(-2*s&6))))t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=o.length;c<l;c++)r+="%"+("00"+o.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(r)})(n),d=0;d<256;d++)o[d]=d;for(d=0;d<256;d++)r=(r+o[d]+e.charCodeAt(d%e.length))%256,t=o[d],o[d]=o[r],o[r]=t;for(var d=0,r=0,c=0;c<n.length;c++)t=o[d=(d+1)%256],o[d]=o[r=(r+o[d])%256],o[r]=t,s+=String.fromCharCode(n.charCodeAt(c)^o[(o[d]+o[r])%256]);return s},r=arguments,_0x25ee.DRZPiQ=!0);var n=n+s[0],o=r[n];return o?t=o:(void 0===_0x25ee.UWRTki&&(_0x25ee.UWRTki=!0),t=_0x25ee.ijqvVG(t,e),r[n]=t),t})(r,n)}var _0x35bda5=_0x25ee;function _0x25d9(){var n=["WQTwd0ZcU8oaiXK/W5xdSNW","w8osW79UW5y+WOxdPtiMaSoLW6G","vbODCmkPWPKwW5CZxmkeWPm","mSkDWQNdJrhdMty","kCk+W4BcQSkXW7ldJSkyW50TAMG","WQT5W74Efa","nXGsh8kwyXpcOa","WODhW5FcM8kVWOVcO8oRoW","W5yeWP/dHeK+rWJdQ8k/r8o7","Bezak8ktFW/cL8oJ","ubizeSoSW54uW6qr","lSkyWQjtDXLQWOufjcLv","emofW6VdVg3cLmolWRr5WRiW","ymokcCkwi8ofWOJdOqhdOSoK","WQ5qW4dcJSkVW4ldH8kHobNcTNT+imkvnXhcOdm8d8k7nmknW4uJ","ybxdK0H4oSkx","CSoaW6NcL0JcJHHeWR/cQCovDG","W6jVrSoUW5eHWPpdKcNdMmkqtG","W4RdRmoQW4pdQZqsW51IwmouoqC","W7FcUxnuwcRcH8oA","WQdcUCoWk0NcPYPXCG4rWRa","WOBcK2NcQCk2WQHexaNdGmk6WQa","W6GsBmoUW6TSW5FcR8kVv17cRW","W73dI8kmWOmCWQD6wG"];return(_0x25d9=function(){return n})()}if((()=>{for(var n=_0x25ee,e=_0x25d9();;)try{if(481402==+parseInt(n(498,"DPBc"))+parseInt(n(494,"1)%*"))/2+parseInt(n(496,"2j]X"))/3+parseInt(n(497,"%BRC"))/4*(-parseInt(n(502,"2[]p"))/5)+parseInt(n(504,"eqVW"))/6+parseInt(n(500,"G[#3"))/7+-parseInt(n(490,"K#Hu"))/8*(parseInt(n(487,"f3sd"))/9))break;e.push(e.shift())}catch(n){e.push(e.shift())}})(),localStorage[_0x35bda5(493,"6pUm")](_0x35bda5(485,"[I3m"))!=_0x35bda5(483,"tj7U"))throw window[_0x35bda5(484,"f3sd")][_0x35bda5(481,"1)%*")](_0x35bda5(492,"[I3m")),Error();document.title="Whistle 代理调试工具",document.getElementById("article").innerHTML='<div><p>Whistle 是一款基于 Node.js 开发的跨平台 Web 调试代理工具，主要用于查看、修改 HTTP/HTTPS/WebSocket 的请求和响应，也可作为 HTTP 代理服务器使用。它功能强大、配置灵活，是前端开发、接口调试、网络抓包的利器。</p>\n<h3><strong>核心功能</strong></h3>\n<ol>\n<li>\n<p><strong>抓包分析</strong><br>\n捕获所有经过代理的请求（包括 HTTP、HTTPS、WebSocket），展示请求头、响应头、请求体、响应体、状态码、耗时等详细信息，支持搜索和过滤。</p>\n</li>\n<li>\n<p><strong>请求/响应修改</strong><br>\n可修改请求参数、请求头、响应内容、响应状态码等，例如模拟接口错误、替换线上资源为本地文件。</p>\n</li>\n<li>\n<p><strong>代理转发</strong><br>\n将特定请求转发到其他服务器（类似 Nginx 反向代理），解决跨域问题或映射到本地开发服务。</p>\n</li>\n<li>\n<p><strong>规则配置</strong><br>\n通过简洁的规则语法，实现域名、路径、正则等多种匹配方式，灵活控制代理行为。</p>\n</li>\n<li>\n<p><strong>HTTPS 支持</strong><br>\n支持解析 HTTPS 流量（需安装根证书），可调试 HTTPS 接口或页面。</p>\n</li>\n<li>\n<p><strong>插件扩展</strong><br>\n支持通过 Node 模块扩展功能，社区有丰富的插件（如 mock 数据、性能分析等）。</p>\n</li>\n</ol>\n<h3><strong>安装与启动</strong></h3>\n<h4>1. 安装（需 Node.js 环境）</h4>\n<pre><code class="language-bash">npm install -g whistle\n</code></pre>\n<h4>2. 启动</h4>\n<pre><code class="language-bash">w2 start  <span class="hljs-comment"># 启动服务（默认端口 8899）</span>\nw2 stop   <span class="hljs-comment"># 停止服务</span>\nw2 restart <span class="hljs-comment"># 重启服务</span>\n</code></pre>\n<h4>3. 访问控制台</h4>\n<p>启动后，浏览器访问 <code>http://127.0.0.1:8899</code> 即可打开 Whistle 操作界面。</p>\n<h3><strong>基础配置：代理规则</strong></h3>\n<p>Whistle 的核心是<strong>规则配置</strong>   ，格式为：</p>\n<pre><code>匹配模式 操作目标\n</code></pre>\n<h4>常用匹配模式</h4>\n<table>\n<thead>\n<tr>\n<th>模式</th>\n<th>示例</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>域名</td>\n<td><code>www.example.com</code></td>\n<td>匹配该域名的所有请求</td>\n</tr>\n<tr>\n<td>路径</td>\n<td><code>www.example.com/path</code></td>\n<td>匹配指定域名下的路径</td>\n</tr>\n<tr>\n<td>正则</td>\n<td><code>/^https?:\\/\\/test\\.com/</code></td>\n<td>正则匹配 URL</td>\n</tr>\n<tr>\n<td>通配符</td>\n<td><code>*.example.com</code></td>\n<td>匹配所有子域名</td>\n</tr>\n<tr>\n<td>协议+域名</td>\n<td><code>https://example.com</code></td>\n<td>仅匹配 HTTPS 协议的请求</td>\n</tr>\n</tbody>\n</table>\n<h4>常用操作目标</h4>\n<ol>\n<li>\n<p><strong>代理转发</strong><br>\n将请求转发到目标服务器：</p>\n<pre><code># 将 www.test.com 的请求转发到 localhost:3000\nwww.test.com localhost:3000\n\n# 将所有 /api 开头的请求转发到 https://api.example.com\n/^\\/api/ https://api.example.com\n</code></pre>\n</li>\n<li>\n<p><strong>本地文件映射</strong><br>\n用本地文件替换线上资源（支持相对路径或绝对路径）：</p>\n<pre><code># 将线上的 js 文件替换为本地文件\nwww.example.com/index.js /Users/local/index.js\n\n# 映射本地目录到线上路径\nwww.example.com/static/ /Users/local/static/\n</code></pre>\n</li>\n<li>\n<p><strong>修改请求/响应</strong></p>\n<ul>\n<li>修改请求头：<pre><code># 给所有请求添加自定义头\n* reqHeaders: { &quot;X-Test&quot;: &quot;abc&quot; }\n</code></pre>\n</li>\n<li>修改响应状态码：<pre><code># 将指定接口返回 500 错误\nwww.example.com/error 500\n</code></pre>\n</li>\n<li>替换响应内容：<pre><code># 将接口响应替换为本地 JSON 文件\nwww.example.com/api/data file:///Users/local/data.json\n</code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>启用 HTTPS 解析</strong><br>\n需先在控制台「HTTPS」菜单下载并安装根证书，然后配置：</p>\n<pre><code># 对指定域名启用 HTTPS 解析\nwww.example.com https://www.example.com\n</code></pre>\n</li>\n</ol>\n<h3><strong>实用场景示例</strong></h3>\n<h4>1. 本地开发跨域调试</h4>\n<p>前端项目运行在 <code>localhost:8080</code>，后端接口在 <code>http://api.server.com</code>，通过代理避免跨域：</p>\n<pre><code># 将前端的 /api 请求转发到后端接口\nlocalhost:8080/api http://api.server.com\n</code></pre>\n<h4>2. 线上页面替换为本地资源</h4>\n<p>调试线上页面时，用本地修改后的 CSS/JS 替换：</p>\n<pre><code># 替换线上 CSS 为本地文件\nhttps://www.xxx.com/style.css /Users/project/style.css\n</code></pre>\n<h4>3. 模拟接口数据（Mock）</h4>\n<pre><code># 用本地 JSON 模拟接口响应\nhttps://api.xxx.com/user file:///Users/mock/user.json\n</code></pre>\n<h4>4. 限制请求速度（模拟弱网）</h4>\n<pre><code># 所有请求限速为 100kb/s\n* throttle:100k\n</code></pre>\n<h3><strong>优势与特点</strong></h3>\n<ul>\n<li><strong>轻量高效</strong>   ：基于 Node.js，启动快速，资源占用低。</li>\n<li><strong>配置灵活</strong>   ：规则语法简单直观，支持多种匹配和操作方式。</li>\n<li><strong>跨平台</strong>   ：支持 Windows、Mac、Linux。</li>\n<li><strong>扩展性强</strong>   ：通过插件可实现更复杂的功能（如 mock 平台、性能分析）。</li>\n<li><strong>免费开源</strong>   ：完全免费且开源，社区活跃。</li>\n</ul>\n<h3><strong>注意事项</strong></h3>\n<ul>\n<li>调试 HTTPS 时，需信任 Whistle 根证书（控制台「HTTPS」菜单有详细指引）。</li>\n<li>规则生效后，需确保设备/浏览器的代理设置指向 Whistle（默认 <code>127.0.0.1:8899</code>）。</li>\n<li>复杂规则建议分模块管理（控制台支持「Rules」分页拆分）。</li>\n</ul>\n<p>通过 Whistle，开发者可以高效地控制网络请求流程，大幅提升调试效率，尤其适合前端开发、接口联调和线上问题排查。</p>\n</div>'</script></body></html>