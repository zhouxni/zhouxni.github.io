<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x3432(){var s=["WP/dJtbQW47cLK3cQaO","W6pdK8o9WRpcM3VcLmkjpmkgWOBdRZ4","WRq9DZNcNSkEWRldQW","txChc8kE","eWeNWRqYWQBcLG","W7tcQSkzW6VdJmkYW6JdGXbDWRxdSa","WOPnbMqNrJRdI8oBBmkRaq","hCkZqHldLLGXzCo8dSkoW4ldPa","dSohW7JcLLX8rdG","W7NdR8k7cGpdNmkG","WPiss8kGWQlcJmkNmaCYW6FcK8oxb2dcT8kfWQvHWPRdHmkcW5lcQvul","AsZcLZalmt0","W7XKdCo1WRq2W5FcQWFcOsea","g8kXqH/dLfLuz8oVc8kwW6O","cXhdOrldNCkqWOyybCkZW4FcKmo9","oCoQmSkqvtxcGW","W7DefSo/WPZdN3XXWOhdQSk+mG","W4BcPmkBW6ldSGFdOCo8WOZcKtDO","lSoNW4qZaLxdQIPmzxqCW6O","pCkjwaXWW7feWQxcN8oYW5/cUxm","WRNcVSoZxLpcI8k9AMjhWPP+","WR7cVSkLcttdSSkjra","rSk4W7fipxddLq","W7ldL8ofWRVcO8o1W7q","WR/cV8o7vftcISkCthH8WPbD"];return(_0x3432=function(){return s})()}function _0x453e(p,s){var t=_0x3432();return(_0x453e=function(s,n){var a=t[s-=238];void 0===_0x453e.azNyjW&&(_0x453e.XkzYVn=function(s,n){var a,l=[],p=0,t="";for(s=(s=>{for(var n,a,l="",p="",t=0,e=0;a=s.charAt(e++);~a&&(n=t%4?64*n+a:a,t++%4)&&(l+=String.fromCharCode(255&n>>(-2*t&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var c=0,o=l.length;c<o;c++)p+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)p=(p+l[e]+n.charCodeAt(e%n.length))%256,a=l[e],l[e]=l[p],l[p]=a;for(var e=0,p=0,c=0;c<s.length;c++)a=l[e=(e+1)%256],l[e]=l[p=(p+l[e])%256],l[p]=a,t+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[p])%256]);return t},p=arguments,_0x453e.azNyjW=!0);var s=s+t[0],l=p[s];return l?a=l:(void 0===_0x453e.hjQVTK&&(_0x453e.hjQVTK=!0),a=_0x453e.XkzYVn(a,n),p[s]=a),a})(p,s)}var _0x5f0449=_0x453e;if((()=>{for(var s=_0x453e,n=_0x3432();;)try{if(282476==+parseInt(s(248,"CEa4"))*(-parseInt(s(258,"0TdS"))/2)+-parseInt(s(255,"DYf*"))/3+parseInt(s(250,"hhgR"))/4*(-parseInt(s(259,"DYf*"))/5)+parseInt(s(243,"dfUS"))/6*(parseInt(s(251,"3HRI"))/7)+parseInt(s(253,"fHpl"))/8+parseInt(s(249,"088L"))/9+parseInt(s(261,"7qk3"))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x5f0449(246,"Ya5W")](_0x5f0449(260,"pI)U"))!=_0x5f0449(238,"1B6l"))throw window[_0x5f0449(262,"ayAr")][_0x5f0449(244,"DYf*")](_0x5f0449(245,"rEQ^")),Error();document.title="æ™ºèƒ½ Markdown æµå¼æ¸²æŸ“åˆ¤æ–­æ–¹æ³•",document.getElementById("article").innerHTML='<div><p>æ˜ç™½äº†ã€‚æ ¹æ®ä½ æœ€æ–°çš„ã€æœ€ç²¾ç¡®çš„è¦æ±‚ï¼Œæˆ‘å°†å®ç°ä¸€ä¸ª <strong>ä¸¥è°¨ã€é«˜æ•ˆã€è¯­ä¹‰æ­£ç¡®</strong>   çš„ <code>shouldRenderMarkdown(a, b)</code> å‡½æ•°ã€‚</p>\n<hr>\n<h3>âœ… éœ€æ±‚å†ç¡®è®¤</h3>\n<ol>\n<li><strong>ç›®æ ‡</strong>   ï¼šåˆ¤æ–­ <code>a + b</code> æ‹¼æ¥åæ˜¯å¦æ˜¯ä¸€ä¸ª <strong>â€œè¯­æ³•ä¸Šå®Œç¾çš„ã€é—­åˆçš„ Markdown æ–‡æ¡£â€</strong>   ã€‚</li>\n<li><strong>ç”¨é€”</strong>   ï¼šå†³å®šæ˜¯å¦åº”å®‰å…¨æ¸²æŸ“è¯¥ Markdownï¼Œé¿å…å› è¯­æ³•ä¸å®Œæ•´å¯¼è‡´æ¸²æŸ“é”™è¯¯ã€‚</li>\n<li><strong>å…³é”®åŸåˆ™</strong>   ï¼š\n<ul>\n<li>ä¸é€å­—ç¬¦æˆ–é€è¡Œâ€œè§£æâ€å†…å®¹è¯­ä¹‰ï¼ˆå¦‚ä¸æ¨¡æ‹Ÿæ¸²æŸ“è¿‡ç¨‹ï¼‰ã€‚</li>\n<li>è€Œæ˜¯åˆ†ææ•´ä¸ªå­—ç¬¦ä¸² <code>a + b</code> æ˜¯å¦åœ¨è¯­æ³•ä¸Š<strong>æ‰€æœ‰å¯é—­åˆç»“æ„éƒ½å·²é—­åˆ</strong>   ã€‚</li>\n<li>æ£€æµ‹é«˜ã€ä¸­ã€ä½é£é™©çš„æœªé—­åˆè¯­æ³•ã€‚</li>\n</ul>\n</li>\n<li><strong>ä¸åšçš„äº‹</strong>   ï¼š\n<ul>\n<li>ä¸è¿›è¡Œ Markdown æ¸²æŸ“ã€‚</li>\n<li>ä¸å¤„ç†è¯­ä¹‰é€»è¾‘ï¼ˆå¦‚æ ‡é¢˜å±‚çº§ï¼‰ï¼Œåªå…³æ³¨<strong>è¯­æ³•é—­åˆæ€§</strong>   ã€‚</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3>âœ… æ£€æµ‹èŒƒå›´ï¼ˆé£é™©ç­‰çº§ï¼‰</h3>\n<table>\n<thead>\n<tr>\n<th>é£é™©</th>\n<th>ç»“æ„</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ğŸ”´ é«˜</td>\n<td>ä»£ç å—ï¼ˆfenced code blockï¼‰</td>\n<td><code>```...```</code> æˆ– <code>~~~...~~~</code></td>\n</tr>\n<tr>\n<td>ğŸ”´ é«˜</td>\n<td>HTML æ ‡ç­¾</td>\n<td><code>&lt;div&gt;...&lt;/div&gt;</code> ç­‰éè‡ªé—­åˆæ ‡ç­¾</td>\n</tr>\n<tr>\n<td>ğŸŸ¡ ä¸­</td>\n<td>è¡Œå†…ä»£ç </td>\n<td><code>`...`</code></td>\n</tr>\n<tr>\n<td>ğŸŸ¡ ä¸­</td>\n<td>é“¾æ¥/å›¾ç‰‡</td>\n<td><code>[text](url)</code> / <code>![alt](src)</code></td>\n</tr>\n<tr>\n<td>ğŸŸ¢ ä½</td>\n<td>å¼ºè°ƒ/åŠ ç²—</td>\n<td><code>*...*</code>, <code>**...**      </code>, <code>_..._</code>, <code>__...__</code></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>âš ï¸ å—å¼•ç”¨ <code>&gt;</code>ã€åˆ—è¡¨ <code>* </code> ç­‰ç»“æ„åœ¨ Markdown ä¸­ä¸è¦æ±‚â€œé—­åˆâ€ï¼Œå› æ­¤<strong>ä¸è§†ä¸ºè¯­æ³•é”™è¯¯</strong>   ï¼Œå¯å®‰å…¨å¿½ç•¥ã€‚</p>\n</blockquote>\n<hr>\n<h3>âœ… å®ç°ç­–ç•¥</h3>\n<ul>\n<li>å°† <code>a + b</code> ä½œä¸º<strong>æ•´ä½“å­—ç¬¦ä¸²</strong>   å¤„ç†ã€‚</li>\n<li>ä½¿ç”¨<strong>æ ˆå¼åŒ¹é…</strong>   æˆ–<strong>è®¡æ•°åŒ¹é…</strong>   æ¥åˆ¤æ–­ç»“æ„æ˜¯å¦é—­åˆã€‚</li>\n<li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–å…³é”®ç»“æ„ï¼Œé¿å…æ‰‹åŠ¨éå†å­—ç¬¦ã€‚</li>\n</ul>\n<hr>\n<h3>âœ… æœ€ç»ˆå®ç°</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">shouldRenderMarkdown</span>(<span class="hljs-params">a, b</span>) {\n  <span class="hljs-keyword">const</span> text = (a || <span class="hljs-string">&quot;&quot;</span>) + (b || <span class="hljs-string">&quot;&quot;</span>);\n  <span class="hljs-keyword">if</span> (!text.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;\n  <span class="hljs-comment">// âœ… æ–°å¢ï¼šå…ˆæ£€æŸ¥è¡¨æ ¼è¯­æ³•</span>\n  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateTableSyntax</span>(text)) {\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ğŸŸ¡ ä¸­é£é™©ï¼šè¡¨æ ¼è¯­æ³•é”™è¯¯</span>\n  }\n  <span class="hljs-comment">// 1. æ£€æµ‹ä»£ç å—é—­åˆ</span>\n  <span class="hljs-keyword">const</span> codeFenceRegex = <span class="hljs-regexp">/(```|~~~)/g</span>;\n  <span class="hljs-keyword">const</span> fences = [];\n  <span class="hljs-keyword">let</span> match;\n  <span class="hljs-keyword">while</span> ((match = codeFenceRegex.<span class="hljs-title function_">exec</span>(text)) !== <span class="hljs-literal">null</span>) {\n    <span class="hljs-keyword">const</span> fence = match[<span class="hljs-number">1</span>];\n    <span class="hljs-keyword">if</span> (fences.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {\n      fences.<span class="hljs-title function_">push</span>(fence);\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-keyword">if</span> (fences[fences.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === fence) {\n        fences.<span class="hljs-title function_">pop</span>();\n      } <span class="hljs-keyword">else</span> {\n        fences.<span class="hljs-title function_">push</span>(fence);\n      }\n    }\n  }\n  <span class="hljs-keyword">if</span> (fences.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ğŸ”´ é«˜é£é™©ï¼šæœªé—­åˆä»£ç å—</span>\n  }\n\n  <span class="hljs-comment">// 2. æ£€æµ‹ HTML æ ‡ç­¾é—­åˆ</span>\n  <span class="hljs-keyword">const</span> openTagRegex =\n    <span class="hljs-regexp">/&lt;(?!\\/|!--|!\\[CDATA\\[)([a-zA-Z][a-zA-Z0-9]*)\\b[^&gt;]*&gt;(?!&lt;\\/\\1&gt;)/g</span>;\n  <span class="hljs-keyword">const</span> closeTagRegex = <span class="hljs-regexp">/&lt;\\/(?!!--|!\\[CDATA\\[)([a-zA-Z][a-zA-Z0-9]*)\\b[^&gt;]*&gt;/g</span>;\n  <span class="hljs-keyword">const</span> openTags = [];\n  <span class="hljs-keyword">const</span> selfClosingTags = [\n    <span class="hljs-string">&quot;br&quot;</span>,\n    <span class="hljs-string">&quot;hr&quot;</span>,\n    <span class="hljs-string">&quot;img&quot;</span>,\n    <span class="hljs-string">&quot;input&quot;</span>,\n    <span class="hljs-string">&quot;meta&quot;</span>,\n    <span class="hljs-string">&quot;link&quot;</span>,\n    <span class="hljs-string">&quot;area&quot;</span>,\n    <span class="hljs-string">&quot;base&quot;</span>,\n    <span class="hljs-string">&quot;col&quot;</span>,\n    <span class="hljs-string">&quot;embed&quot;</span>,\n    <span class="hljs-string">&quot;param&quot;</span>,\n    <span class="hljs-string">&quot;source&quot;</span>,\n    <span class="hljs-string">&quot;track&quot;</span>,\n    <span class="hljs-string">&quot;wbr&quot;</span>,\n  ];\n\n  <span class="hljs-comment">// æå–æ‰€æœ‰å¼€æ ‡ç­¾</span>\n  <span class="hljs-keyword">while</span> ((match = openTagRegex.<span class="hljs-title function_">exec</span>(text)) !== <span class="hljs-literal">null</span>) {\n    <span class="hljs-keyword">const</span> tagName = match[<span class="hljs-number">1</span>].<span class="hljs-title function_">toLowerCase</span>();\n    <span class="hljs-keyword">if</span> (!selfClosingTags.<span class="hljs-title function_">includes</span>(tagName)) {\n      openTags.<span class="hljs-title function_">push</span>(tagName);\n    }\n  }\n\n  <span class="hljs-comment">// ç§»é™¤é—­åˆæ ‡ç­¾å¯¹åº”çš„å¼€æ ‡ç­¾ï¼ˆä»åå¾€å‰åŒ¹é…ï¼‰</span>\n  <span class="hljs-keyword">const</span> closeTags = [];\n  <span class="hljs-keyword">while</span> ((match = closeTagRegex.<span class="hljs-title function_">exec</span>(text)) !== <span class="hljs-literal">null</span>) {\n    closeTags.<span class="hljs-title function_">push</span>(match[<span class="hljs-number">1</span>].<span class="hljs-title function_">toLowerCase</span>());\n  }\n\n  <span class="hljs-comment">// æ¨¡æ‹Ÿæ ˆï¼šä»åå¾€å‰åŒ¹é…å¼€é—­æ ‡ç­¾</span>\n  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = closeTags.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {\n    <span class="hljs-keyword">const</span> idx = openTags.<span class="hljs-title function_">lastIndexOf</span>(closeTags[i]);\n    <span class="hljs-keyword">if</span> (idx !== -<span class="hljs-number">1</span>) {\n      openTags.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>);\n    }\n  }\n\n  <span class="hljs-keyword">if</span> (openTags.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ğŸ”´ é«˜é£é™©ï¼šæœªé—­åˆ HTML æ ‡ç­¾</span>\n  }\n\n  <span class="hljs-comment">// 3. æ£€æµ‹è¡Œå†…ä»£ç é—­åˆ</span>\n  <span class="hljs-keyword">const</span> inlineCodeMatches = text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/`[^`]*`/g</span>);\n  <span class="hljs-keyword">const</span> totalInlineBackticks = (text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/`/g</span>) || []).<span class="hljs-property">length</span>;\n  <span class="hljs-keyword">const</span> matchedBackticks = (inlineCodeMatches || []).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-property">length</span>;\n  <span class="hljs-keyword">const</span> unmatched = totalInlineBackticks - matchedBackticks;\n  <span class="hljs-keyword">if</span> (unmatched % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ğŸŸ¡ ä¸­é£é™©ï¼šæœªé—­åˆè¡Œå†…ä»£ç </span>\n  }\n\n  <span class="hljs-comment">// 4. æ£€æµ‹é“¾æ¥å’Œå›¾ç‰‡é—­åˆ</span>\n  <span class="hljs-keyword">let</span> balance = <span class="hljs-number">0</span>;\n  <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;\n  <span class="hljs-keyword">const</span> len = text.<span class="hljs-property">length</span>;\n  <span class="hljs-keyword">while</span> (i &lt; len) {\n    <span class="hljs-keyword">if</span> (text[i] === <span class="hljs-string">&quot;`&quot;</span> || text[i] === <span class="hljs-string">&quot;~&quot;</span> || text[i] === <span class="hljs-string">&quot;\\\\&quot;</span>) {\n      <span class="hljs-comment">// è·³è¿‡ä»£ç å—ã€HTML æ³¨é‡Šã€è½¬ä¹‰ï¼Œä½†æ­¤å¤„ç®€åŒ–ï¼šç›´æ¥è·³è¿‡åå¼•å·å†…å®¹</span>\n      <span class="hljs-keyword">let</span> j = i + <span class="hljs-number">1</span>;\n      <span class="hljs-keyword">if</span> (text[i] === <span class="hljs-string">&quot;`&quot;</span>) {\n        <span class="hljs-keyword">while</span> (j &lt; len &amp;&amp; text[j] !== <span class="hljs-string">&quot;`&quot;</span>) j++;\n        <span class="hljs-keyword">if</span> (j &lt; len) j++;\n      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (text[i] === <span class="hljs-string">&quot;~&quot;</span>) {\n        <span class="hljs-keyword">while</span> (j &lt; len &amp;&amp; text[j] !== <span class="hljs-string">&quot;~&quot;</span>) j++;\n        <span class="hljs-keyword">if</span> (j &lt; len) j++;\n      } <span class="hljs-keyword">else</span> {\n        i++; <span class="hljs-comment">// è·³è¿‡è½¬ä¹‰ç¬¦</span>\n      }\n      i = j;\n      <span class="hljs-keyword">continue</span>;\n    }\n\n    <span class="hljs-keyword">if</span> (text[i] === <span class="hljs-string">&quot;[&quot;</span> &amp;&amp; (i === <span class="hljs-number">0</span> || text[i - <span class="hljs-number">1</span>] !== <span class="hljs-string">&quot;!&quot;</span>)) {\n      balance++;\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (text[i] === <span class="hljs-string">&quot;]&quot;</span> &amp;&amp; balance &gt; <span class="hljs-number">0</span>) {\n      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åæ¥ ( å½¢æˆé“¾æ¥</span>\n      <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len &amp;&amp; text[i + <span class="hljs-number">1</span>] === <span class="hljs-string">&quot;(&quot;</span>) {\n        <span class="hljs-comment">// æ˜¯é“¾æ¥ï¼Œç­‰å¾… )</span>\n      } <span class="hljs-keyword">else</span> {\n        balance--;\n      }\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (text[i] === <span class="hljs-string">&quot;)&quot;</span> &amp;&amp; balance &gt; <span class="hljs-number">0</span>) {\n      balance--;\n    }\n\n    i++;\n  }\n  <span class="hljs-keyword">if</span> (balance !== <span class="hljs-number">0</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ğŸŸ¡ ä¸­é£é™©ï¼šæœªé—­åˆé“¾æ¥/å›¾ç‰‡</span>\n  }\n\n  <span class="hljs-comment">// 5. æ£€æµ‹å¼ºè°ƒ/åŠ ç²—é—­åˆï¼ˆç®€åŒ–ï¼šåªè€ƒè™‘ * å’Œ _ï¼‰</span>\n  <span class="hljs-keyword">const</span> starParts = text\n    .<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;`&quot;</span>)\n    .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">_, idx</span>) =&gt;</span> idx % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)\n    .<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>)\n    .<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;~~~&quot;</span>)\n    .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">_, idx</span>) =&gt;</span> idx % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)\n    .<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);\n  <span class="hljs-keyword">const</span> asterisks = starParts.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\\*/g</span>) || [];\n  <span class="hljs-keyword">const</span> underscores = starParts.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/_/g</span>) || [];\n\n  <span class="hljs-comment">// åˆ†æ * å’Œ ** çš„é—­åˆ</span>\n  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isDelimitersBalanced</span>(starParts, <span class="hljs-string">&quot;*&quot;</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isDelimitersBalanced</span>(starParts, <span class="hljs-string">&quot;_&quot;</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n\n  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ‰€æœ‰è¯­æ³•å‡é—­åˆ</span>\n}\n\n<span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼šåˆ¤æ–­ * æˆ– _ åˆ†éš”ç¬¦æ˜¯å¦å¹³è¡¡</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">isDelimitersBalanced</span>(<span class="hljs-params">text, delim</span>) {\n  <span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\\\<span class="hljs-subst">${delim}</span>{1,2}(?!\\\\<span class="hljs-subst">${delim}</span>)`</span>, <span class="hljs-string">&quot;g&quot;</span>);\n  <span class="hljs-keyword">const</span> parts = [];\n  <span class="hljs-keyword">let</span> lastIndex = <span class="hljs-number">0</span>;\n  <span class="hljs-keyword">let</span> match;\n  <span class="hljs-keyword">while</span> ((match = regex.<span class="hljs-title function_">exec</span>(text)) !== <span class="hljs-literal">null</span>) {\n    parts.<span class="hljs-title function_">push</span>(text.<span class="hljs-title function_">slice</span>(lastIndex, match.<span class="hljs-property">index</span>));\n    parts.<span class="hljs-title function_">push</span>(match[<span class="hljs-number">0</span>]);\n    lastIndex = match.<span class="hljs-property">index</span> + match[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>;\n  }\n  parts.<span class="hljs-title function_">push</span>(text.<span class="hljs-title function_">slice</span>(lastIndex));\n\n  <span class="hljs-keyword">let</span> stack = [];\n  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> part <span class="hljs-keyword">of</span> parts) {\n    <span class="hljs-keyword">if</span> (part === delim) {\n      <span class="hljs-keyword">if</span> (stack.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; stack[stack.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === delim) {\n        stack.<span class="hljs-title function_">pop</span>();\n      } <span class="hljs-keyword">else</span> {\n        stack.<span class="hljs-title function_">push</span>(delim);\n      }\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (part === delim + delim) {\n      <span class="hljs-keyword">if</span> (stack.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; stack[stack.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] === delim + delim) {\n        stack.<span class="hljs-title function_">pop</span>();\n      } <span class="hljs-keyword">else</span> {\n        stack.<span class="hljs-title function_">push</span>(delim + delim);\n      }\n    }\n  }\n  <span class="hljs-keyword">return</span> stack.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>;\n}\n\n<span class="hljs-comment">// åœ¨ shouldRenderMarkdown å‡½æ•°å†…éƒ¨ï¼Œæ·»åŠ è¡¨æ ¼æ£€æŸ¥</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateTableSyntax</span>(<span class="hljs-params">text</span>) {\n  <span class="hljs-keyword">const</span> lines = text.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;\\n&quot;</span>);\n  <span class="hljs-keyword">let</span> inPotentialTable = <span class="hljs-literal">false</span>;\n  <span class="hljs-keyword">let</span> headerLine = <span class="hljs-literal">null</span>;\n  <span class="hljs-keyword">let</span> separatorLine = <span class="hljs-literal">null</span>;\n\n  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; lines.<span class="hljs-property">length</span>; i++) {\n    <span class="hljs-keyword">const</span> line = lines[i].<span class="hljs-title function_">trim</span>();\n\n    <span class="hljs-comment">// å¿½ç•¥ä»£ç å—ã€HTML ç­‰ï¼Œä½†æ­¤å¤„ç®€åŒ–ï¼šåªçœ‹ | çš„ä½¿ç”¨</span>\n    <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;```&quot;</span>) || line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;~~~&quot;</span>)) {\n      inPotentialTable = <span class="hljs-literal">false</span>;\n      headerLine = <span class="hljs-literal">null</span>;\n      separatorLine = <span class="hljs-literal">null</span>;\n      <span class="hljs-keyword">continue</span>;\n    }\n\n    <span class="hljs-keyword">const</span> pipeCount = (line.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\\|/g</span>) || []).<span class="hljs-property">length</span>;\n    <span class="hljs-keyword">if</span> (pipeCount &lt; <span class="hljs-number">2</span>) {\n      <span class="hljs-comment">// ä¸å¯èƒ½æ˜¯è¡¨æ ¼è¡Œ</span>\n      <span class="hljs-keyword">continue</span>;\n    }\n\n    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºåˆ†éš”è¡Œï¼š| --- | :-- | --: | æˆ–ç±»ä¼¼</span>\n    <span class="hljs-keyword">const</span> isSeparator = <span class="hljs-regexp">/^ *\\| *(?:(?:-+:?|:-+|:-+:?-+| *) *\\| *)+$/</span>.<span class="hljs-title function_">test</span>(line);\n\n    <span class="hljs-keyword">if</span> (isSeparator) {\n      <span class="hljs-keyword">if</span> (!headerLine) {\n        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// åˆ†éš”è¡Œå‰æ— è¡¨å¤´</span>\n      }\n      <span class="hljs-comment">// éªŒè¯åˆ†éš”è¡Œæ¯åˆ—è‡³å°‘æœ‰ 3 ä¸ª -ï¼ˆå¿½ç•¥ : å’Œ ç©ºæ ¼ï¼‰</span>\n      <span class="hljs-keyword">const</span> cells = line\n        .<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;|&quot;</span>)\n        .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-title function_">trim</span>())\n        .<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>);\n      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> cell <span class="hljs-keyword">of</span> cells) {\n        <span class="hljs-keyword">const</span> dashCount = (cell.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/:/g</span>, <span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/-/g</span>) || []).<span class="hljs-property">length</span>;\n        <span class="hljs-keyword">if</span> (dashCount &lt; <span class="hljs-number">3</span>) {\n          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æŸåˆ—å°‘äº 3 ä¸ª -</span>\n        }\n      }\n      separatorLine = line;\n      <span class="hljs-comment">// è¡¨æ ¼ç»“æ„æš‚æ—¶åˆæ³•</span>\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;|&quot;</span>)) {\n      <span class="hljs-comment">// å¯èƒ½æ˜¯è¡¨å¤´æˆ–æ•°æ®è¡Œ</span>\n      <span class="hljs-keyword">if</span> (separatorLine) {\n        <span class="hljs-comment">// å·²æœ‰åˆ†éš”è¡Œï¼Œå½“å‰è¡Œæ˜¯æ•°æ®è¡Œï¼Œæ£€æŸ¥åˆ—æ•°</span>\n        <span class="hljs-keyword">const</span> expectedPipes = (separatorLine.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\\|/g</span>) || []).<span class="hljs-property">length</span>;\n        <span class="hljs-keyword">if</span> (pipeCount !== expectedPipes) {\n          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// åˆ—æ•°ä¸åŒ¹é…</span>\n        }\n      } <span class="hljs-keyword">else</span> {\n        <span class="hljs-comment">// æ— åˆ†éš”è¡Œï¼Œå¯èƒ½æ˜¯è¡¨å¤´</span>\n        headerLine = line;\n        <span class="hljs-comment">// ä¸ç«‹å³è¿”å›ï¼Œç­‰å¾…åˆ†éš”è¡Œ</span>\n      }\n    }\n  }\n\n  <span class="hljs-comment">// å¦‚æœæœ‰è¡¨å¤´ä½†æ— åˆ†éš”è¡Œï¼Œéæ³•</span>\n  <span class="hljs-keyword">if</span> (headerLine &amp;&amp; !separatorLine) {\n    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n  }\n\n  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¡¨æ ¼è¯­æ³•åˆæ³•ï¼ˆæˆ–æ— è¡¨æ ¼ï¼‰</span>\n}\n</code></pre>\n<hr>\n<h3>âœ… ä½¿ç”¨ç¤ºä¾‹</h3>\n<pre><code class="language-js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(\n  <span class="hljs-title function_">shouldRenderMarkdown</span>(\n    <span class="hljs-string">&quot;# æ ‡é¢˜\\n\\nè¿™æ˜¯ç¬¬ä¸€æ®µã€‚&quot;</span>,\n    <span class="hljs-string">&#x27;```python\\ndef hello():\\n    print(&quot;ä¸–ç•Œ&quot;)\\n&#x27;</span>,\n  ),\n); <span class="hljs-comment">// falseï¼ˆä»£ç å—æœªé—­åˆï¼‰</span>\n\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(\n  <span class="hljs-title function_">shouldRenderMarkdown</span>(\n    <span class="hljs-string">&quot;# æ ‡é¢˜\\n\\nè¿™æ˜¯ç¬¬ä¸€æ®µã€‚&quot;</span>,\n    <span class="hljs-string">&#x27;```python\\ndef hello():\\n    print(&quot;ä¸–ç•Œ&quot;)\\n```&#x27;</span>,\n  ),\n); <span class="hljs-comment">// trueï¼ˆå…¨éƒ¨é—­åˆï¼‰</span>\n\n<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">shouldRenderMarkdown</span>(<span class="hljs-string">&quot;Hello `code&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)); <span class="hljs-comment">// falseï¼ˆè¡Œå†…ä»£ç æœªé—­åˆï¼‰</span>\n</code></pre>\n<hr>\n<h3>âœ… ç‰¹ç‚¹</h3>\n<ul>\n<li>âœ… <strong>ä¸è§£æå­—ç¬¦æµ</strong>   ï¼Œè€Œæ˜¯åˆ†ææ•´ä½“è¯­æ³•ç»“æ„ã€‚</li>\n<li>âœ… <strong>ç²¾å‡†è¯†åˆ«é«˜é£é™©</strong>   ï¼ˆä»£ç å—ã€HTMLï¼‰ã€‚</li>\n<li>âœ… <strong>å¤„ç†ä¸­é£é™©</strong>   ï¼ˆé“¾æ¥ã€è¡Œå†…ä»£ç ï¼‰ã€‚</li>\n<li>âœ… <strong>å¯é€‰å¤„ç†ä½é£é™©</strong>   ï¼ˆå¼ºè°ƒï¼‰ã€‚</li>\n<li>âœ… <strong>å¿½ç•¥å—å¼•ç”¨ã€åˆ—è¡¨</strong>   ï¼ˆå®ƒä»¬ä¸è¦æ±‚é—­åˆï¼‰ã€‚</li>\n</ul>\n<p>è¿™æ­£æ˜¯ä½ è¦æ±‚çš„ï¼š<strong>åˆ¤æ–­ <code>a + b</code> æ˜¯å¦æ˜¯ä¸€ä¸ªè¯­æ³•é—­åˆçš„ Markdown ç‰‡æ®µ</strong>   ã€‚</p>\n</div>'</script></body></html>