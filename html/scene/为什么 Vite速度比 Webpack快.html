<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x942ce0=_0x2cbf;function _0x2cbf(o,n){var r=_0x1a3f();return(_0x2cbf=function(n,t){var i=r[n-=260];void 0===_0x2cbf.JHjSCH&&(_0x2cbf.QKVtEu=function(n,t){var i,e=[],o=0,r="";for(n=(n=>{for(var t,i,e="",o="",r=0,W=0;i=n.charAt(W++);~i&&(t=r%4?64*t+i:i,r++%4)&&(e+=String.fromCharCode(255&t>>(-2*r&6))))i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(var c=0,l=e.length;c<l;c++)o+="%"+("00"+e.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(o)})(n),W=0;W<256;W++)e[W]=W;for(W=0;W<256;W++)o=(o+e[W]+t.charCodeAt(W%t.length))%256,i=e[W],e[W]=e[o],e[o]=i;for(var W=0,o=0,c=0;c<n.length;c++)i=e[W=(W+1)%256],e[W]=e[o=(o+e[W])%256],e[o]=i,r+=String.fromCharCode(n.charCodeAt(c)^e[(e[W]+e[o])%256]);return r},o=arguments,_0x2cbf.JHjSCH=!0);var n=n+r[0],e=o[n];return e?i=e:(void 0===_0x2cbf.tYCkzL&&(_0x2cbf.tYCkzL=!0),i=_0x2cbf.QKVtEu(i,t),o[n]=i),i})(o,n)}if((()=>{for(var n=_0x2cbf,t=_0x1a3f();;)try{if(810213==-parseInt(n(266,"SQzX"))+-parseInt(n(278,"*xX("))/2*(-parseInt(n(263,"#%w6"))/3)+parseInt(n(265,"TR7c"))/4+parseInt(n(283,"#%w6"))/5+-parseInt(n(273,"$h@I"))/6*(-parseInt(n(277,"Bby#"))/7)+-parseInt(n(261,"GE*D"))/8*(-parseInt(n(272,"X]MH"))/9)+-parseInt(n(262,"#%w6"))/10*(parseInt(n(282,"8d4R"))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(),localStorage[_0x942ce0(260,"GMb8")](_0x942ce0(267,"Aw4b"))!=_0x942ce0(268,"Di)c"))throw window[_0x942ce0(281,"*hl2")][_0x942ce0(269,"X]MH")](_0x942ce0(280,"lrD6")),Error();function _0x1a3f(){var n=["sxL7WQjSjMS3W59FvrdcUCkoW6DWi8oLW4GSfqe4W73cKKG","W4HaAmoKW7mXWPGR","W5BcTmo/W6/dOt3cTCoRW5dcKG","tseJWOO2f8oLbIFcN8oeW77cQG","ra5AW6SVWOddOCoHd2dcGCkZ","d8kwW6SFW7/dSSks","E8o7C8kCW7ddOmorWOC","tsqJWOS3emkFmbdcLCozW5i","tsiKWO42gCoKitRcMCo6W4pcSW","yvy3kCkIhmkEcmotEmo5W6S","BN9DW6NcRGxdJmkqWPRcKmofaq","uCk9WR/dHeXxxvDbECocWRu","vmozrSojWQzXzazw","ibj2A8oO","WODTW6HVW4ujW7G","W7xdT8kYWOfFvrW","WQVcVtZcL8ocW7WtW64YWPboW6i","W4m6WQ07WPrsWQObfSoycCoWna","kIjhWOGeimkzWRqyWOBdSSkiAW","pmoYfqVcNgHSb1bt","WPiDpSk9WRDGW4aWW6XhW4TMWQG","jSkjeCkBW6WXgXLHWQFdQ2hdRW","t2hdI1hcRhC7WO8","WOHkW7dcSCo2cSkq","r8k/WPr/cSkwhqFdPwDHWPxcMG"];return(_0x1a3f=function(){return n})()}document.title="为什么 Vite速度比 Webpack快",document.getElementById("article").innerHTML="<div><p>Vite速度比Webpack快的原因主要可以归结为以下几点：</p>\n<ol>\n<li><strong>利用浏览器对ESM的原生支持</strong>  ：\n<ul>\n<li>Vite直接利用了现代浏览器对ES Modules（ESM）的原生支持。在开发环境下，这意味着Vite可以直接运行源代码，无需像Webpack那样先进行打包。由于省去了打包的过程，Vite的启动速度非常快。</li>\n<li>Webpack需要将源代码打包成浏览器可识别的格式，这个过程会消耗一定的时间。</li>\n</ul>\n</li>\n<li><strong>按需编译</strong>  ：\n<ul>\n<li>Vite采用了按需编译的策略，只有当请求某个模块时，才会对该模块进行编译。这种按需加载的方式极大地缩减了编译时间。</li>\n<li>Webpack在构建时会对整个项目进行扫描和分析，无论模块是否被使用，都会被打包进最终的输出文件中，这会增加构建的时间。特别是在大型项目中，这种差异会更加明显。</li>\n</ul>\n</li>\n<li><strong>不同的构建机制</strong>  ：\n<ul>\n<li>Webpack是基于Node.js实现的，而Vite则使用了Esbuild进行预构建依赖。Esbuild是一个用Go语言编写的打包工具，其构建速度比以Node.js编写的打包器要快得多。这是因为Go语言在编译和执行速度上具有优势，使得Esbuild能够更快速地完成依赖的预构建。</li>\n</ul>\n</li>\n<li><strong>高效的热更新机制</strong>  ：\n<ul>\n<li>Vite 的 HMR 是基于原生 ESM 的模块系统实现的。当一个模块发生变化时，Vite 能够精确地识别出变化的模块及其依赖关系，只将这些变化的部分推送给浏览器。浏览器接收到更新后，会直接在内存中替换相应的模块，而不会影响到其他未改变的模块，实现了快速的局部更新，用户几乎可以立即看到代码更改后的效果。</li>\n<li>Webpack 的 HMR 需要借助特定的插件和机制来实现。它在更新模块时，需要重新构建发生变化的模块及其相关依赖，然后将新的模块代码发送到浏览器。这个过程相对复杂，而且可能会涉及到一些不必要的重新构建操作，导致热更新的速度较慢。特别是在大型项目中，HMR 的性能问题可能会更加明显，用户可能需要等待几秒钟甚至更长时间才能看到更新后的效果。</li>\n</ul>\n</li>\n<li><strong>轻量级的构建工具</strong>  ：\n<ul>\n<li>Vite在生产模式下使用Rollup进行构建，Rollup是一个专注于打包ES模块的工具，相比Webpack更适合处理ES模块，因此构建速度更快。</li>\n<li>Vite的配置相对简单，大部分情况下无需过多配置即可快速启动项目，减少了配置的复杂性。</li>\n</ul>\n</li>\n<li><strong>快速的冷启动</strong>  ：\n<ul>\n<li>Vite利用现代浏览器的原生ESM加载能力，通过浏览器直接解析和执行代码，避免了传统构建工具中的打包过程。这使得Vite在启动速度上有着显著的优势，可以在几百毫秒内完成冷启动。</li>\n</ul>\n</li>\n<li><strong>WebSocket连接</strong>  ：\n<ul>\n<li>Vite通过WebSocket与浏览器建立连接，实时推送更新的模块给浏览器，进一步提升了开发过程中的热重载速度。</li>\n</ul>\n</li>\n</ol>\n</div>"</script></body></html>