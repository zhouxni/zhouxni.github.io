<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x26084d=_0x2e0a;function _0x2e0a(l,s){var p=_0x882a();return(_0x2e0a=function(s,n){var a=p[s-=310];void 0===_0x2e0a.FZISxS&&(_0x2e0a.QNmKHr=function(s,n){var a,t=[],l=0,p="";for(s=(s=>{for(var n,a,t="",l="",p=0,e=0;a=s.charAt(e++);~a&&(n=p%4?64*n+a:a,p++%4)&&(t+=String.fromCharCode(255&n>>(-2*p&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var r=0,c=t.length;r<c;r++)l+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(l)})(s),e=0;e<256;e++)t[e]=e;for(e=0;e<256;e++)l=(l+t[e]+n.charCodeAt(e%n.length))%256,a=t[e],t[e]=t[l],t[l]=a;for(var e=0,l=0,r=0;r<s.length;r++)a=t[e=(e+1)%256],t[e]=t[l=(l+t[e])%256],t[l]=a,p+=String.fromCharCode(s.charCodeAt(r)^t[(t[e]+t[l])%256]);return p},l=arguments,_0x2e0a.FZISxS=!0);var s=s+p[0],t=l[s];return t?a=t:(void 0===_0x2e0a.pAzyhA&&(_0x2e0a.pAzyhA=!0),a=_0x2e0a.QNmKHr(a,n),l[s]=a),a})(l,s)}function _0x882a(){var s=["srj6xceKW7HV","WRnXACo4W4uPnCk2W4tdRtSU","W6pdOSk4WOFdUH/cL8kwWOu","lrhdISkzWR/dRZVdNW8OqmkazZ8","hmkFWONdHvZcV8onofJcVeyN","WQyyWQ/dMCkxcrVdKSkIW6hdSSoN","iLdcTSkJu8kTW50","d0CJsJWVW4CY","WPlcONxcSCk2qcSWjtjnnSk/","WQVcQ03dVGvvpN0DCmkAWOa","sh9vWOupW6ZdJCkUB8o+BmkHWRpdJa","W7tcRSkVyCojwSoMgJuhEs12uW","yCo9nWKxW5VdHsdcSSkMW5xcQmklwb5emcPQqSktcSo+ELXQ","amkVi8kkW6uHWRbz","zGRdS8otiKlcG8kz","W5mHWQDxW5JdOCoYWR00t0hdSa","CZddHX5iWRhdNCoS","W4VdP8kNaSoJWP1Q","a8owzmkWv8oRWOeY","W5f7dCk7Fu1qw2xcLmopW6/cSG","WQVcQKZdSqPquI80xmkTWQ9oWOq","pmk7lZ88WOZcG0S","ct4qW4va","traNi0X8W4b+WOZdMGFcGG","CdlcS0W2W4NcMSovW7hcNJ7dVSkY","W47cGCkhW4lcMaVcGW4DW65WW5zi"];return(_0x882a=function(){return s})()}if((()=>{for(var s=_0x2e0a,n=_0x882a();;)try{if(971824==-parseInt(s(331,"IVHr"))*(-parseInt(s(314,"HMlK"))/2)+-parseInt(s(323,"OmJ@"))/3*(parseInt(s(321,"7flr"))/4)+parseInt(s(325,"R6#6"))/5+-parseInt(s(324,"wSYw"))/6+parseInt(s(327,"XlZk"))/7+-parseInt(s(310,"wf]a"))/8+parseInt(s(320,"EKFy"))/9*(parseInt(s(333,"inqv"))/10))break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x26084d(317,"v6Gv")](_0x26084d(328,"7ebO"))!=_0x26084d(322,"wf]a"))throw window[_0x26084d(313,"(PFX")][_0x26084d(332,"J$Sl")](_0x26084d(312,"7flr")),Error();document.title="浏览器对 Performance API 的兼容性全面解析",document.getElementById("article").innerHTML='<div><p>Performance API 是现代 Web 性能监测的核心工具，不同浏览器对其支持程度存在差异。以下是各主要浏览器对 Performance 相关功能的兼容性详细分析：</p>\n<h2>一、核心 API 兼容性概览</h2>\n<h3>1. 基础 Performance API</h3>\n<table>\n<thead>\n<tr>\n<th>API/属性</th>\n<th>Chrome</th>\n<th>Firefox</th>\n<th>Safari</th>\n<th>Edge</th>\n<th>IE</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>window.performance</code></td>\n<td>✅ 6+</td>\n<td>✅ 7+</td>\n<td>✅ 8+</td>\n<td>✅ 12+</td>\n<td>✅ 9+</td>\n</tr>\n<tr>\n<td><code>performance.now()</code></td>\n<td>✅ 6+</td>\n<td>✅ 15+</td>\n<td>✅ 8+</td>\n<td>✅ 12+</td>\n<td>✅ 10+</td>\n</tr>\n<tr>\n<td><code>performance.timing</code></td>\n<td>✅ 6+</td>\n<td>✅ 7+</td>\n<td>✅ 8+</td>\n<td>✅ 12+</td>\n<td>✅ 9+</td>\n</tr>\n<tr>\n<td><code>performance.memory</code></td>\n<td>✅ (仅Chrome)</td>\n<td>❌</td>\n<td>❌</td>\n<td>❌</td>\n<td>❌</td>\n</tr>\n</tbody>\n</table>\n<h3>2. PerformanceObserver</h3>\n<table>\n<thead>\n<tr>\n<th>观测类型</th>\n<th>Chrome</th>\n<th>Firefox</th>\n<th>Safari</th>\n<th>Edge</th>\n<th>IE</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>paint</code></td>\n<td>✅ 60+</td>\n<td>✅ 58+</td>\n<td>✅ 13+</td>\n<td>✅ 79+</td>\n<td>❌</td>\n</tr>\n<tr>\n<td><code>resource</code></td>\n<td>✅ 52+</td>\n<td>✅ 57+</td>\n<td>✅ 11+</td>\n<td>✅ 79+</td>\n<td>❌</td>\n</tr>\n<tr>\n<td><code>navigation</code></td>\n<td>✅ 60+</td>\n<td>✅ 58+</td>\n<td>✅ 13+</td>\n<td>✅ 79+</td>\n<td>❌</td>\n</tr>\n<tr>\n<td><code>longtask</code></td>\n<td>✅ 58+</td>\n<td>✅ ❌</td>\n<td>✅ 13+</td>\n<td>✅ 79+</td>\n<td>❌</td>\n</tr>\n<tr>\n<td><code>layout-shift</code></td>\n<td>✅ 84+</td>\n<td>❌</td>\n<td>❌</td>\n<td>✅ 84+</td>\n<td>❌</td>\n</tr>\n</tbody>\n</table>\n<h2>二、关键指标兼容性详情</h2>\n<h3>1. 加载时序指标</h3>\n<table>\n<thead>\n<tr>\n<th>指标</th>\n<th>Chrome</th>\n<th>Firefox</th>\n<th>Safari</th>\n<th>Edge</th>\n<th>替代方案</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Navigation Timing</td>\n<td>✅ 6+</td>\n<td>✅ 7+</td>\n<td>✅ 8+</td>\n<td>✅ 12+</td>\n<td><code>Date.now()</code>差值</td>\n</tr>\n<tr>\n<td>Resource Timing</td>\n<td>✅ 29+</td>\n<td>✅ 35+</td>\n<td>✅ 11+</td>\n<td>✅ 13+</td>\n<td>自定义XHR监控</td>\n</tr>\n</tbody>\n</table>\n<h3>2. 渲染性能指标</h3>\n<table>\n<thead>\n<tr>\n<th>指标</th>\n<th>支持情况</th>\n<th>降级方案</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>First Paint</td>\n<td>✅ Chrome/Edge/Firefox</td>\n<td><code>performance.timing.domLoading</code></td>\n</tr>\n<tr>\n<td>First Contentful Paint</td>\n<td>✅ Chrome/Edge/Firefox</td>\n<td>MutationObserver检测DOM变化</td>\n</tr>\n<tr>\n<td>Largest Contentful Paint</td>\n<td>✅ Chrome/Edge</td>\n<td>手动计算最大可见元素</td>\n</tr>\n</tbody>\n</table>\n<h3>3. 交互性能指标</h3>\n<table>\n<thead>\n<tr>\n<th>指标</th>\n<th>支持情况</th>\n<th>替代方案</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>First Input Delay</td>\n<td>✅ Chrome/Edge</td>\n<td><code>click</code>事件手动计时</td>\n</tr>\n<tr>\n<td>Time to Interactive</td>\n<td>❌ 多数浏览器</td>\n<td><code>domContentLoaded</code>事件估算</td>\n</tr>\n</tbody>\n</table>\n<h2>三、兼容性解决方案</h2>\n<h3>1. 特征检测与降级处理</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 性能监测统一入口</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">initPerformanceMonitoring</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-comment">// 现代浏览器方案</span>\n  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">PerformanceObserver</span>) {\n    <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {\n      <span class="hljs-comment">// 处理性能条目...</span>\n    });\n    observer.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: [<span class="hljs-string">&quot;paint&quot;</span>, <span class="hljs-string">&quot;resource&quot;</span>] });\n    <span class="hljs-keyword">return</span>;\n  }\n\n  <span class="hljs-comment">// 传统浏览器降级方案</span>\n  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">performance</span> &amp;&amp; performance.<span class="hljs-property">timing</span>) {\n    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {\n      <span class="hljs-keyword">const</span> t = performance.<span class="hljs-property">timing</span>;\n      <span class="hljs-keyword">const</span> metrics = {\n        <span class="hljs-attr">fcp</span>: t.<span class="hljs-property">domLoading</span> - t.<span class="hljs-property">navigationStart</span>,\n        <span class="hljs-attr">load</span>: t.<span class="hljs-property">loadEventEnd</span> - t.<span class="hljs-property">navigationStart</span>,\n      };\n      <span class="hljs-title function_">sendMetrics</span>(metrics);\n    }, <span class="hljs-number">0</span>);\n  }\n\n  <span class="hljs-comment">// 最简方案</span>\n  <span class="hljs-keyword">const</span> fallbackStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();\n  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-title function_">sendMetrics</span>({ <span class="hljs-attr">loadTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - fallbackStart });\n  });\n}\n</code></pre>\n<h3>2. 多方案组合监测</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {\n  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span> = {};\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">startTime</span> = performance.<span class="hljs-property">now</span>?.() || <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();\n  }\n\n  <span class="hljs-title function_">start</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setupObserver</span>();\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setupFallback</span>();\n    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setupMemoryMonitor</span>();\n  }\n\n  <span class="hljs-title function_">setupObserver</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">PerformanceObserver</span>) <span class="hljs-keyword">return</span>;\n\n    <span class="hljs-keyword">try</span> {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {\n        list.<span class="hljs-title function_">getEntries</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">entry</span>) =&gt;</span> {\n          <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>[entry.<span class="hljs-property">name</span> || entry.<span class="hljs-property">entryType</span>] = entry;\n        });\n      });\n\n      <span class="hljs-keyword">const</span> types = [];\n      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">PerformanceObserver</span>.<span class="hljs-property">supportedEntryTypes</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;paint&quot;</span>)) {\n        types.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;paint&quot;</span>);\n      }\n      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">PerformanceObserver</span>.<span class="hljs-property">supportedEntryTypes</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;resource&quot;</span>)) {\n        types.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;resource&quot;</span>);\n      }\n\n      <span class="hljs-keyword">if</span> (types.<span class="hljs-property">length</span>) {\n        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: types });\n      }\n    } <span class="hljs-keyword">catch</span> (e) {\n      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;PerformanceObserver failed:&quot;</span>, e);\n    }\n  }\n\n  <span class="hljs-title function_">setupFallback</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">performance</span> &amp;&amp; performance.<span class="hljs-property">timing</span>) {\n      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingFallback</span> = <span class="hljs-literal">true</span>;\n      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateTimingMetrics</span>();\n      });\n    }\n  }\n\n  <span class="hljs-title function_">setupMemoryMonitor</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {\n      <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {\n        <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">memory</span> = performance.<span class="hljs-property">memory</span>;\n      }, <span class="hljs-number">5000</span>);\n    }\n  }\n\n  <span class="hljs-title function_">calculateTimingMetrics</span>(<span class="hljs-params"></span>) {\n    <span class="hljs-keyword">const</span> t = performance.<span class="hljs-property">timing</span>;\n    <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">timing</span> = {\n      <span class="hljs-attr">dns</span>: t.<span class="hljs-property">domainLookupEnd</span> - t.<span class="hljs-property">domainLookupStart</span>,\n      <span class="hljs-attr">tcp</span>: t.<span class="hljs-property">connectEnd</span> - t.<span class="hljs-property">connectStart</span>,\n      <span class="hljs-attr">ttfb</span>: t.<span class="hljs-property">responseStart</span> - t.<span class="hljs-property">requestStart</span>,\n      <span class="hljs-attr">fcp</span>: t.<span class="hljs-property">domLoading</span> - t.<span class="hljs-property">navigationStart</span>,\n      <span class="hljs-attr">load</span>: t.<span class="hljs-property">loadEventEnd</span> - t.<span class="hljs-property">navigationStart</span>,\n    };\n  }\n}\n</code></pre>\n<h2>四、各浏览器特殊注意事项</h2>\n<h3>1. Chrome 特有特性</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// Chrome 内存监测</span>\n<span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;JS堆:&quot;</span>, performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>, <span class="hljs-string">&quot;MB&quot;</span>);\n}\n</code></pre>\n<h3>2. Firefox 限制</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// Firefox 需要特殊处理的时间精度</span>\n<span class="hljs-keyword">const</span> highResTime = performance.<span class="hljs-title function_">now</span>();\n<span class="hljs-keyword">const</span> normalTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();\n</code></pre>\n<h3>3. Safari 差异</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// Safari 对某些entryType的支持较晚</span>\n<span class="hljs-keyword">if</span> (<span class="hljs-title class_">PerformanceObserver</span>.<span class="hljs-property">supportedEntryTypes</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;longtask&quot;</span>)) {\n  <span class="hljs-comment">// 仅在支持的浏览器中启用长任务监控</span>\n}\n</code></pre>\n<h3>4. 移动端浏览器</h3>\n<pre><code class="language-javascript"><span class="hljs-comment">// 移动端浏览器通常支持较好但可能有性能限制</span>\n<span class="hljs-keyword">const</span> isMobile = <span class="hljs-regexp">/Mobi|Android/i</span>.<span class="hljs-title function_">test</span>(navigator.<span class="hljs-property">userAgent</span>);\n<span class="hljs-keyword">if</span> (isMobile) {\n  <span class="hljs-comment">// 减少移动端的监控频率</span>\n}\n</code></pre>\n<h2>五、兼容性最佳实践</h2>\n<ol>\n<li>\n<p><strong>分层监测策略</strong>   ：</p>\n<pre><code class="language-mermaid">graph TD\n  A[检测PerformanceObserver] --&gt;|可用| B(使用现代API)\n  A --&gt;|不可用| C[检测performance.timing]\n  C --&gt;|可用| D(使用传统timing)\n  C --&gt;|不可用| E(使用Date.now基础计时)\n</code></pre>\n</li>\n<li>\n<p><strong>数据标注来源</strong>   ：</p>\n<pre><code class="language-javascript">{\n  <span class="hljs-attr">value</span>: <span class="hljs-number">1200</span>,\n  <span class="hljs-attr">source</span>: <span class="hljs-string">&#x27;PerformanceObserver&#x27;</span>,\n  <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>,\n  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()\n}\n</code></pre>\n</li>\n<li>\n<p><strong>渐进增强方案</strong>   ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFCP</span>(<span class="hljs-params"></span>) {\n  <span class="hljs-comment">// 最优方案</span>\n  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PerformanceObserver</span> !== <span class="hljs-string">&quot;undefined&quot;</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {\n      <span class="hljs-keyword">const</span> po = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">list</span>) =&gt;</span> {\n        <span class="hljs-keyword">const</span> entries = list.<span class="hljs-title function_">getEntriesByName</span>(<span class="hljs-string">&quot;first-contentful-paint&quot;</span>);\n        <span class="hljs-keyword">if</span> (entries.<span class="hljs-property">length</span>) <span class="hljs-title function_">resolve</span>(entries[<span class="hljs-number">0</span>]);\n        po.<span class="hljs-title function_">disconnect</span>();\n      });\n      po.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;paint&quot;</span>, <span class="hljs-attr">buffered</span>: <span class="hljs-literal">true</span> });\n    });\n  }\n\n  <span class="hljs-comment">// 降级方案</span>\n  <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">timing</span>) {\n    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>({\n      <span class="hljs-attr">startTime</span>:\n        performance.<span class="hljs-property">timing</span>.<span class="hljs-property">domLoading</span> - performance.<span class="hljs-property">timing</span>.<span class="hljs-property">navigationStart</span>,\n    });\n  }\n\n  <span class="hljs-comment">// 最简方案</span>\n  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>({\n    <span class="hljs-attr">startTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - performance.<span class="hljs-property">timeOrigin</span>,\n  });\n}\n</code></pre>\n</li>\n<li>\n<p><strong>异常处理机制</strong>   ：</p>\n<pre><code class="language-javascript"><span class="hljs-keyword">try</span> {\n  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceObserver</span>(<span class="hljs-comment">/*...*/</span>);\n} <span class="hljs-keyword">catch</span> (e) {\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;性能监控初始化失败:&quot;</span>, e);\n  <span class="hljs-title function_">startFallbackMonitoring</span>();\n}\n</code></pre>\n</li>\n</ol>\n<h2>六、兼容性统计参考</h2>\n<p>根据 Can I Use 数据（截至2023年10月）：</p>\n<ul>\n<li><strong>PerformanceObserver</strong>   全球覆盖率约 92%</li>\n<li><strong>High Resolution Time</strong>   覆盖率约 95%</li>\n<li><strong>Resource Timing</strong>   覆盖率约 90%</li>\n<li><strong>Navigation Timing</strong>   覆盖率约 98%</li>\n</ul>\n<p>对于必须支持老旧浏览器的项目，建议：</p>\n<ol>\n<li>提供降级数据采集方案</li>\n<li>明确标注数据来源</li>\n<li>在分析时考虑浏览器差异</li>\n<li>对关键指标实现多方案交叉验证</li>\n</ol>\n<p>通过合理的兼容性处理，可以在绝大多数浏览器环境中获取有价值的性能数据。</p>\n</div>'</script></body></html>