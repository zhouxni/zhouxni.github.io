<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x2d51(){var s=["tCkidMNdTq","W7VdTmoujfhdVNRdQ8o/W5yZWOCI","Cmkdxd0LW4lcOSo0oCocl0m","EL3dUmkUuqNdPa","mhHiemk6WORdSG","kK/dKmkzWQDJdW","j8o2aqddOSomWQGxf8o8W53dHZm","eCk6WO0qdedcRSoAWOPlW7BdRG","gmkJnIFcP8osWRDeWPy0WRuLW54","EmksWOf1u8kpmq","W6W6W7pcIIvcWONcU0BdPxaq","sSoGW5DbtXNcH8oK","W67cRYfShxWhBt9LW7tdHWG","g8kMnYBcPCosWRDKWPi2WQ0UW6a","W77dJ8kREruPW5hcHqZcLCkpW409WO3dUdXaW6ldJCotxmkLW4JdR8kcuq","WQddVuddJhldJIK","bSkTbrNdVCoxBCojq8oyiNiV","bmkPW5RdG0xdMmkQW7usW5K1FSkb","muBdN8oav8oZhW","WOfvW5LeW6ZdJColxmofWPqYWQW","AKlcPf7cVvFdL8opWRnunmkJEW","W4DQscXNWRqYiCoahCoWrmk1WQy","WOJcOCkfDXBcVGBdUSoN","AKpcR1/cTvpdLmkFWP9HmSkYrYq"];return(_0x2d51=function(){return s})()}var _0x185fb0=_0x32c1;function _0x32c1(t,s){var p=_0x2d51();return(_0x32c1=function(s,a){var n=p[s-=107];void 0===_0x32c1.dkUPij&&(_0x32c1.zqvKXR=function(s,a){var n,l=[],t=0,p="";for(s=(s=>{for(var a,n,l="",t="",p=0,e=0;n=s.charAt(e++);~n&&(a=p%4?64*a+n:n,p++%4)&&(l+=String.fromCharCode(255&a>>(-2*p&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,o=l.length;c<o;c++)t+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(t)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)t=(t+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[t],l[t]=n;for(var e=0,t=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[t=(t+l[e])%256],l[t]=n,p+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[t])%256]);return p},t=arguments,_0x32c1.dkUPij=!0);var s=s+p[0],l=t[s];return l?n=l:(void 0===_0x32c1.rvdiVu&&(_0x32c1.rvdiVu=!0),n=_0x32c1.zqvKXR(n,a),t[s]=n),n})(t,s)}if((()=>{for(var s=_0x32c1,a=_0x2d51();;)try{if(586070==+parseInt(s(108,"CJia"))*(-parseInt(s(122,"%u%["))/2)+-parseInt(s(121,"3snT"))/3+parseInt(s(119,"zuBs"))/4+-parseInt(s(120,"p^it"))/5+-parseInt(s(125,"AtCC"))/6+parseInt(s(126,"3snT"))/7+-parseInt(s(107,"4B$z"))/8*(-parseInt(s(112,"AL!V"))/9))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x185fb0(116,"axqN")](_0x185fb0(111,"2A#x"))!=_0x185fb0(113,"%sEx"))throw window[_0x185fb0(124,"p^it")][_0x185fb0(128,"gcs6")](_0x185fb0(127,"s[q(")),Error();document.title="一键换肤",document.getElementById("article").innerHTML='<div><p>前端站点一键换肤的实现方式有多种，这些方式主要围绕如何动态地改变站点的样式。以下是一些常见的实现方式：</p>\n<h3>1. 使用 CSS 变量</h3>\n<ul>\n<li><strong>原理</strong>  ：通过 CSS 变量（Custom Properties）来管理站点的主题颜色、背景、字体等样式属性。用户切换主题时，只需要改变这些 CSS 变量的值，页面的样式会自动更新。</li>\n<li><strong>实现方式</strong>  ：\n<ol>\n<li>在全局样式中定义 CSS 变量，例如：</li>\n</ol>\n<pre><code class="language-css"><span class="hljs-selector-pseudo">:root</span> {\n    <span class="hljs-attr">--primary-color</span>: <span class="hljs-number">#3498db</span>;\n    <span class="hljs-attr">--background-color</span>: <span class="hljs-number">#ffffff</span>;\n    <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#333333</span>;\n}\n<span class="hljs-selector-tag">body</span> {\n    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--background-color);\n    <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color);\n}\n<span class="hljs-selector-tag">button</span> {\n    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--primary-color);\n}\n</code></pre>\n<ol start="2">\n<li>提供一个切换主题的接口，例如：</li>\n</ol>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">switchTheme</span>(<span class="hljs-params">theme</span>) {\n    <span class="hljs-keyword">if</span> (theme === <span class="hljs-string">&#x27;dark&#x27;</span>) {\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;--primary-color&#x27;</span>, <span class="hljs-string">&#x27;#2c3e50&#x27;</span>);\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;--background-color&#x27;</span>, <span class="hljs-string">&#x27;#34495e&#x27;</span>);\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;--text-color&#x27;</span>, <span class="hljs-string">&#x27;#ecf0f1&#x27;</span>);\n    } <span class="hljs-keyword">else</span> {\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;--primary-color&#x27;</span>, <span class="hljs-string">&#x27;#3498db&#x27;</span>);\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;--background-color&#x27;</span>, <span class="hljs-string">&#x27;#ffffff&#x27;</span>);\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">&#x27;--text-color&#x27;</span>, <span class="hljs-string">&#x27;#333333&#x27;</span>);\n    }\n}\n</code></pre>\n<ol start="3">\n<li>用户点击按钮时触发切换主题：</li>\n</ol>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;switchTheme(&#x27;dark&#x27;)&quot;</span>&gt;</span>Dark Mode<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;switchTheme(&#x27;light&#x27;)&quot;</span>&gt;</span>Light Mode<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n</code></pre>\n</li>\n<li><strong>优点</strong>  ：代码简洁，易于维护；支持动态更新，避免页面重载。</li>\n<li><strong>缺点</strong>  ：如果网站的样式复杂，使用 CSS 变量可能需要大量的变量定义和管理。</li>\n</ul>\n<h3>2. 动态切换 CSS 样式表</h3>\n<ul>\n<li><strong>原理</strong>  ：通过 JavaScript 动态切换不同的 CSS 样式表来实现换肤功能。这种方法通常适用于在切换主题时，样式表包含大量不同的样式，而不是仅仅改变几个变量。</li>\n<li><strong>实现方式</strong>  ：\n<ol>\n<li>在页面中预先定义多个 CSS 样式表，每个主题一个样式表：</li>\n</ol>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;theme-style&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;light-theme.css&quot;</span>&gt;</span>\n</code></pre>\n<ol start="2">\n<li>提供一个 JavaScript 函数，用来切换样式表：</li>\n</ol>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">switchTheme</span>(<span class="hljs-params">theme</span>) {\n    <span class="hljs-keyword">const</span> themeStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;theme-style&#x27;</span>);\n    <span class="hljs-keyword">if</span> (theme === <span class="hljs-string">&#x27;dark&#x27;</span>) {\n        themeStyle.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&#x27;dark-theme.css&#x27;</span>);\n    } <span class="hljs-keyword">else</span> {\n        themeStyle.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&#x27;light-theme.css&#x27;</span>);\n    }\n}\n</code></pre>\n<ol start="3">\n<li>用户点击按钮时，调用 <code>switchTheme</code> 函数：</li>\n</ol>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;switchTheme(&#x27;dark&#x27;)&quot;</span>&gt;</span>Dark Mode<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;switchTheme(&#x27;light&#x27;)&quot;</span>&gt;</span>Light Mode<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>\n</code></pre>\n</li>\n<li><strong>优点</strong>  ：适用于样式变化较为复杂的情况，每个主题可以有独立的 CSS 文件；切换时不需要重新加载页面，用户体验较好。</li>\n<li><strong>缺点</strong>  ：每次切换需要加载新的样式表，可能会影响性能，尤其是在网络较差时；需要预加载多个 CSS 文件，增加页面初次加载的资源。</li>\n</ul>\n<h3>3. 利用 localStorage 或 cookies 保存用户偏好</h3>\n<ul>\n<li><strong>原理</strong>  ：利用浏览器的 <code>localStorage</code> 或 <code>cookies</code> 来保存用户的主题选择，使得主题切换后，刷新页面仍然能保持用户的偏好。</li>\n<li><strong>实现方式</strong>  ：\n<ol>\n<li>在切换主题时，将用户的选择保存到 <code>localStorage</code> 或 <code>cookies</code>：</li>\n</ol>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">switchTheme</span>(<span class="hljs-params">theme</span>) {\n    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;theme&#x27;</span>, theme); <span class="hljs-comment">// 保存主题到 localStorage</span>\n    <span class="hljs-title function_">applyTheme</span>(theme);\n}\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">applyTheme</span>(<span class="hljs-params">theme</span>) {\n    <span class="hljs-keyword">if</span> (theme === <span class="hljs-string">&#x27;dark&#x27;</span>) {\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;dark-theme&#x27;</span>);\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;light-theme&#x27;</span>);\n    } <span class="hljs-keyword">else</span> {\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;light-theme&#x27;</span>);\n        <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;dark-theme&#x27;</span>);\n    }\n}\n<span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {\n    <span class="hljs-keyword">const</span> savedTheme = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;theme&#x27;</span>) || <span class="hljs-string">&#x27;light&#x27;</span>;\n    <span class="hljs-title function_">applyTheme</span>(savedTheme);\n};\n</code></pre>\n<ol start="2">\n<li>通过类名切换主题样式：</li>\n</ol>\n<pre><code class="language-css"><span class="hljs-selector-class">.light-theme</span> {\n    <span class="hljs-attr">--primary-color</span>: <span class="hljs-number">#3498db</span>;\n    <span class="hljs-attr">--background-color</span>: <span class="hljs-number">#ffffff</span>;\n    <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#333333</span>;\n}\n<span class="hljs-selector-class">.dark-theme</span> {\n    <span class="hljs-attr">--primary-color</span>: <span class="hljs-number">#2c3e50</span>;\n    <span class="hljs-attr">--background-color</span>: <span class="hljs-number">#34495e</span>;\n    <span class="hljs-attr">--text-color</span>: <span class="hljs-number">#ecf0f1</span>;\n}\n</code></pre>\n</li>\n<li><strong>优点</strong>  ：保存用户偏好，避免每次访问时都需要重新选择主题；使用 <code>localStorage</code> 或 <code>cookies</code> 可以跨页面保持主题状态。</li>\n<li><strong>缺点</strong>  ：如果用户清除浏览器数据，保存的主题偏好将丢失；如果未设置默认主题，可能会出现用户首次访问时主题不一致的问题。</li>\n</ul>\n<h3>4. 通过 HTML 元素添加不同的 CSS 类</h3>\n<ul>\n<li><strong>原理</strong>  ：通过在 HTML 元素（通常是 <code>&lt;body&gt;</code> 或 <code>&lt;html&gt;</code>）上添加不同的 CSS 类来实现不同的主题切换。每个类定义一组主题样式，切换类名即可切换主题。</li>\n<li><strong>实现方式</strong>  ：\n<ol>\n<li>在 HTML 文件中为 <code>&lt;body&gt;</code> 或 <code>&lt;html&gt;</code> 添加主题类：</li>\n</ol>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;light-theme&quot;</span>&gt;</span>\n</code></pre>\n<ol start="2">\n<li>在 CSS 中定义不同主题类的样式：</li>\n</ol>\n<pre><code class="language-css"><span class="hljs-selector-class">.light-theme</span> {\n    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ffffff</span>;\n    <span class="hljs-attribute">color</span>: <span class="hljs-number">#333333</span>;\n}\n<span class="hljs-selector-class">.dark-theme</span> {\n    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#34495e</span>;\n    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ecf0f1</span>;\n}\n</code></pre>\n<ol start="3">\n<li>使用 JavaScript 切换类名：</li>\n</ol>\n<pre><code class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">switchTheme</span>(<span class="hljs-params">theme</span>) {\n    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">className</span> = theme;\n}\n</code></pre>\n</li>\n<li><strong>优点</strong>  ：实现简单，不需要额外的 CSS 文件或变量管理。</li>\n<li><strong>缺点</strong>  ：样式管理可能较为分散，不适合复杂的主题切换需求。</li>\n</ul>\n</div>'</script></body></html>