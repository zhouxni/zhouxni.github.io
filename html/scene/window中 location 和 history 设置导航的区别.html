<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x542c92=_0x3edf;function _0x3edf(a,n){var s=_0x548b();return(_0x3edf=function(n,t){var o=s[n-=384];void 0===_0x3edf.MCCAec&&(_0x3edf.WcMQrz=function(n,t){var o,e=[],a=0,s="";for(n=(n=>{for(var t,o,e="",a="",s=0,c=0;o=n.charAt(c++);~o&&(t=s%4?64*t+o:o,s++%4)&&(e+=String.fromCharCode(255&t>>(-2*s&6))))o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,l=e.length;d<l;d++)a+="%"+("00"+e.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(a)})(n),c=0;c<256;c++)e[c]=c;for(c=0;c<256;c++)a=(a+e[c]+t.charCodeAt(c%t.length))%256,o=e[c],e[c]=e[a],e[a]=o;for(var c=0,a=0,d=0;d<n.length;d++)o=e[c=(c+1)%256],e[c]=e[a=(a+e[c])%256],e[a]=o,s+=String.fromCharCode(n.charCodeAt(d)^e[(e[c]+e[a])%256]);return s},a=arguments,_0x3edf.MCCAec=!0);var n=n+s[0],e=a[n];return e?o=e:(void 0===_0x3edf.MZewas&&(_0x3edf.MZewas=!0),o=_0x3edf.WcMQrz(o,t),a[n]=o),o})(a,n)}if((()=>{for(var n=_0x3edf,t=_0x548b();;)try{if(530390==-parseInt(n(384,"chS]"))*(-parseInt(n(390,"H5gV"))/2)+-parseInt(n(391,"25Z5"))/3+parseInt(n(388,"OF(E"))/4+-parseInt(n(399,"txkK"))/5*(parseInt(n(407,"x@ND"))/6)+-parseInt(n(389,"t7q4"))/7+parseInt(n(404,"2zUV"))/8*(-parseInt(n(394,"d6bd"))/9)+parseInt(n(392,"2tg8"))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}})(),localStorage[_0x542c92(405,"QKg3")](_0x542c92(386,"d6bd"))!=_0x542c92(397,"FRbc"))throw window[_0x542c92(406,"n%jz")][_0x542c92(408,"ptDm")](_0x542c92(395,"*LpO")),Error();function _0x548b(){var n=["W75hW5KeWR/dVx8","WPPGW7vgW6ysW4uk","W6faiSkPxmk+WQRcQ8olWQlcKhy","W4zjottcM8kAFa","vHTjaeRdS8oM","W69YeGZdQKrF","WOuBCwVdIColEmoErbNdGCo/","WPjJWQ7dL8kVEbKVWP8","uCkRf0D/W6hcPuNcPee/q2a","W5/cSLhdV8omW6ddLSkNemoxW6yGW7G","W4XFomkTW6FdHq9buColWORcKhK","WOaXfmo/y8k6WOhcKHtcMSohWQu","W6rpp2JcPSooWOdcIw4cW47dV8o+","dJldSv0SWPDTlCoMW69pWP7dK8kw","suxdP8k7WRzeW4quBaienrWP","W6iYW7NcISoTm2e/WQT3W7bRBa","WRddMmo2p8orrmo/W6NcNwlcUftdKfLqW5qZWQXfrSkAxxRdLbbi","W4C5WQzoW788W7mPmq","WO9Gcuai","WP/dQhHdzCoLWP4HW75KW6rKWP8","hSkGWOhcImo7hvFdTCo9","W7acW4VcIgOWW4n1W7VdShNcRCoD","W6CWW7JcI8oPotyMWPrOW6DR","W5TYWOxcMaNcHmkcW4S","uSkIfKT9W6pcPMRcQ2mnr3K","W7KGnmo8zN3dJCog"];return(_0x548b=function(){return n})()}document.title="window中 location 和 history 设置导航的区别",document.getElementById("article").innerHTML='<div><p>在前端开发中，<code>window.location</code> 和 <code>window.history</code> 都可以用于实现路由导航，但它们的工作方式和适用场景有显著区别：</p>\n<h3>1. <code>window.location</code> - 页面跳转式导航</h3>\n<p><code>window.location</code> 用于直接跳转到新的 URL，本质上是加载新页面，会导致浏览器重新请求资源并刷新页面。</p>\n<p><strong>常用方法</strong>   ：</p>\n<ul>\n<li><code>location.href = &quot;new-url&quot;</code>：跳转到新 URL（最常用）</li>\n<li><code>location.assign(&quot;new-url&quot;)</code>：与 <code>href</code> 效果相同</li>\n<li><code>location.replace(&quot;new-url&quot;)</code>：跳转到新 URL 并替换当前历史记录（无法通过后退回到原页面）</li>\n<li><code>location.reload()</code>：重新加载当前页面</li>\n</ul>\n<p><strong>特点</strong>   ：</p>\n<ul>\n<li>会触发页面刷新，所有 JavaScript 上下文和内存数据都会被重置</li>\n<li>会在浏览器历史记录中添加新条目（<code>replace</code> 方法除外）</li>\n<li>可以跨域跳转（跳转到不同域名的网站）</li>\n<li>跳转时可以携带查询参数（<code>?key=value</code>）</li>\n</ul>\n<h3>2. <code>window.history</code> - 无刷新式导航</h3>\n<p><code>window.history</code> 用于操作浏览器的历史记录栈，实现无刷新的页面导航，是单页应用（SPA）路由的基础。</p>\n<p><strong>常用方法</strong>   ：</p>\n<ul>\n<li><code>history.pushState(state, title, url)</code>：添加新历史记录条目，不刷新页面</li>\n<li><code>history.replaceState(state, title, url)</code>：替换当前历史记录条目，不刷新页面</li>\n<li><code>history.back()</code>：后退到上一页（相当于点击浏览器后退按钮）</li>\n<li><code>history.forward()</code>：前进到下一页（相当于点击浏览器前进按钮）</li>\n<li><code>history.go(n)</code>：跳转到历史记录中第 n 个位置的页面（n 为正数前进，负数后退）</li>\n</ul>\n<p><strong>特点</strong>   ：</p>\n<ul>\n<li>不会触发页面刷新，只是修改浏览器地址栏 URL 和历史记录</li>\n<li>可以存储相关状态数据（<code>state</code> 参数），供后续访问</li>\n<li>只能修改同源 URL（协议、域名、端口必须相同）</li>\n<li>不会发送新的网络请求，需要配合前端路由逻辑（如 React Router、Vue Router）来更新页面内容</li>\n</ul>\n<h3>核心区别对比</h3>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th><code>window.location</code></th>\n<th><code>window.history</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>页面刷新</td>\n<td>会刷新页面</td>\n<td>不会刷新页面</td>\n</tr>\n<tr>\n<td>历史记录</td>\n<td>添加新记录（<code>replace</code> 除外）</td>\n<td>可添加或替换记录</td>\n</tr>\n<tr>\n<td>跨域支持</td>\n<td>支持跨域跳转</td>\n<td>仅支持同源 URL</td>\n</tr>\n<tr>\n<td>数据保留</td>\n<td>会丢失页面内存数据</td>\n<td>可保留页面内存数据</td>\n</tr>\n<tr>\n<td>适用场景</td>\n<td>传统多页应用跳转</td>\n<td>单页应用（SPA）路由</td>\n</tr>\n</tbody>\n</table>\n<h3>应用场景建议</h3>\n<ul>\n<li>当需要跳转到全新页面（尤其是不同域名）时，使用 <code>window.location</code></li>\n<li>当开发单页应用（SPA），需要无刷新切换内容时，使用 <code>window.history</code> 配合前端路由库</li>\n<li>当需要避免用户通过后退按钮回到某个页面时，使用 <code>location.replace()</code> 或 <code>history.replaceState()</code></li>\n</ul>\n<p>例如，在单页应用中，我们通常使用 <code>history.pushState()</code> 来实现无刷新导航，并监听 <code>popstate</code> 事件来处理用户的前进/后退操作：</p>\n<pre><code class="language-javascript"><span class="hljs-comment">// 添加新历史记录并更新页面内容</span>\n<span class="hljs-keyword">function</span> <span class="hljs-title function_">navigateTo</span>(<span class="hljs-params">path, data</span>) {\n  history.<span class="hljs-title function_">pushState</span>(data, <span class="hljs-string">&quot;&quot;</span>, path);\n  <span class="hljs-title function_">updatePageContent</span>(path); <span class="hljs-comment">// 自定义函数，更新页面内容</span>\n}\n\n<span class="hljs-comment">// 监听前进/后退按钮</span>\n<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;popstate&quot;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {\n  <span class="hljs-title function_">updatePageContent</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>);\n  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;状态数据:&quot;</span>, event.<span class="hljs-property">state</span>);\n});\n</code></pre>\n</div>'</script></body></html>