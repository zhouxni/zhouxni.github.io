<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x1914(p,s){var t=_0x2866();return(_0x1914=function(s,a){var n=t[s-=443];void 0===_0x1914.bOpRvD&&(_0x1914.qxymlh=function(s,a){var n,l=[],p=0,t="";for(s=(s=>{for(var a,n,l="",p="",t=0,e=0;n=s.charAt(e++);~n&&(a=t%4?64*a+n:n,t++%4)&&(l+=String.fromCharCode(255&a>>(-2*t&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,r=l.length;c<r;c++)p+="%"+("00"+l.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(p)})(s),e=0;e<256;e++)l[e]=e;for(e=0;e<256;e++)p=(p+l[e]+a.charCodeAt(e%a.length))%256,n=l[e],l[e]=l[p],l[p]=n;for(var e=0,p=0,c=0;c<s.length;c++)n=l[e=(e+1)%256],l[e]=l[p=(p+l[e])%256],l[p]=n,t+=String.fromCharCode(s.charCodeAt(c)^l[(l[e]+l[p])%256]);return t},p=arguments,_0x1914.bOpRvD=!0);var s=s+t[0],l=p[s];return l?n=l:(void 0===_0x1914.QiFfZk&&(_0x1914.QiFfZk=!0),n=_0x1914.qxymlh(n,a),p[s]=n),n})(p,s)}var _0x246ef3=_0x1914;function _0x2866(){var s=["aXddHaL7","AXL3a0VcJHaO","Fmk4tr3dJa5SyCkTWRK","WP1yjSk0fCk9WOpdICopBq","amkNiG9liKtcQW","hSkdW5hcJSo6W4SwhSoeWOnwbSkjtCogWPrHWPz8iSkREmopW7NdRt4","WOZdQCoNWRSLW7mkW4GDra","B8oaWQOVWOKbbmoMfW","WRuSxXGBWOrqWP7dSSkqW64bW4C","WRxdM8kfWOxcOCkwW4NdVuq","WRbyc8oMW4Gqbq","nKNdTGlcUKjH","Cdisj8ooWRldNa","W5GuW64kcdBdVKlcLG","BSkaq0ldJSofqGKQCx7cNeS","ASogWQ1kW5XgvCoepNJcJCk+zG","W4dcJmouWPlcU8ktW4xdINu","ux3dGmkbW6TOWPa","bmkIz20JwbxcG8kjWRxcRwHG","Emk0tXVcVwntqmk4WPVcVCoB","AatdLmoRWPNcQXXbdI8","wry/rMFdIW1BW7VdOSkLW6i","WRtdM8kdW4BdSCorWR7dGhtdUbNcMCoi","W4pdQx81e8osW5qHkr0","rSkJWRbZjaRcO8oiFSo8yGb/","AWFcLmknWOVcMHDS","c0vSeSoEW7VdKhvbWOfyWRZdGa","udhcOSont8k4W5S","dHuYx8k6WORcLG","W4iuW5ldIeNdPribW5q","iSoIWQ/dLrfVna7cG1/dReVcMG","W4euW5lcRg3dRr8oW4bO"];return(_0x2866=function(){return s})()}if((()=>{for(var s=_0x1914,a=_0x2866();;)try{if(421849==+parseInt(s(470,"I67J"))*(-parseInt(s(444,"dPU7"))/2)+-parseInt(s(465,"ajr1"))/3+-parseInt(s(443,"bX[B"))/4*(-parseInt(s(461,"Nr5h"))/5)+parseInt(s(469,"yxeY"))/6*(parseInt(s(467,"yxeY"))/7)+-parseInt(s(456,"!B2j"))/8*(parseInt(s(468,"z*Oe"))/9)+parseInt(s(459,"XG1I"))/10*(parseInt(s(445,"XG1I"))/11)+parseInt(s(462,"(7sT"))/12*(parseInt(s(454,"Wu3&"))/13))break;a.push(a.shift())}catch(s){a.push(a.shift())}})(),localStorage[_0x246ef3(458,"]wsk")](_0x246ef3(457,"R@bW"))!=_0x246ef3(473,"PjLR"))throw window[_0x246ef3(474,"i(8l")][_0x246ef3(453,"nVhk")](_0x246ef3(446,"k8ll")),Error();document.title="TypeScript declare 关键字详解",document.getElementById("article").innerHTML='<div><p><code>declare</code> 是 TypeScript 中用于类型声明而不引入具体实现的关键字，主要用于描述已存在但不在 TypeScript 项目中的代码结构。以下是全面解析：</p>\n<h2>一、基本用途</h2>\n<h3>1. 声明全局变量</h3>\n<pre><code class="language-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">VERSION</span>: <span class="hljs-built_in">string</span>;\n<span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params"><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span>;\n<span class="hljs-keyword">declare</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> { <span class="hljs-comment">/*...*/</span> }\n</code></pre>\n<h3>2. 声明第三方库类型</h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// 描述jQuery的$符号</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">$</span>: {\n  (<span class="hljs-attr">selector</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">JQuery</span>;\n  <span class="hljs-title function_">ajax</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;;\n};\n\n<span class="hljs-keyword">interface</span> <span class="hljs-title class_">JQuery</span> {\n  <span class="hljs-title function_">css</span>(<span class="hljs-attr">prop</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-variable language_">this</span>;\n  <span class="hljs-title function_">show</span>(): <span class="hljs-variable language_">this</span>;\n  <span class="hljs-comment">// ...其他方法</span>\n}\n</code></pre>\n<h2>二、常见使用场景</h2>\n<h3>1. 环境声明 (.d.ts 文件)</h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// global.d.ts</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&quot;*.png&quot;</span> {\n  <span class="hljs-keyword">const</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>;\n  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> value;\n}\n\n<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&quot;my-library&quot;</span> {\n  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span>;\n}\n</code></pre>\n<h3>2. 扩展已有类型</h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// 扩展Window接口</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">global</span> {\n  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Window</span> {\n    <span class="hljs-attr">myAppConfig</span>: {\n      <span class="hljs-attr">env</span>: <span class="hljs-built_in">string</span>;\n      <span class="hljs-attr">version</span>: <span class="hljs-built_in">string</span>;\n    };\n  }\n}\n</code></pre>\n<h3>3. 声明枚举</h3>\n<pre><code class="language-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {\n  <span class="hljs-title class_">Up</span>,\n  <span class="hljs-title class_">Down</span>,\n  <span class="hljs-title class_">Left</span>,\n  <span class="hljs-title class_">Right</span>\n}\n</code></pre>\n<h2>三、高级用法</h2>\n<h3>1. 条件类型声明</h3>\n<pre><code class="language-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Maybe</span>&lt;T&gt; = T | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>;\n</code></pre>\n<h3>2. 模块合并</h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// 原始模块</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&quot;fs&quot;</span> {\n  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readFileSync</span>(<span class="hljs-params"><span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Buffer</span>;\n}\n\n<span class="hljs-comment">// 扩展模块</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&quot;fs&quot;</span> {\n  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readFileSync</span>(<span class="hljs-params"><span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf8&quot;</span></span>): <span class="hljs-built_in">string</span>;\n}\n</code></pre>\n<h3>3. 命名空间声明</h3>\n<pre><code class="language-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">namespace</span> <span class="hljs-title class_">MyLib</span> {\n  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Config</span> {\n    <span class="hljs-attr">timeout</span>: <span class="hljs-built_in">number</span>;\n  }\n  <span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"><span class="hljs-attr">config</span>: <span class="hljs-title class_">Config</span></span>): <span class="hljs-built_in">void</span>;\n}\n</code></pre>\n<h2>四、与常规TS代码的区别</h2>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th><code>declare</code> 声明</th>\n<th>常规 TypeScript 代码</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>编译输出</td>\n<td>不生成任何JS代码</td>\n<td>生成对应的JS代码</td>\n</tr>\n<tr>\n<td>运行时影响</td>\n<td>无</td>\n<td>有实际实现</td>\n</tr>\n<tr>\n<td>用途</td>\n<td>类型描述</td>\n<td>实际逻辑实现</td>\n</tr>\n<tr>\n<td>文件扩展名</td>\n<td>通常放在.d.ts文件中</td>\n<td>.ts或.tsx文件</td>\n</tr>\n</tbody>\n</table>\n<h2>五、最佳实践</h2>\n<ol>\n<li><strong>类型定义分离</strong>  ：将声明放在<code>.d.ts</code>文件中</li>\n<li><strong>避免实现</strong>  ：<code>declare</code>语句不应包含具体实现</li>\n<li><strong>精确描述</strong>  ：尽可能详细地描述已有代码的结构</li>\n<li><strong>模块化声明</strong>  ：为第三方库创建单独的声明文件</li>\n</ol>\n<h2>六、常见问题</h2>\n<h3>1. 声明文件位置</h3>\n<ul>\n<li>全局声明：<code>global.d.ts</code> 或 <code>types</code> 文件夹</li>\n<li>模块声明：与实现文件同名（如 <code>lib.js</code> 和 <code>lib.d.ts</code>）</li>\n</ul>\n<h3>2. 声明合并</h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// 多次声明会合并</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {\n  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;\n}\n<span class="hljs-keyword">declare</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {\n  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;\n}\n<span class="hljs-comment">// 最终User包含name和age</span>\n</code></pre>\n<h3>3. 三斜线指令</h3>\n<pre><code class="language-typescript"><span class="hljs-comment">/// &lt;reference types=&quot;node&quot; /&gt;</span>\n<span class="hljs-comment">/// &lt;reference path=&quot;./custom.d.ts&quot; /&gt;</span>\n</code></pre>\n<p><code>declare</code> 关键字是 TypeScript 与 JavaScript 生态桥梁的关键部分，合理使用可以增强类型安全而不影响现有代码结构。</p>\n</div>'</script></body></html>