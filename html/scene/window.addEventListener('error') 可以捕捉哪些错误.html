<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0xcd9e7=_0x2034;(function(_0x8eb4,_0x5d9215){var _0x104e47=_0x2034,_0x4e4346=_0x8eb4();while(!![]){try{var _0x54266a=-parseInt(_0x104e47(0x1d4,'Q1j1'))/0x1+parseInt(_0x104e47(0x1e5,'m$45'))/0x2+-parseInt(_0x104e47(0x1e0,'VPF#'))/0x3+parseInt(_0x104e47(0x1dc,'bWK$'))/0x4+parseInt(_0x104e47(0x1e4,'!RBz'))/0x5+parseInt(_0x104e47(0x1e3,'S7Jv'))/0x6+-parseInt(_0x104e47(0x1e6,'bWK$'))/0x7;if(_0x54266a===_0x5d9215)break;else _0x4e4346['push'](_0x4e4346['shift']());}catch(_0x4c739b){_0x4e4346['push'](_0x4e4346['shift']());}}}(_0x5db9,0x86e8e));function _0x2034(_0x46d574,_0x3c85b1){var _0x5db9eb=_0x5db9();return _0x2034=function(_0x2034e3,_0x11ad06){_0x2034e3=_0x2034e3-0x1d4;var _0x23e931=_0x5db9eb[_0x2034e3];if(_0x2034['DunrxF']===undefined){var _0x4d4765=function(_0x2ff683){var _0x18dcdb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5e5a48='',_0x150826='';for(var _0x4dcbce=0x0,_0x38626d,_0x52a940,_0x14a733=0x0;_0x52a940=_0x2ff683['charAt'](_0x14a733++);~_0x52a940&&(_0x38626d=_0x4dcbce%0x4?_0x38626d*0x40+_0x52a940:_0x52a940,_0x4dcbce++%0x4)?_0x5e5a48+=String['fromCharCode'](0xff&_0x38626d>>(-0x2*_0x4dcbce&0x6)):0x0){_0x52a940=_0x18dcdb['indexOf'](_0x52a940);}for(var _0x72b2fa=0x0,_0xd8f726=_0x5e5a48['length'];_0x72b2fa<_0xd8f726;_0x72b2fa++){_0x150826+='%'+('00'+_0x5e5a48['charCodeAt'](_0x72b2fa)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x150826);};var _0x12dd37=function(_0x2f30e1,_0x299e6c){var _0x2642c5=[],_0x1fed8f=0x0,_0x31d2fc,_0x68c089='';_0x2f30e1=_0x4d4765(_0x2f30e1);var _0x46eeab;for(_0x46eeab=0x0;_0x46eeab<0x100;_0x46eeab++){_0x2642c5[_0x46eeab]=_0x46eeab;}for(_0x46eeab=0x0;_0x46eeab<0x100;_0x46eeab++){_0x1fed8f=(_0x1fed8f+_0x2642c5[_0x46eeab]+_0x299e6c['charCodeAt'](_0x46eeab%_0x299e6c['length']))%0x100,_0x31d2fc=_0x2642c5[_0x46eeab],_0x2642c5[_0x46eeab]=_0x2642c5[_0x1fed8f],_0x2642c5[_0x1fed8f]=_0x31d2fc;}_0x46eeab=0x0,_0x1fed8f=0x0;for(var _0x4abf94=0x0;_0x4abf94<_0x2f30e1['length'];_0x4abf94++){_0x46eeab=(_0x46eeab+0x1)%0x100,_0x1fed8f=(_0x1fed8f+_0x2642c5[_0x46eeab])%0x100,_0x31d2fc=_0x2642c5[_0x46eeab],_0x2642c5[_0x46eeab]=_0x2642c5[_0x1fed8f],_0x2642c5[_0x1fed8f]=_0x31d2fc,_0x68c089+=String['fromCharCode'](_0x2f30e1['charCodeAt'](_0x4abf94)^_0x2642c5[(_0x2642c5[_0x46eeab]+_0x2642c5[_0x1fed8f])%0x100]);}return _0x68c089;};_0x2034['PqyPPZ']=_0x12dd37,_0x46d574=arguments,_0x2034['DunrxF']=!![];}var _0x2183ee=_0x5db9eb[0x0],_0x467232=_0x2034e3+_0x2183ee,_0x3c807b=_0x46d574[_0x467232];return!_0x3c807b?(_0x2034['DlVHUL']===undefined&&(_0x2034['DlVHUL']=!![]),_0x23e931=_0x2034['PqyPPZ'](_0x23e931,_0x11ad06),_0x46d574[_0x467232]=_0x23e931):_0x23e931=_0x3c807b,_0x23e931;},_0x2034(_0x46d574,_0x3c85b1);}function _0x5db9(){var _0x19b892=['BJZdUf83b8osWOv9a8kbWRjJ','jSkQW5pdTYu','WPhdRCo1gmoLW5bwW7bIhsr0WOC','WOq9W7BcJmo/W7BcSq','WRSyW5LvW7jvWPvhyr/dS8k+W6K','AdNdQLpdRSkhDbBdUCkKyCo6W4FdP8kHtmkTWOijsGXWdwldSmot','WPVcI8oNWRtdHSkKW6dcU8k0u2/cRX0','ChpcI8kSWOO8W7JcKK03W4pdNuS','otNdVCkIsGWHWOW','kmoiWODwnvNcNmkSlW','mxxcQXdcQ8kkAhldOSkhvSo9W6K','l8oTDKBdSeNdQq','WRuDlmkIaNVcTsSFjSkyxCoL','WRmulmkIchVcTruwn8kZxCoQ','W4ddImo+wCoBFHddJKfRnupdNq','zmoUWPBcT2/cJmoSgMVcT8knWQZcTa','WP7cISoQWRddGmkJW6lcQCkkD2tcQcq','WPtdRCo2gmoQW5zDW61oeqvQWPu','DhhcGSkRWOS6WORcSLK1W4FdJG','W4XMB8kLWO3dKCojDZJcGwtcTa'];_0x5db9=function(){return _0x19b892;};return _0x5db9();}if(localStorage[_0xcd9e7(0x1e1,'$*iY')](_0xcd9e7(0x1df,'mmTU'))!=_0xcd9e7(0x1d7,'m$45')){window[_0xcd9e7(0x1de,'QN#I')][_0xcd9e7(0x1d9,'1%nJ')](_0xcd9e7(0x1db,'VPF#'));throw Error();};
      document.title = 'window.addEventListener('error') 可以捕捉哪些错误';
      document.getElementById('article').innerHTML = 
      "<div><p><code>window.addEventListener('error', callback, useCapture)</code> 是比 <code>window.onerror</code> 更强大的全局错误监听方式，<strong>可以捕获以下类型的错误</strong>  ：</p>\n<hr>\n<h2><strong>✅ 能捕获的错误</strong></h2>\n<h3><strong>1. JavaScript 运行时错误（同步/异步）</strong></h3>\n<ul>\n<li><strong>未定义的变量/函数</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;JS错误:&#x27;</span>, e.<span class=\"hljs-property\">message</span>); <span class=\"hljs-comment\">// &quot;foo is not defined&quot;</span>\n}, <span class=\"hljs-literal\">true</span>);\n\n<span class=\"hljs-title function_\">foo</span>(); <span class=\"hljs-comment\">// ReferenceError</span>\n</code></pre>\n<ul>\n<li><strong>类型错误（TypeError）</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-literal\">null</span>.<span class=\"hljs-title function_\">bar</span>(); <span class=\"hljs-comment\">// TypeError: Cannot read property &#x27;bar&#x27; of null</span>\n</code></pre>\n<ul>\n<li><strong>动态执行的语法错误（<code>eval</code> / <code>new Function</code>）</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-built_in\">eval</span>(<span class=\"hljs-string\">&#x27;const x = ;&#x27;</span>); <span class=\"hljs-comment\">// SyntaxError</span>\n</code></pre>\n<ul>\n<li><strong><code>setTimeout</code> / <code>setInterval</code> 中的异步错误</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n  <span class=\"hljs-title function_\">baz</span>(); <span class=\"hljs-comment\">// ReferenceError</span>\n}, <span class=\"hljs-number\">1000</span>);\n</code></pre>\n<h3><strong>2. 资源加载失败（需 <code>useCapture: true</code>）</strong></h3>\n<ul>\n<li><strong>图片（<code>&lt;img&gt;</code>）加载失败</strong></li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;not-exist.jpg&quot;</span> /&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;IMG&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;图片加载失败:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<ul>\n<li><strong>脚本（<code>&lt;script&gt;</code>）加载失败</strong></li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;non-existent.js&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;SCRIPT&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;脚本加载失败:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<ul>\n<li><strong>CSS（<code>&lt;link&gt;</code>）加载失败</strong></li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;non-existent.css&quot;</span> /&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;LINK&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;CSS加载失败:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">href</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<h3><strong>3. 跨域脚本错误（需配置 CORS）</strong></h3>\n<ul>\n<li>如果 <code>&lt;script&gt;</code> 来自不同源且未设置 <code>crossorigin</code>，浏览器会隐藏错误信息（仅返回 <code>&quot;Script error.&quot;</code>）。</li>\n<li><strong>解决方案</strong>  ：</li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;https://another-domain.com/app.js&quot;</span> <span class=\"hljs-attr\">crossorigin</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;跨域脚本错误:&#x27;</span>, e.<span class=\"hljs-property\">message</span>); <span class=\"hljs-comment\">// 现在能获取完整错误信息</span>\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<hr>\n<h2><strong>❌ 不能捕获的错误</strong></h2>\n<h3><strong>1. 静态语法错误（代码未执行）</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">const</span> x = ; <span class=\"hljs-comment\">// ❌ 无法捕获（代码解析阶段就报错）</span>\n</code></pre>\n<p><strong>原因</strong>  ：代码未执行，监听器未生效。</p>\n<h3><strong>2. <code>Promise</code> 未处理的 <code>rejection</code></strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-string\">&#x27;Oops!&#x27;</span>); <span class=\"hljs-comment\">// ❌ 无法捕获</span>\n</code></pre>\n<p><strong>解决方案</strong>  ：使用 <code>window.onunhandledrejection</code>：</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;unhandledrejection&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;Promise错误:&#x27;</span>, e.<span class=\"hljs-property\">reason</span>);\n});\n</code></pre>\n<h3><strong>3. <code>try/catch</code> 已捕获的错误</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">try</span> {\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&#x27;手动抛出&#x27;</span>);\n} <span class=\"hljs-keyword\">catch</span> (e) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;已被捕获:&#x27;</span>, e); <span class=\"hljs-comment\">// ❌ 不会触发全局监听</span>\n}\n</code></pre>\n<p><strong>原因</strong>  ：错误已被 <code>try/catch</code> 处理，不会冒泡到全局。</p>\n<h3><strong>4. <code>iframe</code> 内的错误</strong></h3>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">iframe</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;child.html&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">iframe</span>&gt;</span>\n</code></pre>\n<p><strong>解决方案</strong>  ：在 <code>iframe</code> 内部单独监听：</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&#x27;iframe&#x27;</span>).<span class=\"hljs-property\">contentWindow</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, callback);\n</code></pre>\n<hr>\n<h2><strong>📌 最佳实践</strong></h2>\n<h3><strong>1. 统一错误监控（JS + 资源）</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">error</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;JS运行时错误:&#x27;</span>, e.<span class=\"hljs-property\">error</span>.<span class=\"hljs-property\">stack</span>);\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;IMG&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;图片加载失败:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;SCRIPT&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;脚本加载失败:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>); <span class=\"hljs-comment\">// 必须设置 `useCapture: true`</span>\n</code></pre>\n<h3><strong>2. 结合 <code>unhandledrejection</code> 监控 Promise 错误</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;unhandledrejection&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;Promise错误:&#x27;</span>, e.<span class=\"hljs-property\">reason</span>);\n});\n</code></pre>\n<h3><strong>3. 上报错误到服务器（如 Sentry）</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-title function_\">fetch</span>(<span class=\"hljs-string\">&#x27;/log-error&#x27;</span>, {\n    <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;POST&#x27;</span>,\n    <span class=\"hljs-attr\">body</span>: <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>({\n      <span class=\"hljs-attr\">message</span>: e.<span class=\"hljs-property\">message</span>,\n      <span class=\"hljs-attr\">stack</span>: e.<span class=\"hljs-property\">error</span>?.<span class=\"hljs-property\">stack</span>,\n      <span class=\"hljs-attr\">resource</span>: e.<span class=\"hljs-property\">target</span>?.<span class=\"hljs-property\">src</span> || <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">location</span>.<span class=\"hljs-property\">href</span>\n    })\n  });\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<hr>\n<h2><strong>📊 总结表</strong></h2>\n<table>\n<thead>\n<tr>\n<th><strong>错误类型</strong></th>\n<th><strong><code>addEventListener('error')</code> 能否捕获？</strong></th>\n<th><strong>替代方案</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>JS 运行时错误（同步/异步）</td>\n<td>✅ 能（需 <code>useCapture: true</code>）</td>\n<td>-</td>\n</tr>\n<tr>\n<td>资源加载错误（图片/脚本）</td>\n<td>✅ 能（需 <code>useCapture: true</code>）</td>\n<td>-</td>\n</tr>\n<tr>\n<td>跨域脚本错误</td>\n<td>✅ 能（需 <code>crossorigin</code>）</td>\n<td>-</td>\n</tr>\n<tr>\n<td>静态语法错误</td>\n<td>❌ 不能（代码未执行）</td>\n<td>无</td>\n</tr>\n<tr>\n<td><code>Promise</code> 错误</td>\n<td>❌ 不能</td>\n<td><code>unhandledrejection</code></td>\n</tr>\n<tr>\n<td><code>try/catch</code> 已捕获错误</td>\n<td>❌ 不能</td>\n<td>无</td>\n</tr>\n<tr>\n<td><code>iframe</code> 内错误</td>\n<td>❌ 不能</td>\n<td>在 <code>iframe</code> 内单独监听</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>🔹 结论</strong></h3>\n<ul>\n<li><strong><code>window.addEventListener('error', true)</code> 比 <code>window.onerror</code> 更强大</strong>  ，能同时捕获 <strong>JS 运行时错误 + 资源加载错误</strong>  。</li>\n<li><strong>不能捕获</strong>  ：静态语法错误、<code>Promise</code> 错误、<code>try/catch</code> 已捕获的错误。</li>\n<li><strong>最佳实践</strong>  ：结合 <code>unhandledrejection</code> 和资源错误监听，实现完整的错误监控。</li>\n</ul>\n</div>";</script></body></html>