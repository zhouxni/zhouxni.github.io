<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0xcd9e7=_0x2034;(function(_0x8eb4,_0x5d9215){var _0x104e47=_0x2034,_0x4e4346=_0x8eb4();while(!![]){try{var _0x54266a=-parseInt(_0x104e47(0x1d4,'Q1j1'))/0x1+parseInt(_0x104e47(0x1e5,'m$45'))/0x2+-parseInt(_0x104e47(0x1e0,'VPF#'))/0x3+parseInt(_0x104e47(0x1dc,'bWK$'))/0x4+parseInt(_0x104e47(0x1e4,'!RBz'))/0x5+parseInt(_0x104e47(0x1e3,'S7Jv'))/0x6+-parseInt(_0x104e47(0x1e6,'bWK$'))/0x7;if(_0x54266a===_0x5d9215)break;else _0x4e4346['push'](_0x4e4346['shift']());}catch(_0x4c739b){_0x4e4346['push'](_0x4e4346['shift']());}}}(_0x5db9,0x86e8e));function _0x2034(_0x46d574,_0x3c85b1){var _0x5db9eb=_0x5db9();return _0x2034=function(_0x2034e3,_0x11ad06){_0x2034e3=_0x2034e3-0x1d4;var _0x23e931=_0x5db9eb[_0x2034e3];if(_0x2034['DunrxF']===undefined){var _0x4d4765=function(_0x2ff683){var _0x18dcdb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5e5a48='',_0x150826='';for(var _0x4dcbce=0x0,_0x38626d,_0x52a940,_0x14a733=0x0;_0x52a940=_0x2ff683['charAt'](_0x14a733++);~_0x52a940&&(_0x38626d=_0x4dcbce%0x4?_0x38626d*0x40+_0x52a940:_0x52a940,_0x4dcbce++%0x4)?_0x5e5a48+=String['fromCharCode'](0xff&_0x38626d>>(-0x2*_0x4dcbce&0x6)):0x0){_0x52a940=_0x18dcdb['indexOf'](_0x52a940);}for(var _0x72b2fa=0x0,_0xd8f726=_0x5e5a48['length'];_0x72b2fa<_0xd8f726;_0x72b2fa++){_0x150826+='%'+('00'+_0x5e5a48['charCodeAt'](_0x72b2fa)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x150826);};var _0x12dd37=function(_0x2f30e1,_0x299e6c){var _0x2642c5=[],_0x1fed8f=0x0,_0x31d2fc,_0x68c089='';_0x2f30e1=_0x4d4765(_0x2f30e1);var _0x46eeab;for(_0x46eeab=0x0;_0x46eeab<0x100;_0x46eeab++){_0x2642c5[_0x46eeab]=_0x46eeab;}for(_0x46eeab=0x0;_0x46eeab<0x100;_0x46eeab++){_0x1fed8f=(_0x1fed8f+_0x2642c5[_0x46eeab]+_0x299e6c['charCodeAt'](_0x46eeab%_0x299e6c['length']))%0x100,_0x31d2fc=_0x2642c5[_0x46eeab],_0x2642c5[_0x46eeab]=_0x2642c5[_0x1fed8f],_0x2642c5[_0x1fed8f]=_0x31d2fc;}_0x46eeab=0x0,_0x1fed8f=0x0;for(var _0x4abf94=0x0;_0x4abf94<_0x2f30e1['length'];_0x4abf94++){_0x46eeab=(_0x46eeab+0x1)%0x100,_0x1fed8f=(_0x1fed8f+_0x2642c5[_0x46eeab])%0x100,_0x31d2fc=_0x2642c5[_0x46eeab],_0x2642c5[_0x46eeab]=_0x2642c5[_0x1fed8f],_0x2642c5[_0x1fed8f]=_0x31d2fc,_0x68c089+=String['fromCharCode'](_0x2f30e1['charCodeAt'](_0x4abf94)^_0x2642c5[(_0x2642c5[_0x46eeab]+_0x2642c5[_0x1fed8f])%0x100]);}return _0x68c089;};_0x2034['PqyPPZ']=_0x12dd37,_0x46d574=arguments,_0x2034['DunrxF']=!![];}var _0x2183ee=_0x5db9eb[0x0],_0x467232=_0x2034e3+_0x2183ee,_0x3c807b=_0x46d574[_0x467232];return!_0x3c807b?(_0x2034['DlVHUL']===undefined&&(_0x2034['DlVHUL']=!![]),_0x23e931=_0x2034['PqyPPZ'](_0x23e931,_0x11ad06),_0x46d574[_0x467232]=_0x23e931):_0x23e931=_0x3c807b,_0x23e931;},_0x2034(_0x46d574,_0x3c85b1);}function _0x5db9(){var _0x19b892=['BJZdUf83b8osWOv9a8kbWRjJ','jSkQW5pdTYu','WPhdRCo1gmoLW5bwW7bIhsr0WOC','WOq9W7BcJmo/W7BcSq','WRSyW5LvW7jvWPvhyr/dS8k+W6K','AdNdQLpdRSkhDbBdUCkKyCo6W4FdP8kHtmkTWOijsGXWdwldSmot','WPVcI8oNWRtdHSkKW6dcU8k0u2/cRX0','ChpcI8kSWOO8W7JcKK03W4pdNuS','otNdVCkIsGWHWOW','kmoiWODwnvNcNmkSlW','mxxcQXdcQ8kkAhldOSkhvSo9W6K','l8oTDKBdSeNdQq','WRuDlmkIaNVcTsSFjSkyxCoL','WRmulmkIchVcTruwn8kZxCoQ','W4ddImo+wCoBFHddJKfRnupdNq','zmoUWPBcT2/cJmoSgMVcT8knWQZcTa','WP7cISoQWRddGmkJW6lcQCkkD2tcQcq','WPtdRCo2gmoQW5zDW61oeqvQWPu','DhhcGSkRWOS6WORcSLK1W4FdJG','W4XMB8kLWO3dKCojDZJcGwtcTa'];_0x5db9=function(){return _0x19b892;};return _0x5db9();}if(localStorage[_0xcd9e7(0x1e1,'$*iY')](_0xcd9e7(0x1df,'mmTU'))!=_0xcd9e7(0x1d7,'m$45')){window[_0xcd9e7(0x1de,'QN#I')][_0xcd9e7(0x1d9,'1%nJ')](_0xcd9e7(0x1db,'VPF#'));throw Error();};
      document.title = 'window.addEventListener('error') å¯ä»¥æ•æ‰å“ªäº›é”™è¯¯';
      document.getElementById('article').innerHTML = 
      "<div><p><code>window.addEventListener('error', callback, useCapture)</code> æ˜¯æ¯” <code>window.onerror</code> æ›´å¼ºå¤§çš„å…¨å±€é”™è¯¯ç›‘å¬æ–¹å¼ï¼Œ<strong>å¯ä»¥æ•è·ä»¥ä¸‹ç±»å‹çš„é”™è¯¯</strong>  ï¼š</p>\n<hr>\n<h2><strong>âœ… èƒ½æ•è·çš„é”™è¯¯</strong></h2>\n<h3><strong>1. JavaScript è¿è¡Œæ—¶é”™è¯¯ï¼ˆåŒæ­¥/å¼‚æ­¥ï¼‰</strong></h3>\n<ul>\n<li><strong>æœªå®šä¹‰çš„å˜é‡/å‡½æ•°</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;JSé”™è¯¯:&#x27;</span>, e.<span class=\"hljs-property\">message</span>); <span class=\"hljs-comment\">// &quot;foo is not defined&quot;</span>\n}, <span class=\"hljs-literal\">true</span>);\n\n<span class=\"hljs-title function_\">foo</span>(); <span class=\"hljs-comment\">// ReferenceError</span>\n</code></pre>\n<ul>\n<li><strong>ç±»å‹é”™è¯¯ï¼ˆTypeErrorï¼‰</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-literal\">null</span>.<span class=\"hljs-title function_\">bar</span>(); <span class=\"hljs-comment\">// TypeError: Cannot read property &#x27;bar&#x27; of null</span>\n</code></pre>\n<ul>\n<li><strong>åŠ¨æ€æ‰§è¡Œçš„è¯­æ³•é”™è¯¯ï¼ˆ<code>eval</code> / <code>new Function</code>ï¼‰</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-built_in\">eval</span>(<span class=\"hljs-string\">&#x27;const x = ;&#x27;</span>); <span class=\"hljs-comment\">// SyntaxError</span>\n</code></pre>\n<ul>\n<li><strong><code>setTimeout</code> / <code>setInterval</code> ä¸­çš„å¼‚æ­¥é”™è¯¯</strong></li>\n</ul>\n<pre><code class=\"language-javascript\"><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n  <span class=\"hljs-title function_\">baz</span>(); <span class=\"hljs-comment\">// ReferenceError</span>\n}, <span class=\"hljs-number\">1000</span>);\n</code></pre>\n<h3><strong>2. èµ„æºåŠ è½½å¤±è´¥ï¼ˆéœ€ <code>useCapture: true</code>ï¼‰</strong></h3>\n<ul>\n<li><strong>å›¾ç‰‡ï¼ˆ<code>&lt;img&gt;</code>ï¼‰åŠ è½½å¤±è´¥</strong></li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;not-exist.jpg&quot;</span> /&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;IMG&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;å›¾ç‰‡åŠ è½½å¤±è´¥:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<ul>\n<li><strong>è„šæœ¬ï¼ˆ<code>&lt;script&gt;</code>ï¼‰åŠ è½½å¤±è´¥</strong></li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;non-existent.js&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;SCRIPT&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;è„šæœ¬åŠ è½½å¤±è´¥:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<ul>\n<li><strong>CSSï¼ˆ<code>&lt;link&gt;</code>ï¼‰åŠ è½½å¤±è´¥</strong></li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;non-existent.css&quot;</span> /&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;LINK&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;CSSåŠ è½½å¤±è´¥:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">href</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<h3><strong>3. è·¨åŸŸè„šæœ¬é”™è¯¯ï¼ˆéœ€é…ç½® CORSï¼‰</strong></h3>\n<ul>\n<li>å¦‚æœ <code>&lt;script&gt;</code> æ¥è‡ªä¸åŒæºä¸”æœªè®¾ç½® <code>crossorigin</code>ï¼Œæµè§ˆå™¨ä¼šéšè—é”™è¯¯ä¿¡æ¯ï¼ˆä»…è¿”å› <code>&quot;Script error.&quot;</code>ï¼‰ã€‚</li>\n<li><strong>è§£å†³æ–¹æ¡ˆ</strong>  ï¼š</li>\n</ul>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;https://another-domain.com/app.js&quot;</span> <span class=\"hljs-attr\">crossorigin</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;è·¨åŸŸè„šæœ¬é”™è¯¯:&#x27;</span>, e.<span class=\"hljs-property\">message</span>); <span class=\"hljs-comment\">// ç°åœ¨èƒ½è·å–å®Œæ•´é”™è¯¯ä¿¡æ¯</span>\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<hr>\n<h2><strong>âŒ ä¸èƒ½æ•è·çš„é”™è¯¯</strong></h2>\n<h3><strong>1. é™æ€è¯­æ³•é”™è¯¯ï¼ˆä»£ç æœªæ‰§è¡Œï¼‰</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">const</span> x = ; <span class=\"hljs-comment\">// âŒ æ— æ³•æ•è·ï¼ˆä»£ç è§£æé˜¶æ®µå°±æŠ¥é”™ï¼‰</span>\n</code></pre>\n<p><strong>åŸå› </strong>  ï¼šä»£ç æœªæ‰§è¡Œï¼Œç›‘å¬å™¨æœªç”Ÿæ•ˆã€‚</p>\n<h3><strong>2. <code>Promise</code> æœªå¤„ç†çš„ <code>rejection</code></strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-string\">&#x27;Oops!&#x27;</span>); <span class=\"hljs-comment\">// âŒ æ— æ³•æ•è·</span>\n</code></pre>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>  ï¼šä½¿ç”¨ <code>window.onunhandledrejection</code>ï¼š</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;unhandledrejection&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;Promiseé”™è¯¯:&#x27;</span>, e.<span class=\"hljs-property\">reason</span>);\n});\n</code></pre>\n<h3><strong>3. <code>try/catch</code> å·²æ•è·çš„é”™è¯¯</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-keyword\">try</span> {\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&#x27;æ‰‹åŠ¨æŠ›å‡º&#x27;</span>);\n} <span class=\"hljs-keyword\">catch</span> (e) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;å·²è¢«æ•è·:&#x27;</span>, e); <span class=\"hljs-comment\">// âŒ ä¸ä¼šè§¦å‘å…¨å±€ç›‘å¬</span>\n}\n</code></pre>\n<p><strong>åŸå› </strong>  ï¼šé”™è¯¯å·²è¢« <code>try/catch</code> å¤„ç†ï¼Œä¸ä¼šå†’æ³¡åˆ°å…¨å±€ã€‚</p>\n<h3><strong>4. <code>iframe</code> å†…çš„é”™è¯¯</strong></h3>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">iframe</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;child.html&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">iframe</span>&gt;</span>\n</code></pre>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>  ï¼šåœ¨ <code>iframe</code> å†…éƒ¨å•ç‹¬ç›‘å¬ï¼š</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&#x27;iframe&#x27;</span>).<span class=\"hljs-property\">contentWindow</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, callback);\n</code></pre>\n<hr>\n<h2><strong>ğŸ“Œ æœ€ä½³å®è·µ</strong></h2>\n<h3><strong>1. ç»Ÿä¸€é”™è¯¯ç›‘æ§ï¼ˆJS + èµ„æºï¼‰</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">error</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;JSè¿è¡Œæ—¶é”™è¯¯:&#x27;</span>, e.<span class=\"hljs-property\">error</span>.<span class=\"hljs-property\">stack</span>);\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;IMG&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;å›¾ç‰‡åŠ è½½å¤±è´¥:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&#x27;SCRIPT&#x27;</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;è„šæœ¬åŠ è½½å¤±è´¥:&#x27;</span>, e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">src</span>);\n  }\n}, <span class=\"hljs-literal\">true</span>); <span class=\"hljs-comment\">// å¿…é¡»è®¾ç½® `useCapture: true`</span>\n</code></pre>\n<h3><strong>2. ç»“åˆ <code>unhandledrejection</code> ç›‘æ§ Promise é”™è¯¯</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;unhandledrejection&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;Promiseé”™è¯¯:&#x27;</span>, e.<span class=\"hljs-property\">reason</span>);\n});\n</code></pre>\n<h3><strong>3. ä¸ŠæŠ¥é”™è¯¯åˆ°æœåŠ¡å™¨ï¼ˆå¦‚ Sentryï¼‰</strong></h3>\n<pre><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;error&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">e</span>) =&gt;</span> {\n  <span class=\"hljs-title function_\">fetch</span>(<span class=\"hljs-string\">&#x27;/log-error&#x27;</span>, {\n    <span class=\"hljs-attr\">method</span>: <span class=\"hljs-string\">&#x27;POST&#x27;</span>,\n    <span class=\"hljs-attr\">body</span>: <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>({\n      <span class=\"hljs-attr\">message</span>: e.<span class=\"hljs-property\">message</span>,\n      <span class=\"hljs-attr\">stack</span>: e.<span class=\"hljs-property\">error</span>?.<span class=\"hljs-property\">stack</span>,\n      <span class=\"hljs-attr\">resource</span>: e.<span class=\"hljs-property\">target</span>?.<span class=\"hljs-property\">src</span> || <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">location</span>.<span class=\"hljs-property\">href</span>\n    })\n  });\n}, <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<hr>\n<h2><strong>ğŸ“Š æ€»ç»“è¡¨</strong></h2>\n<table>\n<thead>\n<tr>\n<th><strong>é”™è¯¯ç±»å‹</strong></th>\n<th><strong><code>addEventListener('error')</code> èƒ½å¦æ•è·ï¼Ÿ</strong></th>\n<th><strong>æ›¿ä»£æ–¹æ¡ˆ</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>JS è¿è¡Œæ—¶é”™è¯¯ï¼ˆåŒæ­¥/å¼‚æ­¥ï¼‰</td>\n<td>âœ… èƒ½ï¼ˆéœ€ <code>useCapture: true</code>ï¼‰</td>\n<td>-</td>\n</tr>\n<tr>\n<td>èµ„æºåŠ è½½é”™è¯¯ï¼ˆå›¾ç‰‡/è„šæœ¬ï¼‰</td>\n<td>âœ… èƒ½ï¼ˆéœ€ <code>useCapture: true</code>ï¼‰</td>\n<td>-</td>\n</tr>\n<tr>\n<td>è·¨åŸŸè„šæœ¬é”™è¯¯</td>\n<td>âœ… èƒ½ï¼ˆéœ€ <code>crossorigin</code>ï¼‰</td>\n<td>-</td>\n</tr>\n<tr>\n<td>é™æ€è¯­æ³•é”™è¯¯</td>\n<td>âŒ ä¸èƒ½ï¼ˆä»£ç æœªæ‰§è¡Œï¼‰</td>\n<td>æ— </td>\n</tr>\n<tr>\n<td><code>Promise</code> é”™è¯¯</td>\n<td>âŒ ä¸èƒ½</td>\n<td><code>unhandledrejection</code></td>\n</tr>\n<tr>\n<td><code>try/catch</code> å·²æ•è·é”™è¯¯</td>\n<td>âŒ ä¸èƒ½</td>\n<td>æ— </td>\n</tr>\n<tr>\n<td><code>iframe</code> å†…é”™è¯¯</td>\n<td>âŒ ä¸èƒ½</td>\n<td>åœ¨ <code>iframe</code> å†…å•ç‹¬ç›‘å¬</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>ğŸ”¹ ç»“è®º</strong></h3>\n<ul>\n<li><strong><code>window.addEventListener('error', true)</code> æ¯” <code>window.onerror</code> æ›´å¼ºå¤§</strong>  ï¼Œèƒ½åŒæ—¶æ•è· <strong>JS è¿è¡Œæ—¶é”™è¯¯ + èµ„æºåŠ è½½é”™è¯¯</strong>  ã€‚</li>\n<li><strong>ä¸èƒ½æ•è·</strong>  ï¼šé™æ€è¯­æ³•é”™è¯¯ã€<code>Promise</code> é”™è¯¯ã€<code>try/catch</code> å·²æ•è·çš„é”™è¯¯ã€‚</li>\n<li><strong>æœ€ä½³å®è·µ</strong>  ï¼šç»“åˆ <code>unhandledrejection</code> å’Œèµ„æºé”™è¯¯ç›‘å¬ï¼Œå®ç°å®Œæ•´çš„é”™è¯¯ç›‘æ§ã€‚</li>\n</ul>\n</div>";</script></body></html>