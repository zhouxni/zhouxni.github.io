<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x227b22=_0x4ca1;function _0x4ca1(o,s){var p=_0x456b();return(_0x4ca1=function(s,n){var a=p[s-=201];void 0===_0x4ca1.QxJcjP&&(_0x4ca1.nTWRwG=function(s,n){var a,t=[],o=0,p="";for(s=(s=>{for(var n,a,t="",o="",p=0,c=0;a=s.charAt(c++);~a&&(n=p%4?64*n+a:a,p++%4)&&(t+=String.fromCharCode(255&n>>(-2*p&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var l=0,e=t.length;l<e;l++)o+="%"+("00"+t.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(o)})(s),c=0;c<256;c++)t[c]=c;for(c=0;c<256;c++)o=(o+t[c]+n.charCodeAt(c%n.length))%256,a=t[c],t[c]=t[o],t[o]=a;for(var c=0,o=0,l=0;l<s.length;l++)a=t[c=(c+1)%256],t[c]=t[o=(o+t[c])%256],t[o]=a,p+=String.fromCharCode(s.charCodeAt(l)^t[(t[c]+t[o])%256]);return p},o=arguments,_0x4ca1.QxJcjP=!0);var s=s+p[0],t=o[s];return t?a=t:(void 0===_0x4ca1.OBigZD&&(_0x4ca1.OBigZD=!0),a=_0x4ca1.nTWRwG(a,n),o[s]=a),a})(o,s)}function _0x456b(){var s=["W70tW43dOKNcTSo9W4RcGhfRWRm","W5lcI2lcTSoOW5XyW4C","WP7cJgX1W4BdN0FdTwPM","W7a3W4SRW40muN02WPBdTmowvq","WPSFbKCxW6iHWO4M","lmk3mmoUW5HQxG","W7u4W4iOW44dhLehWRhdS8oU","W5W8WR3cImkPWOH0jtTv","tYRcNJ3cMXxdPSkSWOiP","WRK0c8o4gSoOC8kgW4tcQXjG","W6eUydJdVmoOWR9VW6pcUmoQaa","W5K6WRNcJSoaWR1KjsHoWPK","lCk1b8o0WOS","WQWxit7dVvFdOW","WP3cII4VW6JdIxZdGa","thRdHuJcTWpdLq","W5FcQhH6thv/WOWGeJhdGCoY","W5OFW7FdN8o4BrrBWQ0FW4pcJa","W5GhumoaW7lcT8oHqbldISksDq","W7PcyuldKfddRmkWhZu","WQBcN0ZdHYH+WRPFWQSuW7LI","xmkWpComW6jiBCkedG","W7SxW4RdO0JdL8oHW4/cGKnH","uWNdV8kvWQz2Cq","j3NdPWldTYFdVmkNc8knDSkj","WPKbm8kflSk4W5NcRa","sX/dPrOfWRD4rG","WQCDnHBdVvVdOCkS","W4VcMmoZWQddRCkOWPflW7iUWQxdVSkuCCkEFJj1W58kzdVdH03cSSoZ","WOBcN0rybdBdSq/cTq"];return(_0x456b=function(){return s})()}if((()=>{for(var s=_0x4ca1,n=_0x456b();;)try{if(108028==+parseInt(s(228,"[vaF"))*(-parseInt(s(230,"foBB"))/2)+-parseInt(s(207,"Kxh&"))/3+-parseInt(s(221,"[vaF"))/4*(parseInt(s(220,"B]EU"))/5)+-parseInt(s(227,"QvU)"))/6*(parseInt(s(222,"W05a"))/7)+-parseInt(s(201,"vtD]"))/8*(-parseInt(s(209,"eoOT"))/9)+parseInt(s(224,"B]EU"))/10*(parseInt(s(212,"ZdC("))/11)+parseInt(s(229,"O52@"))/12)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x227b22(226,"VT%*")](_0x227b22(204,"vkPj"))!=_0x227b22(225,"J8jg"))throw window[_0x227b22(210,"VT%*")][_0x227b22(206,"VzmU")](_0x227b22(211,"7Opt")),Error();document.title="ts-node ç¼–è¯‘",document.getElementById("article").innerHTML='<div><p>ä½¿ç”¨ <strong>ts-node</strong>   è¿è¡Œæ•´ä¸ª TypeScript é¡¹ç›®ï¼ˆå¤šæ–‡ä»¶æ¨¡å—åŒ–é¡¹ç›®ï¼‰éœ€è¦ç»“åˆæ¨¡å—åŠ è½½å’Œé…ç½®ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´æŒ‡å—ï¼š</p>\n<hr>\n<h3><strong>1. åŸºç¡€é…ç½®</strong></h3>\n<h4><strong>(1) å®‰è£…ä¾èµ–</strong></h4>\n<pre><code class="language-sh">npm install -D ts-node typescript @types/node\n<span class="hljs-comment"># å¦‚æœé¡¹ç›®æœ‰è·¯å¾„åˆ«åï¼ˆå¦‚ `@/utils`ï¼‰ï¼Œé¢å¤–å®‰è£…ï¼š</span>\nnpm install -D tsconfig-paths\n</code></pre>\n<h4><strong>(2) é…ç½® <code>tsconfig.json</code></strong></h4>\n<p>ç¡®ä¿é…ç½®æ”¯æŒæ¨¡å—åŒ–ï¼ˆå¦‚ <code>CommonJS</code> æˆ– <code>ESModules</code>ï¼‰ï¼š</p>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ES2022&quot;</span><span class="hljs-punctuation">,</span>\n    <span class="hljs-attr">&quot;module&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CommonJS&quot;</span><span class="hljs-punctuation">,</span>          <span class="hljs-comment">// Node.js é»˜è®¤ç”¨ CommonJS</span>\n    <span class="hljs-attr">&quot;outDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./dist&quot;</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// ç¼–è¯‘è¾“å‡ºç›®å½•ï¼ˆç”Ÿäº§ç¯å¢ƒç”¨ï¼‰</span>\n    <span class="hljs-attr">&quot;rootDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./src&quot;</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// æºä»£ç ç›®å½•</span>\n    <span class="hljs-attr">&quot;esModuleInterop&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// å…¼å®¹ ES å’Œ CommonJS</span>\n    <span class="hljs-attr">&quot;moduleResolution&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node&quot;</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// æ¨¡å—è§£æç­–ç•¥</span>\n    <span class="hljs-attr">&quot;baseUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;.&quot;</span><span class="hljs-punctuation">,</span>               <span class="hljs-comment">// è·¯å¾„åˆ«ååŸºç¡€è·¯å¾„</span>\n    <span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>                    <span class="hljs-comment">// è·¯å¾„åˆ«åæ˜ å°„</span>\n      <span class="hljs-attr">&quot;@/*&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/*&quot;</span><span class="hljs-punctuation">]</span>\n    <span class="hljs-punctuation">}</span>\n  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;include&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/**/*.ts&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// åŒ…å«çš„æ–‡ä»¶</span>\n  <span class="hljs-attr">&quot;exclude&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;node_modules&quot;</span><span class="hljs-punctuation">]</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<hr>\n<h3><strong>2. è¿è¡Œæ•´ä¸ªé¡¹ç›®</strong></h3>\n<h4><strong>(1) ç›´æ¥è¿è¡Œå…¥å£æ–‡ä»¶</strong></h4>\n<pre><code class="language-sh">npx ts-node --project tsconfig.json src/index.ts\n</code></pre>\n<ul>\n<li><code>--project</code>ï¼šæ˜¾å¼æŒ‡å®š <code>tsconfig.json</code> è·¯å¾„ï¼ˆå¯é€‰ï¼‰ã€‚</li>\n</ul>\n<h4><strong>(2) å¯ç”¨è·¯å¾„åˆ«åæ”¯æŒ</strong></h4>\n<p>å¦‚æœç”¨äº† <code>paths</code> åˆ«åï¼Œéœ€åŠ è½½ <code>tsconfig-paths</code>ï¼š</p>\n<pre><code class="language-sh">npx ts-node -r tsconfig-paths/register src/index.ts\n</code></pre>\n<h4><strong>(3) ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼ˆå¼€å‘çƒ­æ›´æ–°ï¼‰</strong></h4>\n<pre><code class="language-sh">npx ts-node --watch -r tsconfig-paths/register src/index.ts\n</code></pre>\n<p>æˆ–é…åˆ <code>nodemon</code>ï¼ˆæ›´ç¨³å®šï¼‰ï¼š</p>\n<pre><code class="language-sh">npm install -D nodemon\n</code></pre>\n<p>é…ç½® <code>nodemon.json</code>ï¼š</p>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;watch&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;ext&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ts&quot;</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;exec&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ts-node -r tsconfig-paths/register src/index.ts&quot;</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<p>è¿è¡Œï¼š</p>\n<pre><code class="language-sh">npx nodemon\n</code></pre>\n<hr>\n<h3><strong>3. å¤æ‚é¡¹ç›®ä¼˜åŒ–</strong></h3>\n<h4><strong>(1) ä½¿ç”¨ <code>ES Modules</code> (ESM)</strong></h4>\n<p>å¦‚æœ <code>tsconfig.json</code> ä¸­è®¾ç½® <code>&quot;module&quot;: &quot;ESNext&quot;</code>ï¼Œéœ€é¢å¤–é…ç½®ï¼š</p>\n<pre><code class="language-sh">npx ts-node --esm -r tsconfig-paths/register src/index.ts\n</code></pre>\n<p>æˆ–åœ¨ <code>package.json</code> ä¸­ï¼š</p>\n<pre><code class="language-json"><span class="hljs-punctuation">{</span>\n  <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;module&quot;</span><span class="hljs-punctuation">,</span>\n  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>\n    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;NODE_OPTIONS=&#x27;--loader ts-node/esm&#x27; node src/index.ts&quot;</span>\n  <span class="hljs-punctuation">}</span>\n<span class="hljs-punctuation">}</span>\n</code></pre>\n<h4><strong>(2) å¿½ç•¥ç±»å‹æ£€æŸ¥ï¼ˆåŠ é€Ÿå¼€å‘ï¼‰</strong></h4>\n<pre><code class="language-sh">npx ts-node --transpile-only -r tsconfig-paths/register src/index.ts\n</code></pre>\n<h4><strong>(3) ç”Ÿäº§ç¯å¢ƒæ„å»º</strong></h4>\n<p><strong>ä¸è¦ç”¨ ts-node éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ</strong>  ï¼åº”ç¼–è¯‘ä¸º JSï¼š</p>\n<pre><code class="language-sh">tsc &amp;&amp; node dist/index.js\n</code></pre>\n<hr>\n<h3><strong>4. å¸¸è§é—®é¢˜è§£å†³</strong></h3>\n<h4><strong>Q1: æŠ¥é”™ <code>Cannot find module</code></strong></h4>\n<ul>\n<li><strong>åŸå› </strong>  ï¼šè·¯å¾„åˆ«åæœªç”Ÿæ•ˆæˆ–æ¨¡å—ç±»å‹ä¸åŒ¹é…ã€‚</li>\n<li><strong>è§£å†³</strong>  ï¼š\n<ul>\n<li>ç¡®ä¿ <code>-r tsconfig-paths/register</code> å·²æ·»åŠ ã€‚</li>\n<li>æ£€æŸ¥ <code>tsconfig.json</code> çš„ <code>paths</code> å’Œ <code>baseUrl</code> é…ç½®ã€‚</li>\n</ul>\n</li>\n</ul>\n<h4><strong>Q2: å¾ªç¯ä¾èµ–å¯¼è‡´å¡æ­»</strong></h4>\n<ul>\n<li><strong>è§£å†³</strong>  ï¼šé‡æ„ä»£ç æˆ–ç”¨ <code>import type</code> å‡å°‘å¾ªç¯ä¾èµ–ï¼š<pre><code class="language-typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">SomeType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./other-module&#x27;</span>;\n</code></pre>\n</li>\n</ul>\n<h4><strong>Q3: æ€§èƒ½æ…¢</strong></h4>\n<ul>\n<li><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>  ï¼š\n<ul>\n<li>ç”¨ <code>--transpile-only</code> è·³è¿‡ç±»å‹æ£€æŸ¥ã€‚</li>\n<li>æ¢ç”¨ <code>swc-node</code>ï¼ˆRust åŠ é€Ÿï¼‰ï¼š<pre><code class="language-sh">npm install -D @swc-node/register\nnpx swc-node -r tsconfig-paths/register src/index.ts\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3><strong>5. å®Œæ•´ç¤ºä¾‹é¡¹ç›®ç»“æ„</strong></h3>\n<pre><code>my-project/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ index.ts          # å…¥å£æ–‡ä»¶\nâ”‚   â”œâ”€â”€ utils/\nâ”‚   â”‚   â””â”€â”€ helper.ts    # å­æ¨¡å—ï¼ˆä½¿ç”¨ `@/utils/helper` åˆ«åï¼‰\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ package.json\n</code></pre>\n<p><strong>å¯åŠ¨å‘½ä»¤</strong>  ï¼š</p>\n<pre><code class="language-sh">npm install -D ts-node typescript @types/node tsconfig-paths nodemon\nnpx nodemon\n</code></pre>\n<hr>\n<h3><strong>æ€»ç»“</strong></h3>\n<ul>\n<li><strong>å¼€å‘é˜¶æ®µ</strong>  ï¼šç”¨ <code>ts-node + nodemon</code> å®ç°çƒ­æ›´æ–°ã€‚</li>\n<li><strong>è·¯å¾„åˆ«å</strong>  ï¼šé€šè¿‡ <code>tsconfig-paths/register</code> è§£æã€‚</li>\n<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>  ï¼šåŠ¡å¿…ç”¨ <code>tsc</code> ç¼–è¯‘æˆ JS å†è¿è¡Œã€‚</li>\n<li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>  ï¼šå°è¯• <code>swc-node</code> æˆ– <code>esbuild</code>ã€‚</li>\n</ul>\n<p>è¿™æ ·å°±èƒ½é«˜æ•ˆè¿è¡Œæ•´ä¸ª TypeScript é¡¹ç›®äº†ï¼ ğŸš€</p>\n</div>'</script></body></html>