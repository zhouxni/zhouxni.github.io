<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x1cfe7e=_0x25cb;function _0x25cb(a,n){var c=_0xa98c();return(_0x25cb=function(n,t){var s=c[n-=385];void 0===_0x25cb.QDYBes&&(_0x25cb.cVJxFr=function(n,t){var s,d=[],a=0,c="";for(n=(n=>{for(var t,s,d="",a="",c=0,e=0;s=n.charAt(e++);~s&&(t=c%4?64*t+s:s,c++%4)&&(d+=String.fromCharCode(255&t>>(-2*c&6))))s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var r=0,o=d.length;r<o;r++)a+="%"+("00"+d.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(a)})(n),e=0;e<256;e++)d[e]=e;for(e=0;e<256;e++)a=(a+d[e]+t.charCodeAt(e%t.length))%256,s=d[e],d[e]=d[a],d[a]=s;for(var e=0,a=0,r=0;r<n.length;r++)s=d[e=(e+1)%256],d[e]=d[a=(a+d[e])%256],d[a]=s,c+=String.fromCharCode(n.charCodeAt(r)^d[(d[e]+d[a])%256]);return c},a=arguments,_0x25cb.QDYBes=!0);var n=n+c[0],d=a[n];return d?s=d:(void 0===_0x25cb.yGfsgu&&(_0x25cb.yGfsgu=!0),s=_0x25cb.cVJxFr(s,t),a[n]=s),s})(a,n)}function _0xa98c(){var n=["WPOLacdcHmoxW49rWR7dOHGVW6u","WP4Nc2BdHSkIWPPkWQa","W7XmiCkNW7HkW5ddOsXx","ovBdQCoZWR3dKmkuW5hdMrpdGHBcPG","WQj2W4qkW7HOl8oeW5DcjG","WQ/cKYGUj8kAWQ/dJ8oeWR7dHsDf","W7pcTCoBWRhcICkaedJdOW","W5RcOSomWQtcICojDhldOmkgW5BcNSosWQZcNcvnv2JcSSkkW7u7WPL8WR8","oxvQW5pcR03cKa","pmkAlmkeW6lcTr7cVa","WOFdPmkoW6xdJ8odAJBdL8kfW7FcHCoH","W63dLwHOzG","cCoFvJPIbmkbo8o9hW","W7PmjSkLWOyaWPtdRJTVW40Ipq","nCopW5ddKKRdRWiNWRRcMSkwWOG","CCkxW7udW5VdPgG","pSoueW8mW6ZcLG","WRdcUSokWQVdOColW40aBJpcMG","WPWJaIxcJmkIWRnJWOhdMbK","kIZcIInNWPVcHNa0","FcqJWO/dUbVcMSojWR7dPSoceW","ySkwb8kYW5VcQse","aN3cOgDll8kzWPtdGSofutHP","WQPzWPfLhe3dVcldPvxcUCo5mG","WQXwWPbLhdVcMHddN33cSW","i8ogjstcKvCRW7jggSoCWRjL"];return(_0xa98c=function(){return n})()}if((()=>{for(var n=_0x25cb,t=_0xa98c();;)try{if(805372==-parseInt(n(409,"$FK$"))*(parseInt(n(405,"fWC5"))/2)+parseInt(n(385,"IylJ"))/3+-parseInt(n(392,"VO#d"))/4+-parseInt(n(406,"srKQ"))/5*(-parseInt(n(390,"Xwnn"))/6)+-parseInt(n(399,"lQ5B"))/7+parseInt(n(394,"Ds5W"))/8+-parseInt(n(401,"hO)U"))/9*(-parseInt(n(407,"Xwnn"))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(),localStorage[_0x1cfe7e(404,"37R7")](_0x1cfe7e(395,"lQ5B"))!=_0x1cfe7e(400,"Ds5W"))throw window[_0x1cfe7e(398,"9lQx")][_0x1cfe7e(397,"$FK$")](_0x1cfe7e(396,"lQ5B")),Error();document.title="设备独立像素与物理像素",document.getElementById("article").innerHTML='<div><p><strong>设备独立像素（DIPs） vs. 物理像素（Physical Pixels）</strong></p>\n<p><strong>1. 定义</strong></p>\n<table>\n<thead>\n<tr>\n<th>概念</th>\n<th>描述</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>物理像素（Physical Pixels）</td>\n<td>屏幕实际的最小发光点（硬件决定），如 <code>1920×1080</code>。</td>\n<td>4K 屏有 <code>3840×2160</code> 物理像素。</td>\n</tr>\n<tr>\n<td>设备独立像素（DIPs/DIPs）</td>\n<td>由操作系统/浏览器定义的虚拟单位，用于在不同 DPI 设备上保持一致的视觉尺寸。</td>\n<td><code>1 DIP ≈ 1 CSS 像素</code>（标准 DPI 下）。</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<p><strong>2. 核心区别</strong></p>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>物理像素</th>\n<th>设备独立像素（DIPs）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>决定因素</td>\n<td>屏幕硬件（如面板分辨率）。</td>\n<td>操作系统/浏览器（如 CSS 单位 <code>px</code>）。</td>\n</tr>\n<tr>\n<td>是否可变</td>\n<td>❌ 固定（硬件层）。</td>\n<td>✅ 可缩放（如高 DPI 屏下 1 DIP = 2 物理像素）。</td>\n</tr>\n<tr>\n<td>用途</td>\n<td>存储图像细节（如 Canvas 位图）。</td>\n<td>保证 UI/文字在不同设备上视觉大小一致。</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<p><strong>3. 关系公式</strong><br>\n设备像素比（DPR） = 物理像素 / 设备独立像素<br>\n（即 <code>window.devicePixelRatio</code>）</p>\n<ul>\n<li>\n<p>普通屏幕（DPR=1）:</p>\n<p><code>1 DIP = 1 物理像素</code>（如 <code>width: 100px</code> 占 100 物理像素）。</p>\n</li>\n<li>\n<p>Retina 屏（DPR=2）:</p>\n<p><code>1 DIP = 2 物理像素</code>（如 <code>width: 100px</code> 占 200 物理像素）。</p>\n</li>\n</ul>\n<hr>\n<p><strong>4. 对 Canvas 的影响</strong></p>\n<ul>\n<li>\n<p>Canvas 位图基于物理像素（由 <code>canvas.width/height</code> 直接设置）。</p>\n</li>\n<li>\n<p>若未适配 DPR：</p>\n<ul>\n<li>在 DPR=2 的屏幕上，<code>canvas.width=300</code> 仅占用 150 DIPs，导致图像模糊（位图像素不足）。</li>\n</ul>\n</li>\n<li>\n<p>解决方案：</p>\n</li>\n</ul>\n<pre><code class="language-javascript"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);\n<span class="hljs-keyword">const</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>;\ncanvas.<span class="hljs-property">width</span> = <span class="hljs-number">300</span> * dpr; <span class="hljs-comment">// 物理像素 = DIPs × DPR</span>\ncanvas.<span class="hljs-property">height</span> = <span class="hljs-number">150</span> * dpr;\n<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>);\nctx.<span class="hljs-title function_">scale</span>(dpr, dpr); <span class="hljs-comment">// 保持绘图逻辑基于 DIPs</span>\n</code></pre>\n<hr>\n<p><strong>5. 总结</strong></p>\n<table>\n<thead>\n<tr>\n<th>场景</th>\n<th>物理像素</th>\n<th>设备独立像素（DIPs）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>定义</td>\n<td>硬件最小发光点。</td>\n<td>跨设备统一的视觉单位。</td>\n</tr>\n<tr>\n<td>Canvas 位图</td>\n<td>✅ 直接存储（<code>canvas.width/height</code>）。</td>\n<td>❌ 需通过 DPR 转换适配。</td>\n</tr>\n<tr>\n<td>CSS/UI 设计</td>\n<td>❌ 不直接使用。</td>\n<td>✅ 默认单位（如 <code>px</code> 实际是 DIPs）。</td>\n</tr>\n</tbody>\n</table>\n<p>关键结论：</p>\n<ul>\n<li>\n<p>物理像素是绝对的，决定图像细节。</p>\n</li>\n<li>\n<p>DIPs 是相对的，保证视觉一致性。</p>\n</li>\n<li>\n<p>Canvas 开发需主动处理 DPR，否则高清屏显示模糊。</p>\n</li>\n</ul>\n</div>'</script></body></html>