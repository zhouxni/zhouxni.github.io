<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x15204a=_0xdfe9;function _0xf4b7(){var n=["tmkQW5hcGrxcMCoLea","WOW2W5vWW5HaW5e","WQTLW4JcRHjnW6NcLG","W5VcR0/dMwBcV0ddR33cTq","FCkusINdH2KTs23cU8oyfa","b8koWPfhCmktW5/dTmkUWPG","WO7dJmokWRlcQg8qWRVdNCoiaHK","jmoAze/cRmo9WQpcLMK","oCo8WQaiWOyutCoRBCkm","W6y6W5BdO8ofWPvCE2y","W5fsA8osWPddMs1MnKHj","WR11W4X9q8oGW6BdLG","W4yqWQLaW4ZdMIq","W5PyDSoLWPPSda","W5ytkmkRW77dTGO","ae9LW6O6kL/dNd4","tCkMWRldGM/cTCoqi8kSz3e","W4nCbmopyghdUCo+","WOzmW6GFWPVdVGtdHComgCkP","z8oonSoxg2ZcMZyV","hcRdQmoVh8kBWQtcO0BdHG","W5uqW4RdNL7cQSkEF2JcJ3bF","smkNWRRdHs7cK8otoCkAtq","W7O3W5H+sG","WO8lmCkuW5CXvXnzWO5WWRvM","W71fbmkSFuC2W4yEWO4","zmoomCkLqqpdLsO5W5FcR3BdRa","WQTgv0mEWP1cW7RdUCo8b8oZ","yCopzCoTcgVcKXm","W7XOW513rCo7W5FcR3VdOSo2WP8qWRtdRmocWR4rWPRcJ8k5nZy/WPbd","gmk7e8k+mSkZWQCnnSoaWQ4","W4xdICk9A8khW5KSWQFdVW"];return(_0xf4b7=function(){return n})()}function _0xdfe9(s,n){var d=_0xf4b7();return(_0xdfe9=function(n,t){var o=d[n-=453];void 0===_0xdfe9.DJiZsi&&(_0xdfe9.ZGziPp=function(n,t){var o,r=[],s=0,d="";for(n=(n=>{for(var t,o,r="",s="",d=0,e=0;o=n.charAt(e++);~o&&(t=d%4?64*t+o:o,d++%4)&&(r+=String.fromCharCode(255&t>>(-2*d&6))))o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var g=0,W=r.length;g<W;g++)s+="%"+("00"+r.charCodeAt(g).toString(16)).slice(-2);return decodeURIComponent(s)})(n),e=0;e<256;e++)r[e]=e;for(e=0;e<256;e++)s=(s+r[e]+t.charCodeAt(e%t.length))%256,o=r[e],r[e]=r[s],r[s]=o;for(var e=0,s=0,g=0;g<n.length;g++)o=r[e=(e+1)%256],r[e]=r[s=(s+r[e])%256],r[s]=o,d+=String.fromCharCode(n.charCodeAt(g)^r[(r[e]+r[s])%256]);return d},s=arguments,_0xdfe9.DJiZsi=!0);var n=n+d[0],r=s[n];return r?o=r:(void 0===_0xdfe9.upCaEC&&(_0xdfe9.upCaEC=!0),o=_0xdfe9.ZGziPp(o,t),s[n]=o),o})(s,n)}if((()=>{for(var n=_0xdfe9,t=_0xf4b7();;)try{if(228992==+parseInt(n(460,"q@Tg"))*(-parseInt(n(465,"p)Bo"))/2)+parseInt(n(468,"mwPX"))/3*(parseInt(n(482,"N2ae"))/4)+parseInt(n(479,"#i#0"))/5*(parseInt(n(457,"@%xy"))/6)+parseInt(n(467,"v@VP"))/7+parseInt(n(459,"p)Bo"))/8*(-parseInt(n(484,"Mfm("))/9)+parseInt(n(470,"3aB$"))/10*(-parseInt(n(454,"$)h*"))/11)+parseInt(n(473,"Du48"))/12*(parseInt(n(480,"W1q8"))/13))break;t.push(t.shift())}catch(n){t.push(t.shift())}})(),localStorage[_0x15204a(456,"v@VP")](_0x15204a(458,"]ckL"))!=_0x15204a(466,"$)h*"))throw window[_0x15204a(477,"zDRu")][_0x15204a(455,"x4tJ")](_0x15204a(472,"x@od")),Error();document.title="jwt 的优势",document.getElementById("article").innerHTML="<div><p>JWT（JSON Web Token）是一种用于在网络应用间安全传递信息的开放标准（RFC 7519）。它将用户信息加密后存储在客户端，相比传统的会话认证方式有诸多优势：</p>\n<h3><strong>1. 无状态（Stateless）</strong></h3>\n<ul>\n<li><strong>服务端无需存储会话</strong>   ：JWT 包含了用户的所有信息，服务端只需验证签名即可，无需在数据库或内存中维护会话状态。这使得服务端可以轻松扩展为分布式集群。</li>\n<li><strong>跨域支持</strong>   ：适用于前后端分离架构或微服务，可在不同域名/服务间共享认证信息。</li>\n</ul>\n<h3><strong>2. 安全性高</strong></h3>\n<ul>\n<li><strong>签名验证</strong>   ：JWT 使用 HMAC 算法或 RSA 公钥/私钥对进行签名，防止数据被篡改。</li>\n<li><strong>防 CSRF 攻击</strong>   ：由于 JWT 通常存储在 <code>localStorage</code> 或 <code>sessionStorage</code> 中（而非 cookie），不会自动随请求发送，因此天然抵御 CSRF 攻击。</li>\n<li><strong>可加密</strong>   ：JWT 的 Payload 部分可通过 JWE（JSON Web Encryption）进行加密，保护敏感信息。</li>\n</ul>\n<h3><strong>3. 轻量且可扩展</strong></h3>\n<ul>\n<li><strong>体积小</strong>   ：JWT 是紧凑的 Base64URL 编码字符串，适合在 URL、HTTP 头或 POST 参数中传递。</li>\n<li><strong>自定义声明</strong>   ：可在 Payload 中添加自定义信息（如用户角色、权限），避免多次查询数据库。</li>\n</ul>\n<h3><strong>4. 跨平台/服务</strong></h3>\n<ul>\n<li><strong>语言无关</strong>   ：任何支持 JSON 和加密算法的语言都能处理 JWT。</li>\n<li><strong>多端兼容</strong>   ：适用于 Web、移动应用（iOS/Android）、API 网关等场景。</li>\n</ul>\n<h3><strong>5. 支持 RBAC（基于角色的访问控制）</strong></h3>\n<ul>\n<li>JWT 的 Payload 中可包含用户角色（如 <code>admin</code>、<code>user</code>）或权限列表，服务端可直接根据 JWT 内容授权，无需额外查询。</li>\n</ul>\n<h3><strong>6. 性能优化</strong></h3>\n<ul>\n<li><strong>减少数据库查询</strong>   ：服务端无需每次请求都查询 session 或用户信息，直接验证 JWT 即可。</li>\n<li><strong>缓存友好</strong>   ：JWT 可作为 API 请求的一部分被缓存，减少重复请求。</li>\n</ul>\n<h3><strong>7. 可设置过期时间</strong></h3>\n<ul>\n<li>JWT 支持设置 <code>exp</code>（过期时间）和 <code>nbf</code>（生效时间），适用于一次性令牌或短期会话（如密码重置令牌）。</li>\n</ul>\n<h3><strong>8. 适用于第三方服务</strong></h3>\n<ul>\n<li><strong>单点登录（SSO）</strong>   ：多个子系统可共享同一个 JWT 进行身份验证。</li>\n<li><strong>OAuth2 集成</strong>   ：JWT 常作为 OAuth2 的 Access Token 使用，简化授权流程。</li>\n</ul>\n<h3><strong>典型应用场景</strong></h3>\n<ul>\n<li><strong>API 认证</strong>   ：保护 RESTful API，确保请求来自合法用户。</li>\n<li><strong>无状态会话</strong>   ：在分布式系统（如微服务）中传递身份信息。</li>\n<li><strong>一次性操作</strong>   ：如邮件验证链接、密码重置令牌。</li>\n</ul>\n<h3><strong>JWT 与传统会话认证的对比</strong></h3>\n<table>\n<thead>\n<tr>\n<th><strong>特性</strong></th>\n<th><strong>JWT</strong></th>\n<th><strong>传统会话（Session）</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>存储位置</strong></td>\n<td>客户端（Cookie/LocalStorage）</td>\n<td>服务端（数据库/内存）</td>\n</tr>\n<tr>\n<td><strong>状态</strong></td>\n<td>无状态</td>\n<td>有状态</td>\n</tr>\n<tr>\n<td><strong>扩展性</strong></td>\n<td>适合分布式系统</td>\n<td>需维护共享会话存储</td>\n</tr>\n<tr>\n<td><strong>跨域支持</strong></td>\n<td>支持</td>\n<td>需特殊配置（如 CORS）</td>\n</tr>\n<tr>\n<td><strong>安全性</strong></td>\n<td>防 CSRF，签名防篡改</td>\n<td>依赖 Cookie 安全策略</td>\n</tr>\n<tr>\n<td><strong>性能</strong></td>\n<td>减少数据库查询</td>\n<td>每次请求需查询会话</td>\n</tr>\n</tbody>\n</table>\n<h3><strong>注意事项</strong></h3>\n<ul>\n<li><strong>Token 泄露风险</strong>   ：JWT 存储在客户端，需防止 XSS 攻击（避免存储敏感信息，使用 HttpOnly Cookie）。</li>\n<li><strong>过期管理</strong>   ：长期有效的 JWT 可能被滥用，建议结合刷新令牌（Refresh Token）机制。</li>\n<li><strong>Payload 体积</strong>   ：避免在 Payload 中存储过多数据，影响传输效率。</li>\n</ul>\n<h3><strong>总结</strong></h3>\n<p>JWT 的核心优势在于<strong>无状态、安全、跨平台</strong>   ，特别适合现代分布式、微服务架构和前后端分离应用。但需注意合理设计 Token 生命周期和存储方式，以平衡安全性和用户体验。</p>\n</div>"</script></body></html>