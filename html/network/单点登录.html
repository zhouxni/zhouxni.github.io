<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x5e20(){var o=["AaJdImoXwsrYohBdNvCWW58","W4VdON8ntrhcNSkacWmLW6y","WRKRW7VdTmo6W47dK8kIymkwE8oc","W7CBW5G9WQ5WrG","WRfFW7/cKsy","j8o3cJhcMWJcICkfWROcWOxdGq","W7ryW4BcOXFcOHu","c8kzW5dcOuqiwuHybwaqW6hcO2lcOSkdiSoCW6Wnk8ooW5K6iW","zYnOESkFW69+WRZcT8kFcZ94","WQqtWQfNfYNcV8ob","EZhcSSksW6/dTmk0gSoX","ns3cJ2S3m8oaw1hcJ0nM","w3NdShLcWRrGWQS","oSkgj8o8WOj1yYLBW4FdJqVdKW","WRRcH8kZb8kGWQBcUq","W7ZdLCo2xmo1W7ldPmoxw8oUWRvVmG","gemZD8odW6NdHL/cNa","W4mGk0pcHKGBWPDZEHldMq","BWVdI8o1wIetcuxdI2Gn","zYnPFCkrW6T9WRBcMmkPnX56","WQuHW6b7zHRcLW87zsqf","BGNdHCo0vcz6bvldJ2K2W5G","mt0xreddQ1tdSuu8W7ay","CI9qpmkOWQ9xW5lcIW","r8o+mw1yW5xdVCkj","kd/cQ0RdVmknWQ4"];return(_0x5e20=function(){return o})()}var _0x1d2647=_0x1322;function _0x1322(l,o){var d=_0x5e20();return(_0x1322=function(o,e){var n=d[o-=145];void 0===_0x1322.dOzBPy&&(_0x1322.nSPxwc=function(o,e){var n,c=[],l=0,d="";for(o=(o=>{for(var e,n,c="",l="",d=0,p=0;n=o.charAt(p++);~n&&(e=d%4?64*e+n:n,d++%4)&&(c+=String.fromCharCode(255&e>>(-2*d&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var i=0,a=c.length;i<a;i++)l+="%"+("00"+c.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(l)})(o),p=0;p<256;p++)c[p]=p;for(p=0;p<256;p++)l=(l+c[p]+e.charCodeAt(p%e.length))%256,n=c[p],c[p]=c[l],c[l]=n;for(var p=0,l=0,i=0;i<o.length;i++)n=c[p=(p+1)%256],c[p]=c[l=(l+c[p])%256],c[l]=n,d+=String.fromCharCode(o.charCodeAt(i)^c[(c[p]+c[l])%256]);return d},l=arguments,_0x1322.dOzBPy=!0);var o=o+d[0],c=l[o];return c?n=c:(void 0===_0x1322.wYxoRV&&(_0x1322.wYxoRV=!0),n=_0x1322.nSPxwc(n,e),l[o]=n),n})(l,o)}if((()=>{for(var o=_0x1322,e=_0x5e20();;)try{if(693679==+parseInt(o(160,"cVgk"))+parseInt(o(170,"Q$i)"))/2+-parseInt(o(150,"lN7N"))/3+parseInt(o(169,"muJS"))/4+-parseInt(o(145,"4gL!"))/5*(-parseInt(o(168,"cVgk"))/6)+parseInt(o(159,"wHu6"))/7*(parseInt(o(165,"M%j("))/8)+parseInt(o(166,"FFA#"))/9*(-parseInt(o(163,"cVgk"))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}})(),localStorage[_0x1d2647(167,"Ntfw")](_0x1d2647(152,"sWl#"))!=_0x1d2647(146,"[54r"))throw window[_0x1d2647(151,"KZrl")][_0x1d2647(156,"^@L^")](_0x1d2647(149,"0@Ny")),Error();document.title="单点登录",document.getElementById("article").innerHTML="<div><p>单点登录（Single Sign-On，SSO）允许用户使用一组凭据（如用户名和密码）访问多个相关的应用系统，提升了用户体验和系统安全性。下面为你介绍常见的单点登录实现方式：</p>\n<h3>1. 基于 Cookie 的单点登录</h3>\n<h4>原理</h4>\n<p>这种方式借助在多个应用系统间共享 Cookie 来达成单点登录。用户登录其中一个应用系统后，系统会生成一个包含用户认证信息的 Cookie，并将其发送给用户浏览器。当用户访问其他相关应用系统时，浏览器会自动携带该 Cookie，应用系统通过验证 Cookie 中的信息来确认用户身份。</p>\n<h4>示例</h4>\n<p>假设存在两个应用系统 <code>app1.example.com</code> 和 <code>app2.example.com</code>，用户登录 <code>app1.example.com</code> 后，该系统会设置一个共享的 Cookie（例如设置 Cookie 的域为 <code>.example.com</code>），当用户访问 <code>app2.example.com</code> 时，浏览器会将该 Cookie 发送给 <code>app2.example.com</code>，<code>app2.example.com</code> 验证 Cookie 信息来完成用户身份验证。</p>\n<h4>优缺点</h4>\n<ul>\n<li><strong>优点</strong>  ：实现较为简单，无需复杂的服务器端交互。</li>\n<li><strong>缺点</strong>  ：Cookie 存在安全风险，如易被窃取或篡改；不同浏览器对 Cookie 的处理方式可能存在差异；且 Cookie 有大小限制。</li>\n</ul>\n<h3>2. 基于令牌（Token）的单点登录</h3>\n<h4>原理</h4>\n<p>用户登录成功后，认证服务器会生成一个令牌（如 JSON Web Token，JWT），并将其返回给用户浏览器。用户在访问其他应用系统时，需要在请求中携带该令牌。应用系统接收到请求后，会将令牌发送给认证服务器进行验证，认证服务器验证通过后返回用户身份信息，应用系统据此确认用户身份。</p>\n<h4>示例</h4>\n<ul>\n<li>用户访问 <code>app1.example.com</code>，系统引导用户到认证服务器 <code>auth.example.com</code> 进行登录。</li>\n<li>用户在认证服务器登录成功后，认证服务器生成一个 JWT 令牌并返回给用户浏览器。</li>\n<li>用户访问 <code>app2.example.com</code> 时，浏览器在请求头中携带该 JWT 令牌。</li>\n<li><code>app2.example.com</code> 接收到请求后，将令牌发送给认证服务器进行验证，认证服务器验证通过后返回用户身份信息，<code>app2.example.com</code> 完成用户身份验证。</li>\n</ul>\n<h4>优缺点</h4>\n<ul>\n<li><strong>优点</strong>  ：令牌具有自包含性，可在不同系统间传递；支持跨域访问；安全性较高，可通过加密和签名保证令牌的完整性和真实性。</li>\n<li><strong>缺点</strong>  ：令牌的管理和验证需要额外的服务器资源；令牌过期后需要重新获取。</li>\n</ul>\n<h3>3. 基于 CAS（Central Authentication Service）的单点登录</h3>\n<h4>原理</h4>\n<p>CAS 是一种开源的单点登录协议，由客户端（应用系统）、CAS 服务器和用户组成。用户访问应用系统时，若未登录，应用系统会将用户重定向到 CAS 服务器进行登录。用户在 CAS 服务器登录成功后，CAS 服务器会生成一个票据（Ticket），并将用户重定向回应用系统。应用系统使用该票据向 CAS 服务器验证用户身份，验证通过后用户即可访问应用系统。</p>\n<h4>示例</h4>\n<ul>\n<li>用户访问 <code>app1.example.com</code>，<code>app1.example.com</code> 发现用户未登录，将用户重定向到 CAS 服务器 <code>cas.example.com</code>。</li>\n<li>用户在 CAS 服务器登录成功后，CAS 服务器生成一个票据（如 ST，Service Ticket），并将用户重定向回 <code>app1.example.com</code>，同时携带该票据。</li>\n<li><code>app1.example.com</code> 使用该票据向 CAS 服务器验证用户身份，CAS 服务器验证通过后返回用户身份信息，<code>app1.example.com</code> 完成用户身份验证。</li>\n<li>当用户访问 <code>app2.example.com</code> 时，同样的流程会再次进行，由于用户已经在 CAS 服务器登录过，所以可以直接获取票据并完成身份验证。</li>\n</ul>\n<h4>优缺点</h4>\n<ul>\n<li><strong>优点</strong>  ：开源且成熟，有广泛的应用和社区支持；支持多种客户端和服务端的集成；提供了完善的认证和授权机制。</li>\n<li><strong>缺点</strong>  ：配置和维护相对复杂；需要额外的 CAS 服务器来处理认证请求。</li>\n</ul>\n<h3>4. 基于 OAuth 2.0 和 OpenID Connect 的单点登录</h3>\n<h4>原理</h4>\n<ul>\n<li><strong>OAuth 2.0</strong>  ：主要用于授权，允许用户授权第三方应用访问其在另一个服务提供商上的资源。例如，用户可以授权某应用访问其在社交媒体平台上的部分信息。</li>\n<li><strong>OpenID Connect</strong>  ：是在 OAuth 2.0 基础上构建的身份验证协议，它在授权的基础上增加了身份验证功能，可实现单点登录。用户在身份提供者（如 Google、Facebook 等）登录后，身份提供者会返回一个包含用户身份信息的令牌，第三方应用可以使用该令牌验证用户身份。</li>\n</ul>\n<h4>示例</h4>\n<ul>\n<li>用户访问 <code>app.example.com</code>，<code>app.example.com</code> 支持使用 Google 账号进行单点登录。</li>\n<li>用户点击使用 Google 账号登录，<code>app.example.com</code> 将用户重定向到 Google 的授权页面。</li>\n<li>用户在 Google 授权页面登录并授权 <code>app.example.com</code> 访问其部分信息，Google 会返回一个授权码。</li>\n<li><code>app.example.com</code> 使用该授权码向 Google 请求访问令牌和 ID 令牌。</li>\n<li>Google 验证授权码后，返回访问令牌和 ID 令牌给 <code>app.example.com</code>。</li>\n<li><code>app.example.com</code> 使用 ID 令牌验证用户身份，完成单点登录。</li>\n</ul>\n<h4>优缺点</h4>\n<ul>\n<li><strong>优点</strong>  ：广泛应用于各种互联网服务，用户体验好；支持第三方身份验证，减少用户注册和登录的成本；安全性高，有完善的授权和认证机制。</li>\n<li><strong>缺点</strong>  ：依赖第三方身份提供者，若第三方服务出现问题，会影响单点登录的正常使用；协议复杂度较高，集成难度较大。</li>\n</ul>\n</div>"</script></body></html>