<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>var _0x5634f6=_0x14b3;function _0x14b3(d,o){var c=_0x2bf6();return(_0x14b3=function(o,e){var n=c[o-=420];void 0===_0x14b3.EGUwdJ&&(_0x14b3.SThUtA=function(o,e){var n,t=[],d=0,c="";for(o=(o=>{for(var e,n,t="",d="",c=0,a=0;n=o.charAt(a++);~n&&(e=c%4?64*e+n:n,c++%4)&&(t+=String.fromCharCode(255&e>>(-2*c&6))))n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var r=0,i=t.length;r<i;r++)d+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(d)})(o),a=0;a<256;a++)t[a]=a;for(a=0;a<256;a++)d=(d+t[a]+e.charCodeAt(a%e.length))%256,n=t[a],t[a]=t[d],t[d]=n;for(var a=0,d=0,r=0;r<o.length;r++)n=t[a=(a+1)%256],t[a]=t[d=(d+t[a])%256],t[d]=n,c+=String.fromCharCode(o.charCodeAt(r)^t[(t[a]+t[d])%256]);return c},d=arguments,_0x14b3.EGUwdJ=!0);var o=o+c[0],t=d[o];return t?n=t:(void 0===_0x14b3.XIeMpA&&(_0x14b3.XIeMpA=!0),n=_0x14b3.SThUtA(n,e),d[o]=n),n})(d,o)}if((()=>{for(var o=_0x14b3,e=_0x2bf6();;)try{if(786914==+parseInt(o(437,"t80p"))+parseInt(o(432,"A[lG"))/2*(-parseInt(o(428,"8tzR"))/3)+parseInt(o(429,"ZSi3"))/4+parseInt(o(435,"wi!f"))/5+parseInt(o(443,"dSqG"))/6+parseInt(o(436,"dSqG"))/7*(parseInt(o(424,"R]GV"))/8)+parseInt(o(422,"0@Fq"))/9*(-parseInt(o(438,"A[lG"))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}})(),localStorage[_0x5634f6(445,"^6V^")](_0x5634f6(426,"V0Q8"))!=_0x5634f6(423,"(LyA"))throw window[_0x5634f6(442,"NLE3")][_0x5634f6(441,"dSqG")](_0x5634f6(439,"V0Q8")),Error();function _0x2bf6(){var o=["W7dcL8k4emoefCkN","y8oMW7fRW6FcGeCVvmkcW7NcHmoGta","WQldLdRdPCoJW5VcSSox","fwaPtqRdP2tdNCkcc0dcR8kNW7W","tXhcJ8k4W7a","WQ/dJfS7u8kVW6FcLJuJD0RcJa","FSo3iaXFmSkvnSkJW53dHCoBpq","fvNcUmoRW5JcHxFcPCkN","tSkyp8kvESkio0uDFSkqW5a","sSkMiLxdOCk/ca","wSkYWRxcNSoum8oDW6ZdHmk5ebtcLa","W6icF8oADCoCnvhdHaWFW4JcPW","eSk0wCogWRRcNCog","W4r/WPavv8kaW4XwWP9tW5Xe","tSkofSkCWQq+W4/dPSoQWPpdIJXY","W4SmvxLnFSoZW5C","DGlcR8kwr8kbcmkKyWtcTrZcSq","y8ogDM4OWO8XAW","WPHSh8kDWQlcQ8kgW7mKA8kE","W4f4W4nlpCoeW4jD","pe7cR8o+W5JdJbpdR8kKW4LiW7vLDSo8oHVcKSkcWQ7dSe7dPby2WR0","lYNcSCoTW4pdU8kcxCk7WR4Eymo3","iSkwrgqHWPOc","WQFdISkTWOZcTmoYcIO","y8obad55W4LrwW5DWPFdP8o9","tSkhW7jZWRfHaLX0WQxdSW"];return(_0x2bf6=function(){return o})()}document.title="Cookie 会被浏览器自动携带",document.getElementById("article").innerHTML='<div><p>在Web开发中，<strong>Cookie 会被浏览器自动携带</strong>   ，这是其核心特性之一，也是实现身份认证、状态管理等功能的基础。以下是详细解释：</p>\n<h3>1. Cookie 自动携带的机制</h3>\n<p>当服务器通过 <code>Set-Cookie</code> 响应头向客户端（浏览器）设置Cookie后：</p>\n<ul>\n<li>浏览器会将Cookie保存在本地（内存或硬盘，取决于Cookie类型）。</li>\n<li>后续<strong>每次向该服务器发送请求时</strong>   ，浏览器会自动检查：\n<ul>\n<li>Cookie的 <code>Domain</code>（域名）是否匹配当前请求的域名。</li>\n<li>Cookie的 <code>Path</code>（路径）是否匹配当前请求的路径。</li>\n<li>Cookie是否过期（<code>Expires</code> 或 <code>Max-Age</code>）。</li>\n<li>是否满足 <code>Secure</code>（仅HTTPS传输）、<code>HttpOnly</code>（禁止JS访问）等属性限制。</li>\n</ul>\n</li>\n<li><strong>符合条件的Cookie</strong>   会被自动添加到请求头的 <code>Cookie</code> 字段中，发送给服务器。</li>\n</ul>\n<h3>2. 示例：自动携带的过程</h3>\n<h4>（1）服务器设置Cookie</h4>\n<pre><code class="language-http">// 响应头（服务器 → 浏览器）\n<span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK\n<span class="hljs-attribute">Set-Cookie</span><span class="hljs-punctuation">: </span>sessionId=abc123; Domain=example.com; Path=/; HttpOnly; Secure\n<span class="hljs-attribute">Set-Cookie</span><span class="hljs-punctuation">: </span>theme=dark; Domain=example.com; Path=/; Max-Age=31536000\n</code></pre>\n<h4>（2）浏览器自动携带Cookie</h4>\n<p>当浏览器向 <code>https://example.com/user</code> 发送请求时，请求头会自动包含：</p>\n<pre><code class="language-http">// 请求头（浏览器 → 服务器）\n<span class="hljs-keyword">GET</span> <span class="hljs-string">/user</span> <span class="hljs-meta">HTTP/1.1</span>\n<span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>example.com\n<span class="hljs-attribute">Cookie</span><span class="hljs-punctuation">: </span>sessionId=abc123; theme=dark  // 自动携带符合条件的Cookie\n</code></pre>\n<h3>3. 影响Cookie自动携带的关键属性</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n<th>对自动携带的影响</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Domain</code></td>\n<td>指定Cookie所属域名（如 <code>example.com</code> 或 <code>.example.com</code>）</td>\n<td>仅当请求域名与 <code>Domain</code> 匹配时携带（子域名可继承，如 <code>blog.example.com</code> 匹配 <code>.example.com</code>）</td>\n</tr>\n<tr>\n<td><code>Path</code></td>\n<td>指定Cookie生效的路径（如 <code>/admin</code>）</td>\n<td>仅当请求路径包含 <code>Path</code> 时携带（如 <code>/admin/user</code> 匹配 <code>/admin</code>）</td>\n</tr>\n<tr>\n<td><code>Expires</code>/<code>Max-Age</code></td>\n<td>设置过期时间（<code>Expires</code> 是绝对时间，<code>Max-Age</code> 是秒数）</td>\n<td>过期的Cookie不会被携带</td>\n</tr>\n<tr>\n<td><code>Secure</code></td>\n<td>仅在HTTPS连接中携带</td>\n<td>若请求是HTTP协议，即使Cookie存在也不会携带</td>\n</tr>\n<tr>\n<td><code>HttpOnly</code></td>\n<td>禁止JavaScript通过 <code>document.cookie</code> 访问（仅浏览器自动携带）</td>\n<td>不影响自动携带，但限制前端脚本操作Cookie，增强安全性</td>\n</tr>\n<tr>\n<td><code>SameSite</code></td>\n<td>限制跨站请求时的携带（<code>Strict</code>/<code>Lax</code>/<code>None</code>）</td>\n<td>- <code>Strict</code>：仅同站请求携带<br>- <code>Lax</code>：部分跨站请求（如导航）携带<br>- <code>None</code>：需配合<code>Secure</code>，所有请求携带</td>\n</tr>\n</tbody>\n</table>\n<h3>4. 特殊场景：Cookie不会自动携带</h3>\n<ul>\n<li>\n<p><strong>跨域请求且未满足CORS条件</strong>   ：<br>\n例如，<code>a.com</code> 的页面请求 <code>b.com</code>，若 <code>b.com</code> 的Cookie <code>Domain</code> 为 <code>b.com</code>，且CORS配置未允许，浏览器默认不携带Cookie。需通过 <code>withCredentials: true</code>（前端）和 <code>Access-Control-Allow-Credentials: true</code>（后端）开启跨域携带。</p>\n</li>\n<li>\n<p><strong>Cookie属性限制</strong>   ：<br>\n如 <code>Secure: true</code> 的Cookie在HTTP请求中不携带，<code>Path: /admin</code> 的Cookie在访问 <code>/home</code> 时不携带。</p>\n</li>\n<li>\n<p><strong>Cookie已过期或被删除</strong>   ：<br>\n浏览器会自动清理过期Cookie，删除后的Cookie自然不会携带。</p>\n</li>\n</ul>\n<h3>5. 应用场景</h3>\n<p>Cookie的自动携带特性被广泛用于：</p>\n<ul>\n<li><strong>身份认证</strong>   ：登录后服务器设置 <code>sessionId</code> Cookie，后续请求自动携带以验证用户身份。</li>\n<li><strong>状态保持</strong>   ：记住用户偏好（如主题、语言）、购物车信息等。</li>\n<li><strong>追踪分析</strong>   ：记录用户行为（需遵守隐私法规）。</li>\n</ul>\n<p>总结：Cookie的自动携带是浏览器的内置机制，由其属性（<code>Domain</code>、<code>Path</code>、<code>SameSite</code>等）控制范围，开发者无需手动在请求中添加Cookie，极大简化了Web状态管理。</p>\n</div>'</script></body></html>