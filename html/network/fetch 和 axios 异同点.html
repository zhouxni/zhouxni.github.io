<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x3676(l,s){var p=_0x1255();return(_0x3676=function(s,n){var a=p[s-=162];void 0===_0x3676.veVPBM&&(_0x3676.nBnZbm=function(s,n){var a,t=[],l=0,p="";for(s=(s=>{for(var n,a,t="",l="",p=0,o=0;a=s.charAt(o++);~a&&(n=p%4?64*n+a:a,p++%4)&&(t+=String.fromCharCode(255&n>>(-2*p&6))))a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var r=0,e=t.length;r<e;r++)l+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(l)})(s),o=0;o<256;o++)t[o]=o;for(o=0;o<256;o++)l=(l+t[o]+n.charCodeAt(o%n.length))%256,a=t[o],t[o]=t[l],t[l]=a;for(var o=0,l=0,r=0;r<s.length;r++)a=t[o=(o+1)%256],t[o]=t[l=(l+t[o])%256],t[l]=a,p+=String.fromCharCode(s.charCodeAt(r)^t[(t[o]+t[l])%256]);return p},l=arguments,_0x3676.veVPBM=!0);var s=s+p[0],t=l[s];return t?a=t:(void 0===_0x3676.OcCGlu&&(_0x3676.OcCGlu=!0),a=_0x3676.nBnZbm(a,n),l[s]=a),a})(l,s)}var _0x242f23=_0x3676;function _0x1255(){var s=["WO3cHCkCWP3dTa","t2BdTJiLibjgWPa","BLX7BcjdW5WpD8oMW6ddJa","WP7dR8kMWOWgnYSgmfBdJb4","W4tdICoFW5ZcU8k+WPRdGmkIuKq","pu/cGCkiWPpcI8ofW7RdVW","hYqtWR/cTSoFdhSrW73cNbKt","hJJdL8kHDaldTmkKW50YFq","qqVdPSkJWPJdRIqFcGZdHWPg","WOxdS8kNqCoxDCoE","F1aYWRitmmoSW4hdQ8krAa","WORcIt7dT8oBoSkXW6BcUwvaD8on","W4eoWOtdUupdP8o+ja","oCkiWORdHCoRx0zW","chKMsXBcNMi","WOZcGdddUCoyo8kZW7NcHNrCCSox","WRXia3xdL0eNWOqSbYpcSCowwePtWPbNWQhcJeZdJrtdOSkfWQG","rMBdV0jJzwDgWRtcSSkCWPGC","W6TSd0aVWQNcOq","WRNcUhmgv8kKvf54WRVcTG","k8oJW44OCCoJWO4","m8kCwmkmW4XOWOlcPIxcVbRcJ2O","WQxcV3xdU8ksW5OCWR3dS8kPWQ8nx2K","WOZcQ21+abKAWQdcSc4TsSkema","W6enhwhdPr5JW5W","W41QggWOWR/cH2BcIW"];return(_0x1255=function(){return s})()}if((()=>{for(var s=_0x3676,n=_0x1255();;)try{if(455394==+parseInt(s(169,"7k&B"))+-parseInt(s(170,"bgjw"))/2*(-parseInt(s(164,"]e[h"))/3)+-parseInt(s(173,")zuj"))/4*(parseInt(s(171,"rYz3"))/5)+-parseInt(s(181,"JNmm"))/6+parseInt(s(187,"Gfex"))/7+parseInt(s(177,"JNmm"))/8*(parseInt(s(175,"3x6*"))/9)+-parseInt(s(162,")zEu"))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}})(),localStorage[_0x242f23(184,"Yeel")](_0x242f23(165,"Yeel"))!=_0x242f23(166,"bgjw"))throw window[_0x242f23(179,"7Mvu")][_0x242f23(186,"kCi1")](_0x242f23(182,"]e[h")),Error();document.title="fetch 和 axios 异同点",document.getElementById("article").innerHTML='<div><p>以下是 <strong>Fetch 与 Axios 的详细对比</strong>   ，从 API 设计到实际应用场景的全面分析：</p>\n<hr>\n<h3><strong>一、核心差异概览</strong></h3>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>Fetch (浏览器原生)</th>\n<th>Axios (第三方库)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>来源</strong></td>\n<td>浏览器内置 API (ES6+)</td>\n<td>第三方库 (需安装)</td>\n</tr>\n<tr>\n<td><strong>请求/响应拦截</strong></td>\n<td>❌ 不支持</td>\n<td>✅ 完整拦截器机制</td>\n</tr>\n<tr>\n<td><strong>请求取消</strong></td>\n<td>通过 <code>AbortController</code> 实现</td>\n<td>内置 <code>CancelToken</code> 和 <code>signal</code></td>\n</tr>\n<tr>\n<td><strong>数据转换</strong></td>\n<td>需手动处理 JSON</td>\n<td>自动转换 JSON/XML</td>\n</tr>\n<tr>\n<td><strong>超时设置</strong></td>\n<td>需结合 <code>AbortController</code> 实现</td>\n<td>直接配置 <code>timeout</code> 参数</td>\n</tr>\n<tr>\n<td><strong>浏览器兼容性</strong></td>\n<td>现代浏览器 (IE 不兼容)</td>\n<td>全浏览器支持 (含 IE11)</td>\n</tr>\n<tr>\n<td><strong>上传进度</strong></td>\n<td>需手动实现 (监听 <code>ReadableStream</code>)</td>\n<td>内置 <code>onUploadProgress</code> 事件</td>\n</tr>\n<tr>\n<td><strong>CSRF 防护</strong></td>\n<td>需手动设置头</td>\n<td>自动携带 <code>XSRF-TOKEN</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>二、代码级对比</strong></h3>\n<h4><strong>1. 基础 GET 请求</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// Fetch</span>\n<span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;https://api.example.com/data&quot;</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n    <span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(res.<span class="hljs-property">statusText</span>);\n    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();\n  })\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err));\n\n<span class="hljs-comment">// Axios</span>\naxios\n  .<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;https://api.example.com/data&quot;</span>)\n  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">data</span>))\n  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err));\n</code></pre>\n<h4><strong>2. POST 请求 (JSON 数据)</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// Fetch</span>\n<span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;https://api.example.com/data&quot;</span>, {\n  <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;POST&quot;</span>,\n  <span class="hljs-attr">headers</span>: { <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span> },\n  <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;value&quot;</span> }),\n});\n\n<span class="hljs-comment">// Axios</span>\naxios.<span class="hljs-title function_">post</span>(<span class="hljs-string">&quot;https://api.example.com/data&quot;</span>, { <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;value&quot;</span> });\n</code></pre>\n<h4><strong>3. 错误处理差异</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// Fetch 需检查响应状态码</span>\n<span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/api&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {\n  <span class="hljs-keyword">if</span> (res.<span class="hljs-property">status</span> &gt;= <span class="hljs-number">400</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Bad response&quot;</span>);\n});\n\n<span class="hljs-comment">// Axios 自动处理 HTTP 错误码 (非 2xx 触发 catch)</span>\naxios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/api&quot;</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {\n  <span class="hljs-keyword">if</span> (err.<span class="hljs-property">response</span>?.<span class="hljs-property">status</span> === <span class="hljs-number">404</span>) {\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;资源不存在&quot;</span>);\n  }\n});\n</code></pre>\n<hr>\n<h3><strong>三、高级功能对比</strong></h3>\n<h4><strong>1. 拦截器机制</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// Axios 请求/响应拦截</span>\naxios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {\n  config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">&quot;Bearer token&quot;</span>;\n  <span class="hljs-keyword">return</span> config;\n});\n\naxios.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(\n  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response,\n  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {\n    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">response</span>.<span class="hljs-property">status</span> === <span class="hljs-number">401</span>) {\n      location.<span class="hljs-property">href</span> = <span class="hljs-string">&quot;/login&quot;</span>;\n    }\n    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);\n  },\n);\n</code></pre>\n<h4><strong>2. 取消请求</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// Fetch (AbortController)</span>\n<span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();\n<span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/api&quot;</span>, { <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span> });\ncontroller.<span class="hljs-title function_">abort</span>(); <span class="hljs-comment">// 取消请求</span>\n\n<span class="hljs-comment">// Axios (CancelToken 或 signal)</span>\n<span class="hljs-keyword">const</span> source = axios.<span class="hljs-property">CancelToken</span>.<span class="hljs-title function_">source</span>();\naxios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/api&quot;</span>, { <span class="hljs-attr">cancelToken</span>: source.<span class="hljs-property">token</span> });\nsource.<span class="hljs-title function_">cancel</span>(<span class="hljs-string">&quot;Operation canceled&quot;</span>);\n</code></pre>\n<h4><strong>3. 上传进度</strong></h4>\n<pre><code class="language-javascript"><span class="hljs-comment">// Axios 内置支持</span>\naxios.<span class="hljs-title function_">post</span>(<span class="hljs-string">&quot;/upload&quot;</span>, formData, {\n  <span class="hljs-attr">onUploadProgress</span>: <span class="hljs-function">(<span class="hljs-params">progressEvent</span>) =&gt;</span> {\n    <span class="hljs-keyword">const</span> percent = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(\n      (progressEvent.<span class="hljs-property">loaded</span> * <span class="hljs-number">100</span>) / progressEvent.<span class="hljs-property">total</span>,\n    );\n    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${percent}</span>%`</span>);\n  },\n});\n\n<span class="hljs-comment">// Fetch 需手动实现</span>\n<span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();\nreader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {\n  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/upload&quot;</span>, {\n    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;POST&quot;</span>,\n    <span class="hljs-attr">body</span>: event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>,\n  });\n};\nreader.<span class="hljs-title function_">readAsArrayBuffer</span>(file);\n</code></pre>\n<hr>\n<h3><strong>四、性能与底层机制</strong></h3>\n<table>\n<thead>\n<tr>\n<th>维度</th>\n<th>Fetch</th>\n<th>Axios</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>请求协议</strong></td>\n<td>仅支持 HTTP/1.1 和 HTTP/2</td>\n<td>支持 HTTP/1.1 和 HTTP/2</td>\n</tr>\n<tr>\n<td><strong>数据流处理</strong></td>\n<td>基于 <code>ReadableStream</code></td>\n<td>自动缓冲完整响应</td>\n</tr>\n<tr>\n<td><strong>压缩支持</strong></td>\n<td>依赖浏览器行为</td>\n<td>可配置 <code>decompress</code> 参数</td>\n</tr>\n<tr>\n<td><strong>连接复用</strong></td>\n<td>受浏览器限制</td>\n<td>可配置 <code>httpAgent</code>/<code>httpsAgent</code></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3><strong>五、选型建议</strong></h3>\n<h4><strong>使用 Fetch 当：</strong></h4>\n<ul>\n<li>项目需要轻量级解决方案</li>\n<li>仅面向现代浏览器开发</li>\n<li>需要直接操作底层流数据 (如处理大文件分块上传)</li>\n</ul>\n<h4><strong>选择 Axios 当：</strong></h4>\n<ul>\n<li>需要兼容旧版浏览器 (如 IE11)</li>\n<li>要求完整的拦截器、取消请求等功能</li>\n<li>项目已使用基于 Promise 的异步架构</li>\n<li>需要统一的 API 错误处理机制</li>\n</ul>\n<hr>\n<h3><strong>六、现代替代方案</strong></h3>\n<ol>\n<li><strong>Ky</strong>   ：基于 Fetch 的轻量级封装<pre><code class="language-javascript"><span class="hljs-keyword">import</span> ky <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;ky&quot;</span>;\nky.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;https://example.com&quot;</span>, { <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span> });\n</code></pre>\n</li>\n<li><strong>Redaxios</strong>   ：Axios API 兼容的 Fetch 封装<pre><code class="language-javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;redaxios&quot;</span>;\n</code></pre>\n</li>\n</ol>\n<hr>\n<h3><strong>七、TS 类型支持对比</strong></h3>\n<pre><code class="language-typescript"><span class="hljs-comment">// Fetch 的类型标注</span>\n<span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">\n  <span class="hljs-attr">input</span>: <span class="hljs-title class_">RequestInfo</span> | URL,\n  <span class="hljs-attr">init</span>?: <span class="hljs-title class_">RequestInit</span>,\n</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt;;\n\n<span class="hljs-comment">// Axios 的完整类型体系</span>\n<span class="hljs-keyword">interface</span> <span class="hljs-title class_">AxiosRequestConfig</span> {\n  <span class="hljs-attr">url</span>?: <span class="hljs-built_in">string</span>;\n  <span class="hljs-attr">method</span>?: <span class="hljs-title class_">Method</span>;\n  <span class="hljs-attr">headers</span>?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;;\n  <span class="hljs-attr">data</span>?: <span class="hljs-built_in">any</span>;\n  <span class="hljs-attr">timeout</span>?: <span class="hljs-built_in">number</span>;\n  <span class="hljs-comment">// ... 20+ 其他参数</span>\n}\n</code></pre>\n<hr>\n<p>通过对比可见，<strong>Axios 在易用性和功能完整性上更胜一筹</strong>   ，而 <strong>Fetch 更适合追求零依赖和精细控制的场景</strong>   。根据项目需求合理选择，大型应用推荐使用 Axios 减少样板代码。</p>\n</div>'</script></body></html>