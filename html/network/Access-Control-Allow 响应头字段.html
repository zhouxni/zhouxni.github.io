<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Document</title><link rel="stylesheet" href="../../css/github-markdown.min.css"><link rel="stylesheet" href="../../css/github.min.css"><style>body,html{margin:0;padding:0}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto!important;padding:45px 15px}.markdown-body pre{border:1px solid #e5e5e5!important;margin-top:var(--base-size-16)!important}</style></head><body><article id="article" class="markdown-body"></article><script>function _0x364d(){var o=["WPpdPbNcQmkRWR7cTSkcWQToWRv5W7mc","W5BdJcayW6HnoYXuW5KFft4","WPP/W7tcSLKuzZ7cU8oQW6JdIcy","WQWjr8kQWPdcTmo0WRa+WPe5uhTc","WQ3dGN/dRmkdDgnlW7C","gWZcKCoYrCktzL0","fmk0smkum8oSrCkjW4dcGsu","bCoMkmk8kcS/W4LRW70TW5G","WOymjWfMxSkcWPO","dInaW7DIWPGm","WOj2zSoFbmowAcT5FmoIymo+","WOKWcYChruBcKXf3mSodaG","W6yBWQ5ob2q9WOZcLqfECmoV","b8oKlmk2j1ueW59pW6yr","CCkDxmoxW5uNWPhcRdrAW7GjWQy","h8kCW6RdPCkGWRqLW5STndiYlSonW74OiCoxCxFcJSoIW63dMg3dOW","wKVcQSo0rq","WO9HEHaFimkQsmk9lSoXWQy","c8kMACkibZ3dLmoVmSkYW7pcVwW","whr8W4TVWRWXWOK","eCkYs8kupSkxbCkOW6xcLIjRWOe","W5dcSL7dTSo4W6xdOq"];return(_0x364d=function(){return o})()}function _0x3c79(c,o){var d=_0x364d();return(_0x3c79=function(o,n){var e=d[o-=475];void 0===_0x3c79.xbZURV&&(_0x3c79.cNBCHK=function(o,n){var e,t=[],c=0,d="";for(o=(o=>{for(var n,e,t="",c="",d=0,s=0;e=o.charAt(s++);~e&&(n=d%4?64*n+e:e,d++%4)&&(t+=String.fromCharCode(255&n>>(-2*d&6))))e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var l=0,r=t.length;l<r;l++)c+="%"+("00"+t.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(c)})(o),s=0;s<256;s++)t[s]=s;for(s=0;s<256;s++)c=(c+t[s]+n.charCodeAt(s%n.length))%256,e=t[s],t[s]=t[c],t[c]=e;for(var s=0,c=0,l=0;l<o.length;l++)e=t[s=(s+1)%256],t[s]=t[c=(c+t[s])%256],t[c]=e,d+=String.fromCharCode(o.charCodeAt(l)^t[(t[s]+t[c])%256]);return d},c=arguments,_0x3c79.xbZURV=!0);var o=o+d[0],t=c[o];return t?e=t:(void 0===_0x3c79.jSzdFv&&(_0x3c79.jSzdFv=!0),e=_0x3c79.cNBCHK(e,n),c[o]=e),e})(c,o)}var _0x18dd85=_0x3c79;if((()=>{for(var o=_0x3c79,n=_0x364d();;)try{if(644604==-parseInt(o(480,"X99Y"))+-parseInt(o(490,"MFW^"))/2*(-parseInt(o(491,"P&lE"))/3)+parseInt(o(496,"0zNI"))/4+-parseInt(o(487,"N7Id"))/5+-parseInt(o(481,"tijt"))/6+-parseInt(o(486,"]Nz*"))/7+parseInt(o(485,"UQh!"))/8)break;n.push(n.shift())}catch(o){n.push(n.shift())}})(),localStorage[_0x18dd85(494,"1@@g")](_0x18dd85(489,"bdDj"))!=_0x18dd85(479,"MFW^"))throw window[_0x18dd85(493,"exC0")][_0x18dd85(484,"UQh!")](_0x18dd85(478,"2*oT")),Error();document.title="Access-Control-Allow 响应头字段",document.getElementById("article").innerHTML='<div><p>在跨域资源共享（CORS）中，<code>Access-Control-Allow-*</code> 是服务器用于控制浏览器是否允许跨域请求的响应头字段。以下是完整的字段列表及其作用：</p>\n<h3>核心CORS响应头字段</h3>\n<h4>1. <code>Access-Control-Allow-Origin</code></h4>\n<ul>\n<li><strong>作用</strong>   ：指定允许跨域访问的源（域名）。</li>\n<li><strong>值</strong>   ：\n<ul>\n<li>具体域名（如 <code>https://example.com</code>）</li>\n<li>通配符 <code>*</code>（允许所有域名，但不能与 <code>Credentials</code> 同时使用）</li>\n</ul>\n</li>\n<li><strong>示例</strong>   ：<pre><code class="language-http"><span class="hljs-attribute">Access-Control-Allow-Origin</span><span class="hljs-punctuation">: </span>https://example.com\n</code></pre>\n</li>\n</ul>\n<h4>2. <code>Access-Control-Allow-Credentials</code></h4>\n<ul>\n<li><strong>作用</strong>   ：允许跨域请求携带身份凭证（如Cookie、HTTP认证）。</li>\n<li><strong>值</strong>   ：<code>true</code>（必须为布尔值，不能是其他值）</li>\n<li><strong>注意</strong>   ：\n<ul>\n<li>若设置为 <code>true</code>，则 <code>Access-Control-Allow-Origin</code> 不能为 <code>*</code>，必须指定具体域名。</li>\n<li>前端需配合 <code>withCredentials: true</code>（如 <code>fetch</code>、<code>XMLHttpRequest</code>）。</li>\n</ul>\n</li>\n<li><strong>示例</strong>   ：<pre><code class="language-http"><span class="hljs-attribute">Access-Control-Allow-Origin</span><span class="hljs-punctuation">: </span>https://example.com\n<span class="hljs-attribute">Access-Control-Allow-Credentials</span><span class="hljs-punctuation">: </span>true\n</code></pre>\n</li>\n</ul>\n<h4>3. <code>Access-Control-Allow-Methods</code></h4>\n<ul>\n<li><strong>作用</strong>   ：指定允许的HTTP方法（针对预检请求 <code>OPTIONS</code>）。</li>\n<li><strong>值</strong>   ：逗号分隔的方法名（如 <code>GET, POST, PUT, DELETE</code>）。</li>\n<li><strong>示例</strong>   ：<pre><code class="language-http"><span class="hljs-attribute">Access-Control-Allow-Methods</span><span class="hljs-punctuation">: </span>GET, POST, OPTIONS\n</code></pre>\n</li>\n</ul>\n<h4>4. <code>Access-Control-Allow-Headers</code></h4>\n<ul>\n<li><strong>作用</strong>   ：指定允许的请求头字段（针对预检请求 <code>OPTIONS</code>）。</li>\n<li><strong>值</strong>   ：逗号分隔的头字段名（如 <code>Content-Type, Authorization</code>）。</li>\n<li><strong>示例</strong>   ：<pre><code class="language-http"><span class="hljs-attribute">Access-Control-Allow-Headers</span><span class="hljs-punctuation">: </span>Content-Type, X-Custom-Header\n</code></pre>\n</li>\n</ul>\n<h4>5. <code>Access-Control-Max-Age</code></h4>\n<ul>\n<li><strong>作用</strong>   ：指定预检请求（<code>OPTIONS</code>）的缓存时间（秒），减少重复预检。</li>\n<li><strong>值</strong>   ：整数（如 <code>86400</code> 表示24小时）。</li>\n<li><strong>示例</strong>   ：<pre><code class="language-http"><span class="hljs-attribute">Access-Control-Max-Age</span><span class="hljs-punctuation">: </span>3600\n</code></pre>\n</li>\n</ul>\n<h3>辅助CORS响应头字段</h3>\n<h4>6. <code>Access-Control-Expose-Headers</code></h4>\n<ul>\n<li><strong>作用</strong>   ：指定允许前端通过 <code>response.headers</code> 访问的响应头字段。</li>\n<li><strong>默认</strong>   ：仅允许访问简单响应头（<code>Cache-Control</code>、<code>Content-Language</code>、<code>Content-Type</code>、<code>Expires</code>、<code>Last-Modified</code>、<code>Pragma</code>）。</li>\n<li><strong>示例</strong>   ：<pre><code class="language-http"><span class="hljs-attribute">Access-Control-Expose-Headers</span><span class="hljs-punctuation">: </span>X-Total-Count, Link\n</code></pre>\n</li>\n</ul>\n<h3>字段使用场景总结</h3>\n<table>\n<thead>\n<tr>\n<th>字段</th>\n<th>必选？</th>\n<th>适用请求类型</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Access-Control-Allow-Origin</code></td>\n<td>✅</td>\n<td>所有跨域请求</td>\n<td>控制允许的源（域名）</td>\n</tr>\n<tr>\n<td><code>Access-Control-Allow-Credentials</code></td>\n<td>❌</td>\n<td>需要携带凭证的请求</td>\n<td>允许跨域携带Cookie、认证信息等</td>\n</tr>\n<tr>\n<td><code>Access-Control-Allow-Methods</code></td>\n<td>❌</td>\n<td>预检请求（<code>OPTIONS</code>）</td>\n<td>指定允许的HTTP方法（如POST、PUT）</td>\n</tr>\n<tr>\n<td><code>Access-Control-Allow-Headers</code></td>\n<td>❌</td>\n<td>预检请求（<code>OPTIONS</code>）</td>\n<td>指定允许的自定义请求头（如 <code>Content-Type</code>）</td>\n</tr>\n<tr>\n<td><code>Access-Control-Max-Age</code></td>\n<td>❌</td>\n<td>预检请求（<code>OPTIONS</code>）</td>\n<td>缓存预检结果，减少重复请求</td>\n</tr>\n<tr>\n<td><code>Access-Control-Expose-Headers</code></td>\n<td>❌</td>\n<td>普通响应</td>\n<td>允许前端访问的自定义响应头</td>\n</tr>\n</tbody>\n</table>\n<h3>常见错误与注意事项</h3>\n<ol>\n<li>\n<p><strong><code>*</code> 与凭证冲突</strong>   ：<br>\n若需要携带凭证（<code>Access-Control-Allow-Credentials: true</code>），则 <code>Access-Control-Allow-Origin</code> 不能为 <code>*</code>，必须指定具体域名。</p>\n</li>\n<li>\n<p><strong>预检请求触发条件</strong>   ：<br>\n非简单请求（如 <code>PUT</code>、<code>DELETE</code>，或自定义请求头、<code>Content-Type</code> 非简单类型）会触发预检请求（<code>OPTIONS</code>），需正确配置 <code>Access-Control-Allow-Methods</code> 和 <code>Access-Control-Allow-Headers</code>。</p>\n</li>\n<li>\n<p><strong>浏览器兼容性</strong>   ：<br>\n<code>SameSite=None</code> 需配合 <code>Secure</code>（HTTPS），否则部分浏览器（如Chrome 80+）会阻止Cookie发送。</p>\n</li>\n<li>\n<p><strong>安全风险</strong>   ：<br>\n过度宽松的配置（如 <code>Access-Control-Allow-Origin: *</code>）可能导致CSRF攻击，建议根据业务需求严格限制允许的源。</p>\n</li>\n</ol>\n<p>合理配置这些响应头字段，可确保跨域请求安全、可靠地工作。</p>\n</div>'</script></body></html>